<!DOCTYPE html><html><head><meta charset="utf-8"><title>靳马珏日志</title><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="description" content="Stay Simple, Stay Hungry, Stay Foolish."><meta property="og:type" content="website"><meta property="og:title" content="靳马珏日志"><meta property="og:url" content="http://blog.jinmajue.site/index.html"><meta property="og:site_name" content="靳马珏日志"><meta property="og:description" content="Stay Simple, Stay Hungry, Stay Foolish."><meta property="og:locale" content="zh_CN"><meta property="article:author" content="VestJin---靳马珏"><meta property="article:tag" content="记录 博客 日志"><meta name="twitter:card" content="summary"><link rel="alternate" href="/atom.xml" title="靳马珏日志" type="application/atom+xml"><link rel="shortcut icon" href="/favicon.png"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css"><meta name="generator" content="Hexo 7.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head><body><div id="container"><div id="wrap"><header id="header"><div id="banner"></div><div id="header-outer" class="outer"><div id="header-title" class="inner"><h1 id="logo-wrap"><a href="/" id="logo">靳马珏日志</a></h1><h2 id="subtitle-wrap"><a href="/" id="subtitle">blog-jinmajue</a></h2></div><div id="header-inner" class="inner"><nav id="main-nav"><a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a> <a class="main-nav-link" href="/">Home</a> <a class="main-nav-link" href="/archives">Archives</a></nav><nav id="sub-nav"><a class="nav-icon" href="/atom.xml" title="RSS 订阅"><span class="fa fa-rss"></span></a> <a class="nav-icon nav-search-btn" title="搜索"><span class="fa fa-search"></span></a></nav><div id="search-form-wrap"><form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://blog.jinmajue.site"></form></div></div></div></header><div class="outer"><section id="main"><article id="post-一言" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting"><div class="article-meta"><a href="/posts/dd6e3900/" class="article-date"><time class="dt-published" datetime="2024-12-29T09:59:49.000Z" itemprop="datePublished">2024-12-29</time></a></div><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="p-name article-title" href="/posts/dd6e3900/">一言</a></h1></header><div class="e-content article-entry" itemprop="articleBody"><blockquote><p>记录一些看到的话</p></blockquote><ul><li><p>make it run, make it fast, make it beautiful.</p></li><li><p>Stay Hungry，Stay Foolish. 求知若渴 --乔布斯</p></li><li><blockquote><ul><li><p>“物理学就如同性爱一样，尽管它们可以带来一些实际的成果，但那并不是我们喜欢做它们的原因。”</p><ul><li>英文原文：“Physics is like sex sure, it may give some practical results, but that’s not why we do it.”</li></ul></li><li><p>物理学之于数学，就如同性爱之于手淫。</p><ul><li>英文原文：“Physics is to math what sex is to masturbation.”</li></ul></li></ul></blockquote></li><li><p>与善人居，如入兰芷之室，久而不闻其香，则与之化矣；与恶人居，如入鲍鱼之肆，久而不闻其臭，亦与之化矣–孔子</p></li></ul></div><footer class="article-footer"><a data-url="http://blog.jinmajue.site/posts/dd6e3900/" data-id="cm5buoi1s001heg942onzhd7c" data-title="一言" class="article-share-link"><span class="fa fa-share">分享</span></a><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/notes/" rel="tag">notes</a></li></ul></footer></div></article><article id="post-编译原理-期末预习" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting"><div class="article-meta"><a href="/posts/889eb448/" class="article-date"><time class="dt-published" datetime="2024-12-24T07:09:25.000Z" itemprop="datePublished">2024-12-24</time></a></div><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="p-name article-title" href="/posts/889eb448/">编译原理-期末预习</a></h1></header><div class="e-content article-entry" itemprop="articleBody"><h1 id="编译原理-期末预习"><a class="markdownIt-Anchor" href="#编译原理-期末预习"></a> 编译原理-期末预习</h1><blockquote><ul><li>编译原理概念，每一步骤的作用干啥了前端后端</li><li>词法分析部分：BNF，正则式等概念，自动机DFA NFA 确定化，简化，含有空串边ε的转化(简单的_子集构造法，复杂的_ε闭包算法) 自动机&gt;正则式转化</li><li>语法分析部分：文法，语言等概念，由给定的句型或语言进行语法树绘制_找短语简单短语句柄，判断二义性_画俩语法树_优先级-结合性的二义性， 等价文法_直接左递归处理_公式_改写 ，<strong>FIRST集FOLLOW集 SELECT集 LL（1）分析表</strong>，LL(1) 简单优先没时间就别看了 <strong>LR(0) _可归前缀图_构造矩阵</strong></li><li>符号表_数组-记录型_复杂的内部表示会画，几种中间代码-逆波兰式_三元式_<strong>四元式</strong> 优化前优化后的四元式能写出，中间代码优化-对应的VVL表_二元组写出，前两种优化_</li></ul></blockquote><pre class="mermaid">flowchart TD
  root((编译原理))
    subgraph 词法分析
      direction LR
      A(词法分析器)
      B(正则表达式)
      C(有限自动机)
      A --&gt; B
      A --&gt; C
    end

    subgraph 语法分析
      direction LR
      D(语法分析器)
      E(上下文无关文法)
      F(语法树)
      D --&gt; E
      D --&gt; F
    end

    subgraph 语义分析
      direction LR
      G(语义分析器)
      H(类型检查)
      I(符号表)
      G --&gt; H
      G --&gt; I
    end

    subgraph 中间代码生成
      direction LR
      J(中间表示)
      K(三地址码)
      J --&gt; K
    end

    subgraph 优化
      direction LR
      L(代码优化)
      M(常量折叠)
      N(循环优化)
      L --&gt; M
      L --&gt; N
    end

    subgraph 目标代码生成
      direction LR
      O(目标代码生成器)
      P(汇编代码)
      O --&gt; P
    end

    subgraph 汇编与链接
      direction LR
      Q(汇编器)
      R(链接器)
      S(加载器)
      Q --&gt; R
      R --&gt; S
    end

  root --&gt; 词法分析
  root --&gt; 语法分析
  root --&gt; 语义分析
  root --&gt; 中间代码生成
  root --&gt; 优化
  root --&gt; 目标代码生成
  root --&gt; 汇编与链接</pre><h1 id="第一章-引论"><a class="markdownIt-Anchor" href="#第一章-引论"></a> 第一章 引论</h1><p><strong>翻译程序</strong>：将一种计算机编程语言所编写的程序（源程序）翻译成与之等价的另外一种计算机语言的程序（目标程序），完成这个翻译工作的程序称为翻译程序。编译程序、解释程序、汇编程序均被认为是翻译程序。</p><p><strong>编译程序</strong>：源程序语言是高级语言，目标程序语言是汇编语言或机器语言之类的低级语言，这样的翻译程序称为编译程序。</p><p><strong>解释程序</strong>：在词法、语法、语义分析方面与编译程序的工作原理基本相同，但在执行过程中不产生目标程序，而是直接解释执行源程序或源程序的内部形式（中间代码），即边解释边执行。</p><p><strong>汇编程序</strong>：源程序语言是汇编语言，输出目标程序语言是机器语言，这样的翻译程序称为汇编程序。</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mspace linebreak="newline"></mspace></mrow><annotation encoding="application/x-tex">\\</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="mspace newline"></span></span></span></p><hr><h1 id="第二章-文法和语言"><a class="markdownIt-Anchor" href="#第二章-文法和语言"></a> 第二章 文法和语言</h1><blockquote><p>阐明语法的一个工具是文法，本章节介绍文法和语言的概念，重点讨论上下文无关文法及其句型分析中的有关问题。</p></blockquote><p>定义：文法 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal">G</span></span></span></span> 定义为四元组（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">V_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">V_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.13889em">P</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span></span></span></span>）</p><blockquote><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">V_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> : 非终结符集（语法实体-变量）</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">V_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> ： 终结符集</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.13889em">P</span></span></span></span> ： 规则（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>→</mo><mi>β</mi></mrow><annotation encoding="application/x-tex">\alpha \to \beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.0037em">α</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathnormal" style="margin-right:.05278em">β</span></span></span></span> )的集合</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span></span></span></span> ： 识别符或开始符</p></blockquote><p>设<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo stretchy="false">[</mo><mi>S</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">G[S]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal">G</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mclose">]</span></span></span></span>是一个文法，如果符号串 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathnormal">x</span></span></span></span> 是从识别符号推导出来的，即有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover></mo><mi>x</mi></mrow><annotation encoding="application/x-tex">S \overset\ast\Rightarrow x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.992566em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mop op-limits"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.992566em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span><span class="mop">⇒</span></span></span><span style="top:-3.5668699999999998em;margin-left:0"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathnormal">x</span></span></span></span> ，则称<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathnormal">x</span></span></span></span> 是文法<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo stretchy="false">[</mo><mi>S</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">G[S]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal">G</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mclose">]</span></span></span></span>的<em>句型</em>，若<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathnormal">x</span></span></span></span>仅由终结符组成，即<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo><mover><mo><mo>⇒</mo></mo><mo>∗</mo></mover></mo><mi>x</mi></mrow><annotation encoding="application/x-tex">S \overset\ast\Rightarrow x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.992566em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mop op-limits"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.992566em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span><span class="mop">⇒</span></span></span><span style="top:-3.5668699999999998em;margin-left:0"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathnormal">x</span></span></span></span> ,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>∈</mo><msub><mi>V</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">x\in V_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.5782em;vertical-align:-.0391em"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> ，则<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathnormal">x</span></span></span></span>为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo stretchy="false">[</mo><mi>S</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">G[S]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal">G</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mclose">]</span></span></span></span>的<em>句子</em>。文法<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal">G</span></span></span></span>所产生的语言定义为集合<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo stretchy="false">[</mo><mi>G</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">L[G]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal">L</span><span class="mopen">[</span><span class="mord mathnormal">G</span><span class="mclose">]</span></span></span></span><em>语言</em>，文法描述的语言是该文法一切句子的集合。</p><p>乔姆斯基对文法类型分类：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">4</span></span></span></span>种，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">0</span></span></span></span>型，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">1</span></span></span></span>型，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">2</span></span></span></span>型，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">3</span></span></span></span>型</p><blockquote><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">0</span></span></span></span>型文法，短语文法，任何<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">0</span></span></span></span>型语言都是可递归可枚举的</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">1</span></span></span></span>型文法，上下文有关，每个产生式<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>→</mo><mi>β</mi></mrow><annotation encoding="application/x-tex">\alpha\to\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.0037em">α</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathnormal" style="margin-right:.05278em">β</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∣</mi><mi>β</mi><mi mathvariant="normal">∣</mi><mo>⩾</mo><mtext>&nbsp;</mtext><mi mathvariant="normal">∣</mi><mi>α</mi><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">|\beta|\geqslant\ |\alpha|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:.05278em">β</span><span class="mord">∣</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel amsrm">⩾</span><span class="mspace">&nbsp;</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:.0037em">α</span><span class="mord">∣</span></span></span></span> ，仅<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo>→</mo><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">S\to\epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathnormal">ϵ</span></span></span></span>除外。</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">2</span></span></span></span>型文法，上下文无关，每一个产生式<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>→</mo><mi>β</mi></mrow><annotation encoding="application/x-tex">\alpha\to\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.0037em">α</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathnormal" style="margin-right:.05278em">β</span></span></span></span> 满足：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>∈</mo><msub><mi>V</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">\alpha \in V_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.5782em;vertical-align:-.0391em"></span><span class="mord mathnormal" style="margin-right:.0037em">α</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi><mo>∈</mo><mo stretchy="false">(</mo><msub><mi>V</mi><mi>N</mi></msub><mo>∪</mo><msub><mi>V</mi><mi>T</mi></msub><msup><mo stretchy="false">)</mo><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\beta \in (V_N \cup V_T)^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathnormal" style="margin-right:.05278em">β</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.688696em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span> ，(形式：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>→</mo><mi>β</mi></mrow><annotation encoding="application/x-tex">A \to \beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathnormal" style="margin-right:.05278em">β</span></span></span></span>)</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">3</span></span></span></span>型文法，正规文法，每一个产生式形式为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>→</mo><mi>α</mi><mi>β</mi><mtext>或者</mtext><mi>A</mi><mo>→</mo><mi>α</mi></mrow><annotation encoding="application/x-tex">A \to \alpha\beta 或者 A\to\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathnormal" style="margin-right:.0037em">α</span><span class="mord mathnormal" style="margin-right:.05278em">β</span><span class="mord cjk_fallback">或</span><span class="mord cjk_fallback">者</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.0037em">α</span></span></span></span> ，其中<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal">A</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span></span></span></span>都<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∈</mo><msub><mi>V</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">\in V_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.5782em;vertical-align:-.0391em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>∈</mo><msubsup><mi>V</mi><mi>T</mi><mo>∗</mo></msubsup></mrow><annotation encoding="application/x-tex">\alpha \in V_T^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.5782em;vertical-align:-.0391em"></span><span class="mord mathnormal" style="margin-right:.0037em">α</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.964027em;vertical-align:-.275331em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.688696em"><span style="top:-2.424669em;margin-left:-.22222em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.13889em">T</span></span></span><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.275331em"><span></span></span></span></span></span></span></span></span></span>,</p></blockquote><p>四种文法类型的定义是逐渐增加限制的，因此每一种正规文法都是上下文无关的，每一种上下文无关文法是上下文有关的，而每一种上下文有关文法都是0型文法。一种文法产生相对应的语言。 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mspace linebreak="newline"></mspace></mrow><annotation encoding="application/x-tex">\\</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="mspace newline"></span></span></span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mspace linebreak="newline"></mspace></mrow><annotation encoding="application/x-tex">\newline</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="mspace newline"></span></span></span></p><h2 id="25上下文无关文法及其语法树"><a class="markdownIt-Anchor" href="#25上下文无关文法及其语法树"></a> 2.5上下文无关文法及其语法树</h2><p>语法树（推导树-语法分析树）</p><table><thead><tr><th>—</th><th>—</th></tr></thead><tbody><tr><td>最左推导</td><td>最右推导(规范推导) <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.36687em;vertical-align:0"></span><span class="mrel">→</span></span></span></span> 规范句型</td></tr></tbody></table><p>一个文法存在某个句子对应两棵不同的语法树，这个语法是<em>二义的</em>。</p><blockquote><p>上下文无关语言每一个文法都是二义的，才说此语言是二义的</p></blockquote><p>不存在一个算法，在有限的步骤内确切判定任给的一个文法是否为二义的，为构造无二义性文法，寻找一组充分条件。</p><h2 id="26-句型的分析"><a class="markdownIt-Anchor" href="#26-句型的分析"></a> 2.6 句型的分析</h2><table><thead><tr><th>—</th><th>—</th></tr></thead><tbody><tr><td>自上而下的分析(选择正确的右部去替换)</td><td>自下而上的分析(选择正确的可归约串)</td></tr></tbody></table><blockquote><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal">G</span></span></span></span> 是一个文法，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span></span></span></span> 是文法的开始符号，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mi>β</mi><mi>δ</mi></mrow><annotation encoding="application/x-tex">\alpha \beta \delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathnormal" style="margin-right:.0037em">α</span><span class="mord mathnormal" style="margin-right:.05278em">β</span><span class="mord mathnormal" style="margin-right:.03785em">δ</span></span></span></span> 是文法 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal">G</span></span></span></span> 的一个句型，如果有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo><mover><mo><mo>→</mo></mo><mo>∗</mo></mover></mo><mi>α</mi><mi>A</mi><mi>β</mi></mrow><annotation encoding="application/x-tex">S \overset \ast \to \alpha A \beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.992566em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mop op-limits"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.992566em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span><span class="mop">→</span></span></span><span style="top:-3.5668699999999998em;margin-left:0"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathnormal" style="margin-right:.0037em">α</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:.05278em">β</span></span></span></span> 且 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo><mover><mo><mo>⇒</mo></mo><mo>+</mo></mover></mo><mi>β</mi></mrow><annotation encoding="application/x-tex">A \overset + \Rightarrow \beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.075201em;vertical-align:0"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel"><span class="mop op-limits"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.075201em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span><span class="mop">⇒</span></span></span><span style="top:-3.5668699999999998em;margin-left:0"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">+</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathnormal" style="margin-right:.05278em">β</span></span></span></span> ，称 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathnormal" style="margin-right:.05278em">β</span></span></span></span> 是句型 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mi>β</mi><mi>δ</mi></mrow><annotation encoding="application/x-tex">\alpha \beta \delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathnormal" style="margin-right:.0037em">α</span><span class="mord mathnormal" style="margin-right:.05278em">β</span><span class="mord mathnormal" style="margin-right:.03785em">δ</span></span></span></span> 相对于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal">A</span></span></span></span> 的<strong>短语</strong>。</p></blockquote><blockquote><p>如果有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⇒</mo><mi>β</mi></mrow><annotation encoding="application/x-tex">A \Rightarrow \beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathnormal" style="margin-right:.05278em">β</span></span></span></span> ，则称 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathnormal" style="margin-right:.05278em">β</span></span></span></span> 是句型 $\alpha \beta \delta $ 相对于规则 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>→</mo><mi>β</mi></mrow><annotation encoding="application/x-tex">A \to \beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathnormal" style="margin-right:.05278em">β</span></span></span></span> 的<strong>直接短语</strong>（简单短语）。</p></blockquote><blockquote><p>一个右句型的直接短语称为该句型的<strong>句柄</strong>。（句柄只适用于右句型）。</p></blockquote><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mspace linebreak="newline"></mspace></mrow><annotation encoding="application/x-tex">\\</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="mspace newline"></span></span></span></p><h2 id="27-有关文法的实际应用说明"><a class="markdownIt-Anchor" href="#27-有关文法的实际应用说明"></a> 2.7 有关文法的实际应用说明</h2><p>应限制文法不得含有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>&nbsp;</mtext></mrow><annotation encoding="application/x-tex">\space</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0;vertical-align:0"></span><span class="mspace">&nbsp;</span></span></span></span> <em>有害规则</em><sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>&nbsp;</mtext></mrow><annotation encoding="application/x-tex">\space</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0;vertical-align:0"></span><span class="mspace">&nbsp;</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>&nbsp;</mtext></mrow><annotation encoding="application/x-tex">\space</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0;vertical-align:0"></span><span class="mspace">&nbsp;</span></span></span></span> <em>多余规则</em><sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>&nbsp;</mtext></mrow><annotation encoding="application/x-tex">\space</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0;vertical-align:0"></span><span class="mspace">&nbsp;</span></span></span></span> 。</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mspace linebreak="newline"></mspace></mrow><annotation encoding="application/x-tex">\\</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="mspace newline"></span></span></span></p><hr><h1 id="第三章-词法分析"><a class="markdownIt-Anchor" href="#第三章-词法分析"></a> 第三章 词法分析</h1><blockquote><p>词法分析是编译的第一个阶段,它的主要任务是从左至右逐个字符地对源程序进行扫描,产生一个个单词序列,用于语法分析。执行词法分析的程序称为词法分析程序或扫描程序。本章讨论词法分析程序的设计原则、单词的描述技术、识别机制及词法分析程序的自动构造原理。</p></blockquote><h2 id="31-词法分析程序设计"><a class="markdownIt-Anchor" href="#31-词法分析程序设计"></a> 3.1 词法分析程序设计</h2><blockquote><p>从左至右逐个字符对源程序进行扫描，产生单词序列，用于语法分析</p></blockquote><p>词法分析中扫描的单词符号一般有5类：(1)关键字；(2)标识符；(3)常数；(4)运算符；(5)界符。</p><p>作用：获得有意义的单词符号：$ \to$ 二元式（单词种别码，单词自身的值）</p><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs markdown">词法分析程序中如何识别有意义的单词？<br>主要依据<span class="hljs-emphasis">*词法规则描述*</span> <br>词法规则描述的工具有：状态转换图、扩展巴斯克范式(EBNF)、有限状态自动机、正规表达式、正规文法。<br></code></pre></td></tr></tbody></table></figure><br><h2 id="33-正规文法和正规式的等价性"><a class="markdownIt-Anchor" href="#33-正规文法和正规式的等价性"></a> 3.3 正规文法和正规式的等价性</h2><h2 id="34-有穷自动机"><a class="markdownIt-Anchor" href="#34-有穷自动机"></a> 3.4 有穷自动机</h2><table><thead><tr><th>DFA—确定的有穷自动机</th><th>NFA—不确定的有穷自动机</th></tr></thead><tbody><tr><td>Deterministic Finite Automata</td><td>Nondeterministic Finite Automata</td></tr></tbody></table><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs markdown">有几个问题：NFA的确定化；DFA的化简。。。<br></code></pre></td></tr></tbody></table></figure><p>DFA：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mo>=</mo><mo stretchy="false">(</mo><mi>K</mi><mo separator="true">,</mo><mi mathvariant="normal">Σ</mi><mo separator="true">,</mo><mi>f</mi><mo separator="true">,</mo><mi>S</mi><mo separator="true">,</mo><mi>Z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">M = (K,\Sigma,f,S,Z)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.07153em">K</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">Σ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathnormal" style="margin-right:.10764em">f</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathnormal" style="margin-right:.07153em">Z</span><span class="mclose">)</span></span></span></span></p><blockquote><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.07153em">K</span></span></span></span> ，有穷状态集</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Σ</mi></mrow><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord">Σ</span></span></span></span> ，有穷字母表(输入符号表)</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathnormal" style="margin-right:.10764em">f</span></span></span></span> ，转换函数，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mo>×</mo><mi mathvariant="normal">Σ</mi><mo>→</mo><mi>K</mi></mrow><annotation encoding="application/x-tex">K \times \Sigma \to K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord mathnormal" style="margin-right:.07153em">K</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord">Σ</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.07153em">K</span></span></span></span> ,</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span></span></span></span> ， $S \in K $, 唯一初态</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi></mrow><annotation encoding="application/x-tex">Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.07153em">Z</span></span></span></span> ，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mo>⊆</mo><mi>K</mi></mrow><annotation encoding="application/x-tex">Z \subseteq K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathnormal" style="margin-right:.07153em">Z</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.07153em">K</span></span></span></span> ，终态集（可接受/结束状态）</p></blockquote><p>初态结点 ：$\Rightarrow $ Ⓢ 或 标记 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo></mrow><annotation encoding="application/x-tex">-</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.66666em;vertical-align:-.08333em"></span><span class="mord">−</span></span></span></span> 终态结点用双圆圈表示-◎ 或者 标记<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>+</mo></mrow><annotation encoding="application/x-tex">+</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.66666em;vertical-align:-.08333em"></span><span class="mord">+</span></span></span></span></p><p>NFA：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mo>=</mo><mo stretchy="false">(</mo><mi>K</mi><mo separator="true">,</mo><mi mathvariant="normal">Σ</mi><mo separator="true">,</mo><mi>f</mi><mo separator="true">,</mo><mi>S</mi><mo separator="true">,</mo><mi>Z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">M = (K,\Sigma,f,S,Z)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.10903em">M</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.07153em">K</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">Σ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathnormal" style="margin-right:.10764em">f</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathnormal" style="margin-right:.07153em">Z</span><span class="mclose">)</span></span></span></span> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo separator="true">,</mo><mi>K</mi><mo>×</mo><msup><mi mathvariant="normal">Σ</mi><mo>∗</mo></msup><mo>→</mo><msup><mn>2</mn><mi>k</mi></msup></mrow><annotation encoding="application/x-tex">f,K \times\Sigma^* \to 2^k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathnormal" style="margin-right:.10764em">f</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathnormal" style="margin-right:.07153em">K</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.688696em;vertical-align:0"></span><span class="mord"><span class="mord">Σ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.688696em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.849108em;vertical-align:0"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.849108em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span></span></span></span></span></span></span></span> ，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo>⊆</mo><mi>K</mi></mrow><annotation encoding="application/x-tex">S\subseteq K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8193em;vertical-align:-.13597em"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.07153em">K</span></span></span></span>，非空初态集。</p><p><mark>NFA确定化 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⇒</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.36687em;vertical-align:0"></span><span class="mrel">⇒</span></span></span></span> DFA</mark></p><p><strong>子集法</strong>：DFA中的每一个状态对应NFA的一组状态</p><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs markdown">定义状态集合 <span class="hljs-emphasis">*I*</span> 的两个运算 ：<br><span class="hljs-bullet">1.</span> 状态集合<span class="hljs-emphasis">*I*</span> 的$\epsilon - clousure(I)$ ,定义为一个状态集，是状态集<span class="hljs-emphasis">*I*</span>中的任何状态S经任意条$\epsilon$弧而能到达的状态集合。<br>2.状态集合I的a弧转换,表示为move(I,a),定义为状态集合J,其中J是所有那些可从I中的某一状态经过一条a弧而到达的状态的全体。<br></code></pre></td></tr></tbody></table></figure><pre class="mermaid">---
title: NFA N 的状态图
---

stateDiagram-v2
	direction LR
    [*] --&gt; 0
    0 --&gt; 1: ε
    0 --&gt; 7: ε
    1 --&gt; 2: ε
    1 --&gt; 4: ε
    2 --&gt; 3: a
    3 --&gt; 6: ε
    4 --&gt; 5: b
    5 --&gt; 6: ε
    6 --&gt; 1: ε
    6 --&gt; 7: ε
    7 --&gt; 8: a
    8 --&gt; 9: b
    9 --&gt; 10: b
    10 --&gt; [*]</pre><p>📝</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathnormal">ϵ</span></span></span></span>-closure(0) = {0，1，2，4，7}，即{0,1,2,4,7}中的任一状态都是从状态0经任意条 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathnormal">ϵ</span></span></span></span> 弧可到达的状态， 令{0,1,2,4,7}=A，则move(A,a)={3,8}，因为状态0,1,2,4,7中，只有状态2和7有a弧射出，分别到达状态3和8. 而 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi><mo>−</mo><mi>c</mi><mi>l</mi><mi>o</mi><mi>s</mi><mi>u</mi><mi>r</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">\epsilon-closure</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.66666em;vertical-align:-.08333em"></span><span class="mord mathnormal">ϵ</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right:.01968em">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal">s</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right:.02778em">r</span><span class="mord mathnormal">e</span></span></span></span>({3,8})={1,2,3,4,6,7,8}。</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// 子集构造算法</span><br>开始,令e-closure(K0)为C中唯一成员,并且它是未被标<br>记的。<br>While(C中存在尚未被标记的子集T)<span class="hljs-keyword">do</span><br>{ 标记T;<br>	<span class="hljs-keyword">for</span> 每个输入字母a <span class="hljs-keyword">do</span><br>		{U := e-closure (Move(T,a));<br>			<span class="hljs-keyword">if</span> U不在C中 then<br>				将U作为未被标记的子集加在C中<br>        }<br>}<br></code></pre></td></tr></tbody></table></figure><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs markdown">使用子集构造算法对上图NFA N构造子集：<br><span class="hljs-bullet">1.</span> 首先计算e-closure(0),令T0=e-closure(0)={0,1,2,4,7},T。未被标记,它现在是子集族C的唯一成员。<br><span class="hljs-bullet">2.</span> 标记T0;令T1=e-closure(move(To,a))={1,2,3,4,6,7,8},将T1加入C中,T1未被标记。<br>令T2=E-closure(move(To,b))={1,2,4,5,6,7},将T2加入C中,它未被标记。<br><span class="hljs-bullet">3.</span> 标记T1;计算e-closure(move(T1,a)),结果为{1,2,3,4,6,7,8},即T1,T1已在C中。<br>计算e-closure(move(T1,b)),结果为{1,2,4,5,6,7,9},令其为T3,加至C中,它未被标记。<br><span class="hljs-bullet">4.</span> 标记T2,计算e-closure(move(T2,a)),结果为{1,2,3,4,6,7,8},即T1,T1已在C中。<br>计算e-closure(move(T2,b)),结果为{1,2,4,5,6,7},即T2,T2已在C中。<br><span class="hljs-bullet">5.</span> 标记T3,计算e-closure(move(T3,a)),结果为{1,2,3,4,6,7,8},即T1。<br>计算e-closure(move(T3,b)),结果为{1,2,4,5,6,7,10},令其为T1,加入C中,T1未被标记。<br><span class="hljs-bullet">6.</span> 标记T4,计算e-closure(move(T(,a)),结果为{1,2,3,4,6,7,8},即T1。<br>计算e-closure(move(T4,b)),结果为{1,2,4,5,6,7},即T2。<br>至此,算法终止,共构造了5个子集:<br><span class="hljs-code">    To={0,1,2,4,7}</span><br><span class="hljs-code">    T1={1,2,3,4,6,7,8}</span><br><span class="hljs-code">    T2={1,2,4,5,6,7}</span><br><span class="hljs-code">    T3={1,2,4,5,6,7,9}</span><br><span class="hljs-code">    T4={1,2,4,5,6,7,10}</span><br><span class="hljs-code">NFA N 构造的DFA M如下：</span><br><span class="hljs-code">1. S={[T0],[T1],[T2],[T3],[T4]}</span><br><span class="hljs-code">2. Σ={a,b}</span><br><span class="hljs-code">3. 	D([To],a)=[T1]</span><br><span class="hljs-code">	D([To],b)=[T2]</span><br><span class="hljs-code">	D([T1],a)=[T1]</span><br><span class="hljs-code">	D([T1],b)=[T3]</span><br><span class="hljs-code">	D([T2],a)=[T1]</span><br><span class="hljs-code">	D([T2],b)=[T2]</span><br><span class="hljs-code">	D([T3],a)=[T1]</span><br><span class="hljs-code">	D([T3],b)=[T4]</span><br><span class="hljs-code">	D([T4],a)=[T1]</span><br><span class="hljs-code">	D([T4],b)=[T2]</span><br><span class="hljs-code">4.	S0=[T0]</span><br><span class="hljs-code">(5) S1=[T4]</span><br><span class="hljs-code">为便于书写,将[To]、[T1]、[T2]、[T3]、[T4]重新命名,用0、1、2、3、4分别表示,该DFA 的状态转换图如下：</span><br></code></pre></td></tr></tbody></table></figure><pre class="mermaid">---
title: DFA M状态转换图
---
stateDiagram-v2
	direction LR
	[*] --&gt; 0
	0 --&gt; 2:b
	0 --&gt; 1:a
	1 --&gt; 1:a
	1 --&gt; 3:b
	2 --&gt; 2:b
	2 --&gt; 1:a
	3 --&gt; 1:a
	3 --&gt; 4:b
	4 --&gt; 2:b
	4 --&gt; 1:a
	4 --&gt; [*]</pre><p><mark>DFA的化简</mark> 最小化</p><blockquote><p>没有多余状态–状态中没有两个是相互等价的</p></blockquote><p>FA的无用状态：从自动机开始状态出发，任何输入串也不能到达此状态，或者从这个状态没有通路到达终态。</p><p>FA中两个状态s和t等价的条件是：</p><ol><li>一致性条件–状态s和t必须同时为可接受状态或不可接受状态</li><li>蔓延性条件–对于所有输入符号，状态s和状态t必须转换到等价的状态里。</li></ol><p><strong>分割法</strong>：把DFA状态分为一些不相交的子集，任何不同的两个子集的状态都是可区别的，同一子集中的任何两个状态都是等价的。</p><p>📝 将下图的DFA M最小化</p><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><br><span class="hljs-bullet">1.</span> 首先将M的状态分成两个子集：一个由终态(可接受态)组成，一个由非终态组成;划分为P0=({1,2,3,4},{5,6,7});这两个子集中的状态不会等价。<br><span class="hljs-bullet">2.</span> 第一个子集{1,2,3,4},在读入输入符号a后,状态3和4分别转换为第1个子集中所含的状态1和4,而1和2分别转换为第2个子集中所含的状态6和7,这就意味着{1,2}中的任何状态和{3,4}中的任何状态在读入a后为不等价的状态,因此{1,2}中的任何状态与{3,4}中的任何状态都是可区别的,因此得到了新的划分如下:<br><span class="hljs-code">	P1=({1,2}{3,4}{5,6,7})</span><br></code></pre></td></tr></tbody></table></figure><pre class="mermaid">---
title: DFA M
---

stateDiagram-v2
	direction LR
	[*] --&gt; 1
	1 --&gt; 3:b
	1 --&gt; 6:a
	2 --&gt; 3:b
	2 --&gt; 7:a
	3 --&gt; 1:a
	3 --&gt; 5:b
	4 --&gt; 4:a
	4 --&gt; 6:b
	5 --&gt; 3:b
	5 --&gt; 7:a
	6 --&gt; 4:a
	6 --&gt; 1:b
	7 --&gt; 4:a
	7 --&gt; 2:b
	5 --&gt; [*]
	6 --&gt; [*]
	7 --&gt; [*]</pre><pre class="mermaid">---
title: DFA M'
---
stateDiagram-v2
	direction LR
	[*] --&gt; 1
	1 --&gt; 3:b
	1 --&gt; 6:a
	3 --&gt; 1:a
	3 --&gt; 5:b
	4 --&gt; 4:a
	4 --&gt; 6:b
	5 --&gt; 3:b
	5 --&gt; 6:a
	6 --&gt; 1:b
	6 --&gt; 4:a
	5 --&gt; [*]
	6 --&gt; [*]</pre><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mspace linebreak="newline"></mspace></mrow><annotation encoding="application/x-tex">\\</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="mspace newline"></span></span></span></p><h2 id="35-正规式和fa的等价性"><a class="markdownIt-Anchor" href="#35-正规式和fa的等价性"></a> 3.5 正规式和FA的等价性</h2><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi><mo>→</mo><mi>U</mi></mrow><annotation encoding="application/x-tex">U \to U</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.10903em">U</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.10903em">U</span></span></span></span> <a href="#fnref1" class="footnote-backref">↩︎</a></p></li><li id="fn2" class="footnote-item"><p>非终结符不可到达的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">/</mi></mrow><annotation encoding="application/x-tex">/</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">/</span></span></span></span> 不可终止的。 <a href="#fnref2" class="footnote-backref">↩︎</a></p></li></ol></section></div><footer class="article-footer"><a data-url="http://blog.jinmajue.site/posts/889eb448/" data-id="cm5buoi1y002aeg948jlp93ba" data-title="编译原理-期末预习" class="article-share-link"><span class="fa fa-share">分享</span></a><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/homework/" rel="tag">homework</a></li></ul></footer></div></article><article id="post-如何阅读科研论文" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting"><div class="article-meta"><a href="/posts/540c6e02/" class="article-date"><time class="dt-published" datetime="2024-12-01T07:15:17.000Z" itemprop="datePublished">2024-12-01</time></a></div><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="p-name article-title" href="/posts/540c6e02/">如何阅读科研论文</a></h1></header><div class="e-content article-entry" itemprop="articleBody"><h3 id="如何阅读科研论文"><a class="markdownIt-Anchor" href="#如何阅读科研论文"></a> 如何阅读科研论文</h3><p>S. Keshav</p><p>滑铁卢大学大卫·切瑞顿计算机科学学院</p><p>加拿大安大略省滑铁卢市</p><p><a href="mailto:keshav@uwaterloo.ca">keshav@uwaterloo.ca</a></p><h3 id="1引言"><a class="markdownIt-Anchor" href="#1引言"></a> 1.引言</h3><p>科研人员必须阅读论文的几个理由：为了会议或者学生审稿、为了在本领域中保持消息灵通、为了解新领域进行文献调研。一个典型的科研人员每年可能要花费几百小时去阅读论文。</p><p>学会有效地阅读论文是一项非常重要但是很少会有机会学到的技能。正因为这样，新入学的研究生都是在“试验——失败”中独自学习的。学生们会因此浪费大量的时间，并且会经常因此感到沮丧。</p><p>多年来，我一直使用一个简单的“三步法”来使我在读论文时能对其有居高临下的理解，而不是淹没在细节当中。这种读论文的方法还可以让我评估审阅一堆论文时需要花费的时间。除此之外，我可以根据需要和自己时间的多少来调整对论文的理解深度。这篇文章描述了“三步法”的具体内容和该方法在做文献调研时应如何应用。</p><h3 id="2三步法"><a class="markdownIt-Anchor" href="#2三步法"></a> 2.三步法</h3><p>主要思想就是你应该在三步内读完论文，而不是从开始不分轻重地“耕耘”到最后。每一步要基于之前的阅读完成一个明确的目标：第一步要弄清一篇论文的大体想法；第二步要抓住论文的主要内容，但不是细节；第三步帮助你深度理解整篇论文。</p><h4 id="21第一步"><a class="markdownIt-Anchor" href="#21第一步"></a> 2.1第一步</h4><p>第一步是：快速浏览整篇论文，对其有个大概的了解。你也可以自己决定是否需要进一步阅读。这一步大概需要五到十分钟，有下面几个小节组成：</p><ol><li>认真阅读题目、摘要、引言。</li><li>阅读标题和段落开头，除此之外一概不看。</li><li>瞥一眼数学部分（如果有的话），以确定其基本理论概况。</li><li>阅读结论部分。</li><li>瞥一眼引用，找一下是否有你读过的论文。</li></ol><p>完成第一步后，你应该能回答以下几个问题了：</p><p>1．类别：这篇论文是什么类型？测试类？对现有系统进行分析的？对原型系统进行描述的？</p><p>2．内容：你读过的其他论文有没有和这个相关的？文章中分析问题用的什么理论基础？</p><p>3．正确性：结论看起来是否真实有效？</p><p>4．创新点：论文的主要创新点是什么？</p><p>5．清晰度：这篇论文是否写的条理清晰？</p><p>得出以上信息后，你可以选择不再继续阅读（那就不打印，也就节约了树木:））。这有可能是因为这篇论文不吸引你，或者你对这篇论文所涉及的领域了解不多，也可能因为作者给出了不适当的假设。这一步对于处理当前不在你研究领域内，但是以后也许相关的论文非常有效。</p><p>顺带提一下，当你写一篇论文时，你可以设想大部分的审稿人（或读者）只对你的论文使用第一步。小心地选择标题和子段落开头部分，摘要应该精确而且易理解。如果一个审稿人在第一步过后还不能理解你论文的主旨，那么很可能你的论文就不过关了。如果一个读者在五分钟内不能理解论文的突出部分，那么很可能以后这篇论文再也不会被捡起。正是由于这些原因，用一个“图示摘要”及一个精心选择的图形总结一篇论文是很棒的想法，以后会在科学杂志中越来越多。</p><h4 id="22第二步"><a class="markdownIt-Anchor" href="#22第二步"></a> 2.2第二步</h4><p>在第二步中，要仔细阅读论文，但是诸如证明等信息要忽略掉。在阅读时你应该草记下重点，或者在论文空白处写点标注。来自奥格斯堡（Augsburg）的Dominik Grusemann建议“记录下那些你不懂的部分，或者那些你想问作者的问题”。如果你是一名论文评审员，以上那些记录在你写评审意见时很有用，也可以在开论文研讨会时帮助你记录你当时的想法。</p><ol><li>仔细论文中阅读图片、表格和其他说明。要特别注意图表：坐标轴标记是否合适？标示的结果是否有误差线？这类常见错误可以区分那些粗制滥造的论文和真正出色的论文。</li><li>为了进一步阅读相关论文，记得要标注相关的未读引用文献（这是进一步了解论文相关背景的好方法）。</li></ol><p>第二步对于有经验的读者来说，应该需要一小时左右的时间。经过以上步骤，你应该就了解了论文的整体内容。此时你应该能把论文的主要思想和相关论据讲给其他人听了。对于你感兴趣的论文，读到这个程度就可以了，但是对于那些在你研究领域内的论文来时，还远远不够。</p><p>有些论文，你甚至可能在第二步结束的时候还不能理解。这有可能是因为论文中的主旨对你来说是全新的，论文里的术语和缩写词你都陌生，也可能是因为作者用了你不理解的论据和试验技术，所以导致论文中大部分的内容都不好理解。有些论文有可能写的很差，充斥着未经证实的断言和大量前向引用（forward references）。不过也可能你是在夜里很累的情况下阅读的，因此感觉不太好懂，如果是这样，你可以选择：（1）把论文放到一边，期望着在你走向事业成功的路上不需要理解它，（b）在了解了相关背景知识后，过段时间再回头读，或者（c）坚持不懈继续阅读。</p><h4 id="23第三步"><a class="markdownIt-Anchor" href="#23第三步"></a> 2.3第三步</h4><p>为了彻底理解一篇论文，尤其是当你是审稿人时，必须要走到第三步。第三部的核心思想是，试着“在脑中重新实现（virtually re-implement）”那篇论文：也就是，和作者一样做出相同的假设，然后重新实现相同的工作。通过对比你自己得出的和论文中给出的结果，不仅可以很轻易验证一篇论文的创新点是否真实，而且还能发现论文中不会讲的缺点和假想。</p><p>这一步需要耗费你很多精力去细化，完成这一步，你就可以验证论文中的每一个假设是否真实。而且，同时要思考下，如果你是作者，会如何呈现并介绍自己的想法。这种虚拟和现实的对比，可以让你对论文中的论据和表达技巧有深刻的理解，当然就可以把这种表达技巧和论据“据为己有”。在完成第三步过程中，你应该时刻不忘记下对于未来研究工作的新想法。</p><p>这一步有可能需要耗费初学者很多小时，对于有经验的研究人员也要至少一两个小时。当完成这一步后，你应该可以在脑海中重现构造论文的整个架构，同时能确定论文中哪些是好的，哪些是一般的论点。特别地，你也应该能明确指出论文中不清晰的假设、漏掉引用的相关工作以及论文中试验和分析的手段潜在的缺点。</p><h3 id="3如何完成文献调研"><a class="markdownIt-Anchor" href="#3如何完成文献调研"></a> 3.如何完成文献调研</h3><p>做文献调研就是考验你读论文技巧的时候了，调研工作有可能需要你阅读几十篇论文，同时也可能是你不熟悉的领域。什么样的论文值得一读？以下就是如何使用“三步法”帮你调研文献。</p><p>首先，使用学术搜索引擎例如Google Scholar或者CiteSeer，并且精心选择搜索词，找出三到五篇领域中“最近最多被引用”的论文。对于以上搜到的论文，使用三步法中的第一步，可以使自己对于相关工作有点感觉，然后阅读它们的相关工作章节。你会对于最近的相关工作有缩略图似的总结，如果你足够幸运的话，有可能在以上相关工作中找到近期发表的调研论文。如果你能找到类似的调研论文，调研工作就完成了！认真阅读那篇调研文献，庆祝自己的运气吧。</p><p>不然，在第二步中，找到以上几篇论文中相同的引用文献、在引用文献中重复的作者名，这些就是你所调研领域的重点论文和科研人员，下载那些重点论文暂时搁到一边。继续访问那些重要科研人员的网页，看下那些论文是在什么会议集结出版的。这能帮你找到那个领域的顶级会议，因为那些重要科研人员通常会在顶级会议发表论文。</p><p>第三步就是访问那些顶级会议的网站，查看一下他们最近的活动。快速扫描一眼就能找到最近的高质量相关论文，这些论文和上面提到暂时放到一边的论文，会对你文献调研工作的第一版本有所帮助。对于这些论文，使用“三步法”中的第二步，如果它们都引用了一篇重要文献，恰巧是你没有搜到的，果断下载并阅读。如果需要，重复以上工作。</p><h3 id="4相关工作"><a class="markdownIt-Anchor" href="#4相关工作"></a> 4.相关工作</h3><p>如果你是为了审稿而读论文，Timothy Roscoe的论文《Writing reviews for systems conferences》可以参考。如果你的计划是写一篇技术性论文，Henning Schulzrinne的综合网页和George Whitesides的过程概述可以参考。最后，Simon Peyton Jones有一个网页涵盖了所有实验技巧。</p><p>心理学领域的Iain H. McLean打包发布了一个可下载的“评审矩阵”，介绍了如何用“三步法”简化在实验心理学领域进行论文评审（你有可能用到），以及对于其他领域的论文如何使用“微调三步法”。</p><h3 id="5致谢"><a class="markdownIt-Anchor" href="#5致谢"></a> 5.致谢</h3><p>本文第一版由我的学生Hossein Falaki、 Earl Oliver和 Sumair Ur Rahman起草，感谢他们。同时感谢Christophe Diot犀利的评论和目光锐利的Nicole Keshav的校稿。</p><p>我想把这篇文章做成在线版，在我收到评论后就做出修改更新。如果您有任何评论或者改进建议，请给我发邮件。感谢诸多通讯员多年来的鼓舞人心的反馈。</p><h3 id="6引用文献"><a class="markdownIt-Anchor" href="#6引用文献"></a> 6.引用文献</h3><p>[1]Literature Review Matrix,”</p><p><a target="_blank" rel="noopener" href="http://psychologyinc.blogspot.com/">http://psychologyinc.blogspot.com/</a></p><p>[2] S. Peyton Jones, \Research Skills,”</p><p><a target="_blank" rel="noopener" href="http://research.microsoft.com/enus/um/people/simonpj/papers/giving-a-talk/giving-atalk.htm">http://research.microsoft.com/enus/um/people/simonpj/papers/giving-a-talk/giving-atalk.htm</a></p><p>[3] T. Roscoe, \Writing Reviews for Systems Conferences,”</p><p><a target="_blank" rel="noopener" href="http://people.inf.ethz.ch/troscoe/pubs/review-writing.pdf">http://people.inf.ethz.ch/troscoe/pubs/review-writing.pdf</a></p><p>[4] H. Schulzrinne, \Writing Technical Articles,”</p><p><a target="_blank" rel="noopener" href="http://www.cs.columbia.edu/hgs/etc/writing-style.html">http://www.cs.columbia.edu/hgs/etc/writing-style.html</a></p><p>[5] G.M. Whitesides, \Whitesides’ Group: Writing a Paper,”</p><p><a target="_blank" rel="noopener" href="http://www.ee.ucr.edu/rlake/Whitesides">http://www.ee.ucr.edu/rlake/Whitesides</a> writing res paper.pdf</p><h3 id="7校对注"><a class="markdownIt-Anchor" href="#7校对注"></a> 7.校对注</h3><p>或许有读者会和我一样，对本文作者所在学院“大卫·切瑞顿计算机科学学院”的名称有点好奇。网上搜索了一下，其由来如下：</p><p>大卫·切瑞顿，加拿大人，是斯坦福大学教授，教书之余，他还热衷于投资初创企业，他是谷歌公司的一个投资人。在福布斯2013年3月发布的亿万富豪榜单中，大卫·切瑞顿以17亿美元身价成为加拿大最富有的20位富豪之一。</p><p>2005 年秋天，切瑞顿教授向滑铁卢大学捐赠了 2500 万美元，作为在计算机科学领域获得杰出成就的奖励。滑铁卢大学以他的名字重新命名了计算机科学学院。</p><p>原文网址：</p><ol><li>PDF版：<a target="_blank" rel="noopener" href="http://ccr.sigcomm.org/online/files/p83-keshavA.pdf">http://ccr.sigcomm.org/online/files/p83-keshavA.pdf</a></li><li>ACM：<a target="_blank" rel="noopener" href="http://dl.acm.org/citation.cfm?id=1273458">http://dl.acm.org/citation.cfm?id=1273458</a></li></ol><p>原文链接： <a target="_blank" rel="noopener" href="http://ccr.sigcomm.org/online/files/p83-keshavA.pdf">S. Keshav</a> 翻译： <a target="_blank" rel="noopener" href="http://blog.jobbole.com/">伯乐在线 </a>- <a target="_blank" rel="noopener" href="http://blog.jobbole.com/author/qianlong/">乾龙</a><br>译文链接： <a target="_blank" rel="noopener" href="http://blog.jobbole.com/47506/">http://blog.jobbole.com/47506/</a></p></div><footer class="article-footer"><a data-url="http://blog.jinmajue.site/posts/540c6e02/" data-id="cm5buoi1t001meg94as979q3h" data-title="如何阅读科研论文" class="article-share-link"><span class="fa fa-share">分享</span></a><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/notes/" rel="tag">notes</a></li></ul></footer></div></article><article id="post-编译原理概念速查" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting"><div class="article-meta"><a href="/posts/6536aa06/" class="article-date"><time class="dt-published" datetime="2024-11-04T23:12:33.000Z" itemprop="datePublished">2024-11-05</time></a></div><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="p-name article-title" href="/posts/6536aa06/">编译原理概念速查</a></h1></header><div class="e-content article-entry" itemprop="articleBody"><h1 id="编译原理概念速查"><a class="markdownIt-Anchor" href="#编译原理概念速查"></a> 编译原理概念速查</h1><h2 id="概述"><a class="markdownIt-Anchor" href="#概述"></a> #概述</h2><p>编译原理的定义、作用、基本功能、特点、层次结构。</p><h3 id="定义"><a class="markdownIt-Anchor" href="#定义"></a> #定义</h3><p>编译原理是计算机科学的一个分支，它主要研究如何将高级程序语言转换为计算机能够理解和执行的低级机器语言的过程。编译原理包括编译器设计和实现、解释器设计和实现、程序语言的语法和语义分析、代码优化、程序调试等内容。</p><h3 id="作用"><a class="markdownIt-Anchor" href="#作用"></a> #作用</h3><p>编译原理的作用是将高级语言编写的程序转换为计算机能够理解和执行的机器语言程序，从而实现高效、准确的计算机程序运行。编译原理的发展促进了程序设计的快速发展，使程序设计人员可以更加专注于程序的逻辑、算法和数据结构的设计。</p><h3 id="基本功能"><a class="markdownIt-Anchor" href="#基本功能"></a> #基本功能</h3><p>编译器的基本功能包括：词法分析、语法分析、语义分析、中间代码生成、代码优化和目标代码生成。其中，词法分析是将程序代码分解为单个单词或符号的过程；语法分析是确定程序代码的语法结构，并生成相应的语法树；语义分析是分析程序代码的含义，检查代码是否符合语言的语义规则；中间代码生成是将语法树转换为中间代码；代码优化是针对中间代码进行优化，以提高程序的执行效率；目标代码生成是将中间代码转换为目标机器的机器代码。</p><h3 id="特点"><a class="markdownIt-Anchor" href="#特点"></a> #特点</h3><p>编译原理的特点包括：复杂性、系统性、工程性和理论性。编译原理涉及多个学科领域的知识，如计算机体系结构、操作系统、算法和数据结构等。编译原理的研究需要掌握多种编程语言和工具，并且需要对计算机系统的各个层次有深入的理解。同时，编译原理研究也具有很强的工程应用价值，是计算机软件开发的重要组成部分。</p><h3 id="层次结构"><a class="markdownIt-Anchor" href="#层次结构"></a> #层次结构</h3><p>编译原理的层次结构包括语言层、编译器层和目标机层。语言层包括高级语言和汇编语言；编译器层包括编译器和解释器；目标机层包括机器指令和操作系统。编译器作为连接语言层和目标机层的桥梁，实现了高级语言到目标机的转换。同时，编译器还需要考虑语言层和目标机层之间的接口问题，如内存管理、I/O操作等。</p><h2 id="词法分析"><a class="markdownIt-Anchor" href="#词法分析"></a> #词法分析</h2><h3 id="词法单元"><a class="markdownIt-Anchor" href="#词法单元"></a> #词法单元</h3><p>编译原理课程中，词法单元（Lexical Unit）是编译器中的一个重要概念，用于将源代码划分为一个个的词法单元，从而为后续的语法分析和语义分析等编译器的处理步骤提供基础。词法单元是编程语言中最小的语法单元，通常由词法分析器（Lexer）负责识别和生成。</p><p>词法单元一般包括以下几个方面：</p><ul><li>标识符（Identifier）：表示程序中的变量名、函数名等符号，由一串字母和数字组成，通常以字母开头。</li><li>关键字（Keyword）：是编程语言中预先定义的具有特定含义的单词，例如if、else、while等，在编译过程中需要特殊处理。</li><li>运算符（Operator）：表示程序中的各种数学运算、逻辑运算等符号，例如+、-、*、/等。</li><li>分隔符（Delimiter）：表示程序中的各种符号，例如括号、逗号、分号等，用于标识程序的结构。</li><li>常量（Constant）：表示程序中的固定数值，例如整数常量、浮点数常量、字符串常量等。</li><li>注释（Comment）：用于在程序中添加注释，不参与实际的编译和执行。</li></ul><p>词法单元的识别通常通过正则表达式、有限自动机等方式进行，词法分析器会逐个扫描源代码，将其划分为一个个的词法单元，并将识别到的词法单元传递给语法分析器进行进一步的语法分析。</p><p>词法单元在编译器的各个阶段都起着重要的作用，包括语法分析、语义分析、中间代码生成和目标代码生成等过程都需要借助词法单元的信息进行处理。因此，对于编译原理课程来说，深入理解词法单元的概念和识别方法是非常重要的，它是编译器中的一个基础模块，对于编译器的设计和实现具有重要的指导意义。</p><h3 id="正则表达式"><a class="markdownIt-Anchor" href="#正则表达式"></a> #正则表达式</h3><p>编译原理中的正则表达式（Regular Expression）是一种用于描述字符串模式的形式化语言。它在编译器中被广泛用于词法分析阶段，用于识别和匹配源代码中的词法单元，如标识符、关键字、运算符等。</p><p>正则表达式由一系列的字符和操作符组成，可以用于描述字符串中的字符序列的规则。以下是编译原理中常见的正则表达式操作符：</p><ul><li>字符匹配：用于匹配指定的字符，如字符"a"匹配字符"a"。</li><li>字符类：用于匹配一组字符中的任意一个字符，如"[abc]“匹配字符"a”、“b"或"c”。</li><li>范围类：用于匹配一定范围内的字符，如"[a-z]"匹配从"a"到"z"的任意小写字母。</li><li>量词：用于指定匹配的次数，如"*“匹配零次或多次，”+“匹配一次或多次，”?"匹配零次或一次。</li><li>括号：用于分组和捕获匹配的子表达式，如"(abc)“可以匹配"abc”。</li><li>转义符：用于转义特殊字符，如"."匹配实际的点字符而不是表示任意字符的通配符。</li><li>选择符：用于在多个模式之间选择一个进行匹配，如"a|b"匹配"a"或"b"。</li></ul><p>正则表达式的语法和操作符可以根据不同的编程语言和工具而有所不同，但其基本原理和用法都是类似的。</p><p>在编译原理中，正则表达式通常由词法分析器使用，用于根据定义的词法规则，从源代码中提取出符合规则的词法单元。通过使用正则表达式，词法分析器可以高效地识别和划分源代码中的词法单元，为后续的语法分析和语义分析等编译器的处理步骤提供基础。因此，对于编译原理课程来说，理解和掌握正则表达式的概念和用法是非常重要的。</p><h3 id="有限自动机"><a class="markdownIt-Anchor" href="#有限自动机"></a> #有限自动机</h3><p>有限自动机（Finite Automaton）是编译原理中的一个重要概念，用于描述和实现正则表达式的匹配过程。在词法分析阶段，有限自动机通常被用于识别和提取输入字符串中的词法单元。</p><p>有限自动机可以分为两种类型：确定性有限自动机（Deterministic Finite Automaton, DFA）和非确定性有限自动机（Nondeterministic Finite Automaton, NFA）。</p><p>DFA是一种每次只有一种可能的状态转换的有限自动机。它包含有限个状态和一组输入字符的转换规则，根据当前状态和输入字符，自动转换到下一个状态。DFA 的状态转换是确定的，即对于相同的输入字符和当前状态，只有一种可能的状态转换。DFA的状态转换可以通过状态转换表（Transition Table）或状态转换图（Transition Diagram）来表示。</p><p>NFA则可以有多个可能的状态转换，并且可以通过ε-转换（ε-transition）实现状态的跳转，即不需要读取输入字符就可以从一个状态转移到另一个状态。NFA的状态转换不是唯一确定的，需要根据输入字符和当前状态选择其中一条可能的状态转换路径。NFA的状态转换也可以通过状态转换表或状态转换图来表示。</p><p>有限自动机的匹配过程通常从初始状态开始，根据输入字符进行状态转换，直到到达一个终态（接受状态），表示成功匹配了一个模式。如果无法进行状态转换或没有到达终态，则表示匹配失败。</p><p>有限自动机在编译原理中扮演了重要角色，特别是在词法分析阶段中的词法单元识别过程。通过有限自动机，编译器可以高效地进行字符串的模式匹配，识别和提取出符合定义的词法单元，为后续的编译过程打下基础。同时，有限自动机也是其他计算理论和实际应用中的重要工具，如字符串匹配、编码器、编译器优化等领域都有广泛应用。</p><h3 id="nfa"><a class="markdownIt-Anchor" href="#nfa"></a> #NFA</h3><p>NFA 是指非确定性有限自动机，它可以识别更复杂的正则表达式，并且可以进行自动化的状态合并操作。</p><h3 id="dfa"><a class="markdownIt-Anchor" href="#dfa"></a> #DFA</h3><p>是指确定性有限自动机，它是一种更加高效的自动机，能够识别所有的正则表达式，并且可以通过最小化算法来实现状态的最小化。</p><h3 id="最小化算法"><a class="markdownIt-Anchor" href="#最小化算法"></a> #最小化算法</h3><p>是一种用来将 DFA 中的状态集合合并的算法，以达到状态最小化的目的，从而提高词法分析器的性能。</p><h3 id="正则文法"><a class="markdownIt-Anchor" href="#正则文法"></a> #正则文法</h3><p>是一种描述正则表达式的上下文无关文法，它可以被用来生成一个词法分析器。</p><h3 id="词法分析器生成器"><a class="markdownIt-Anchor" href="#词法分析器生成器"></a> #词法分析器生成器</h3><p>是一种可以根据正则文法自动生成词法分析器的程序，例如 Lex 和 Flex。</p><h3 id="标记"><a class="markdownIt-Anchor" href="#标记"></a> #标记</h3><p>是指将词法单元转换成词法分析器输出的结果，包括单词类型和单词值等信息。</p><h3 id="错误处理"><a class="markdownIt-Anchor" href="#错误处理"></a> #错误处理</h3><p>是指在词法分析过程中遇到无法识别的字符或者不符合规范的词法单元时，如何正确地处理这些错误情况。</p><h3 id="状态堆栈"><a class="markdownIt-Anchor" href="#状态堆栈"></a> #状态堆栈</h3><p>是一种用于保存词法分析器的状态信息的数据结构，它可以在分析过程中保存分析器的上下文信息，以实现更复杂的词法分析操作。</p><h3 id="正则表达式引擎"><a class="markdownIt-Anchor" href="#正则表达式引擎"></a> #正则表达式引擎</h3><p>是一种用于解释和匹配正则表达式的程序，它可以对输入的文本进行扫描和匹配，并输出匹配到的词法单元。</p><h3 id="字符集"><a class="markdownIt-Anchor" href="#字符集"></a> #字符集</h3><p>是指一组字符的集合，它可以用来描述正则表达式中的字符范围。</p><h3 id="转义字符"><a class="markdownIt-Anchor" href="#转义字符"></a> #转义字符</h3><p>是指在正则表达式中使用反斜杠（\）来转义特殊字符的语法。例如，\d 表示任意数字字符。</p><h3 id="上下文相关的词法分析"><a class="markdownIt-Anchor" href="#上下文相关的词法分析"></a> #上下文相关的词法分析</h3><p>是指一种使用上下文信息来判断词法单元类型的词法分析方法。它可以通过上下文信息来区分类似于关键字和标识符之间的歧义。</p><h3 id="正则表达式的扩展语法"><a class="markdownIt-Anchor" href="#正则表达式的扩展语法"></a> #正则表达式的扩展语法</h3><p>是指一些在标准正则表达式语法基础上扩展出来的更加丰富的语法，例如 POSIX 扩展和 Perl 扩展等。</p><h3 id="unicode-支持"><a class="markdownIt-Anchor" href="#unicode-支持"></a> #Unicode 支持</h3><p>是指词法分析器能够支持 Unicode 字符集，以处理多语言字符集。</p><h3 id="向前看符号"><a class="markdownIt-Anchor" href="#向前看符号"></a> #向前看符号</h3><p>是指在语法分析中，词法分析器向后读取多个字符，以判断当前词法单元的类型和属性。它通常用于处理上下文相关的词法单元，例如 C 语言中的 typedef 和 struct 等。</p><h3 id="词法分析的优化技术"><a class="markdownIt-Anchor" href="#词法分析的优化技术"></a> #词法分析的优化技术</h3><p>是指一些可以提高词法分析器性能的技术，例如 DFA 最小化、正则表达式的预编译、词法单元缓存、多线程处理等。</p><h3 id="语法制导翻译"><a class="markdownIt-Anchor" href="#语法制导翻译"></a> #语法制导翻译</h3><p>是指将语法分析和语义动作相结合的一种方法，它可以在语法分析的同时进行语义分析，从而实现语义动作和翻译过程的整合。</p><h2 id="语法分析"><a class="markdownIt-Anchor" href="#语法分析"></a> #语法分析</h2><h3 id="上下文无关文法context-free-grammarcfg"><a class="markdownIt-Anchor" href="#上下文无关文法context-free-grammarcfg"></a> #上下文无关文法（Context-Free Grammar，CFG）</h3><p>是指一类形式化的文法，用于描述一类语言。在编译原理中，常用 CFG 来描述程序的语法结构。</p><h3 id="推导derivation"><a class="markdownIt-Anchor" href="#推导derivation"></a> #推导（Derivation）</h3><p>是指按照 CFG 中的规则，从文法的起始符号开始，逐步生成出该文法所描述的语言中的句子的过程。</p><h3 id="语法树parse-tree"><a class="markdownIt-Anchor" href="#语法树parse-tree"></a> #语法树（Parse Tree）</h3><p>是指由语法分析器构建出的一种树形结构，用于表示一个程序的语法结构。</p><h3 id="终结符号terminal-symbol"><a class="markdownIt-Anchor" href="#终结符号terminal-symbol"></a> #终结符号（Terminal Symbol）</h3><p>是指 CFG 中不再进行推导的符号，通常代表程序中的基本语法单元，例如关键字、标识符、操作符等。</p><h3 id="非终结符号nonterminal-symbol"><a class="markdownIt-Anchor" href="#非终结符号nonterminal-symbol"></a> #非终结符号（Nonterminal Symbol）</h3><p>是指 CFG 中可以进行推导的符号，通常代表程序中的语法结构。</p><h3 id="first-集合"><a class="markdownIt-Anchor" href="#first-集合"></a> #FIRST 集合</h3><p>是指 CFG 中某个符号可以推导出的所有终结符号的集合。</p><h3 id="follow-集合"><a class="markdownIt-Anchor" href="#follow-集合"></a> #FOLLOW 集合</h3><p>是指 CFG 中某个非终结符号在某些情况下可以紧跟着的所有终结符号的集合。</p><h3 id="ll1-文法"><a class="markdownIt-Anchor" href="#ll1-文法"></a> #LL(1) 文法</h3><p>是指一类特殊的 CFG，它具有良好的语法特性，可以用于构建预测分析表，从而实现高效的语法分析。</p><h3 id="语法分析器"><a class="markdownIt-Anchor" href="#语法分析器"></a> #语法分析器</h3><p>是指用于对程序进行语法分析的程序或工具。常用的语法分析算法包括 LL 分析、LR 分析、LALR 分析等。</p><h3 id="语法错误syntax-error"><a class="markdownIt-Anchor" href="#语法错误syntax-error"></a> #语法错误（Syntax Error）</h3><p>是指程序中存在语法错误，不能正确进行语法分析的情况。语法错误通常会导致编译器报错，无法继续进行编译。</p><h3 id="语法分析栈parsing-stack"><a class="markdownIt-Anchor" href="#语法分析栈parsing-stack"></a> #语法分析栈（Parsing Stack）</h3><p>是指在语法分析过程中，用于保存符号序列的数据结构。它通常与语法分析表一起使用，用于确定下一步的语法分析动作。</p><h3 id="预测分析表parsing-table"><a class="markdownIt-Anchor" href="#预测分析表parsing-table"></a> #预测分析表（Parsing Table）</h3><p>是指在 LL(1) 文法中，用于指导语法分析器进行语法分析的一张表格。它以语法分析栈的栈顶符号和当前输入符号为索引，提供下一步要进行的语法分析动作。</p><h3 id="语法制导翻译syntax-directed-translation"><a class="markdownIt-Anchor" href="#语法制导翻译syntax-directed-translation"></a> #语法制导翻译（Syntax-Directed Translation）</h3><p>是指通过语法分析器对程序进行语法分析的同时，直接生成目标代码的过程。在语法制导翻译中，通常会为 CFG 中的每个产生式规则指定相应的动作，用于生成目标代码。</p><h3 id="属性文法attribute-grammar"><a class="markdownIt-Anchor" href="#属性文法attribute-grammar"></a> #属性文法（Attribute Grammar）</h3><p>是指一种扩展的文法形式，用于描述产生式规则中的属性计算和传递。在属性文法中，每个符号都可以附加一个或多个属性，并通过产生式规则中的属性计算和传递来推导出符号的最终属性值。</p><h3 id="语法制导翻译器syntax-directed-compiler"><a class="markdownIt-Anchor" href="#语法制导翻译器syntax-directed-compiler"></a> #语法制导翻译器（Syntax-Directed Compiler）</h3><p>是指一类编译器，它通过结合语法分析器和语法制导翻译技术，直接将程序转换为目标代码。与传统的编译器不同，语法制导翻译器不需要生成中间代码，可以直接将程序转换为可执行的目标代码。</p><h3 id="语义动作semantic-action"><a class="markdownIt-Anchor" href="#语义动作semantic-action"></a> #语义动作（Semantic Action）</h3><p>是指在语法制导翻译中，由产生式规则中的语义动作指定的一系列操作，用于生成目标代码或更新语法分析树的属性值。</p><h3 id="语义分析器semantic-analyzer"><a class="markdownIt-Anchor" href="#语义分析器semantic-analyzer"></a> #语义分析器（Semantic Analyzer）</h3><p>是指编译器中的一个模块，用于对程序进行语义分析。语义分析器主要负责类型检查、作用域分析、常量折叠等任务，以确保程序的语义正确性。</p><h3 id="作用域scope"><a class="markdownIt-Anchor" href="#作用域scope"></a> #作用域（Scope）</h3><p>是指程序中变量、函数等实体的可访问范围。作用域规定了一个实体在程序中的有效可见范围，并决定了如何解析名称。</p><h3 id="符号表symbol-table"><a class="markdownIt-Anchor" href="#符号表symbol-table"></a> #符号表（Symbol Table）</h3><p>是指编译器中用于存储变量、函数等实体信息的数据结构。符号表中通常包括每个实体的名称、类型、作用域、地址等信息。</p><h3 id="类型检查type-checking"><a class="markdownIt-Anchor" href="#类型检查type-checking"></a> #类型检查（Type Checking）</h3><p>是指在编译器中对程序进行的一项重要的语义分析，它用于检查程序中的类型错误，包括类型不匹配、类型转换错误等。类型检查是保证程序语义正确性的重要手段。</p><h3 id="语义错误semantic-error"><a class="markdownIt-Anchor" href="#语义错误semantic-error"></a> #语义错误（Semantic Error）</h3><p>是指在程序语义分析过程中发现的错误，包括类型错误、作用域错误、常量溢出等。语义错误通常需要被编译器识别并报告给用户，以便于程序员进行修复。</p><h3 id="中间代码intermediate-code"><a class="markdownIt-Anchor" href="#中间代码intermediate-code"></a> #中间代码（Intermediate Code）</h3><p>是指在编译器中生成的一种抽象的中间表示形式，用于连接语法分析和目标代码生成之间的过渡。中间代码可以是一种低级的虚拟机指令集合，也可以是一种高级的抽象语言形式。</p><h3 id="优化optimization"><a class="markdownIt-Anchor" href="#优化optimization"></a> #优化（Optimization）</h3><p>是指在编译器中对程序进行的一种重要的优化处理，用于提高程序的运行效率和空间利用率。编译器可以对程序进行各种优化，如常量折叠、循环展开、指令调度等。</p><h2 id="语义分析"><a class="markdownIt-Anchor" href="#语义分析"></a> #语义分析</h2><p>在编译原理中，语义分析是指对源程序中表达的语义进行分析和处理，以检查程序中的语义错误、推断类型、构造中间代码等。</p><p>以下是语义分析中的一些重要概念。</p><h3 id="语义"><a class="markdownIt-Anchor" href="#语义"></a> #语义</h3><p>指一个程序或语句在运行时所表达的意义或含义。</p><h3 id="语义错误"><a class="markdownIt-Anchor" href="#语义错误"></a> #语义错误</h3><p>指程序中违反了语言的语义规则或逻辑规则所导致的错误，如类型不匹配、未定义的标识符等。</p><h3 id="符号表"><a class="markdownIt-Anchor" href="#符号表"></a> #符号表</h3><p>指用于存储程序中所有标识符信息的数据结构，包括标识符的名称、类型、作用域等信息。</p><h3 id="作用域"><a class="markdownIt-Anchor" href="#作用域"></a> #作用域</h3><p>指变量或标识符的有效范围，即变量或标识符可以被访问的代码块范围。</p><h3 id="类型"><a class="markdownIt-Anchor" href="#类型"></a> #类型</h3><p>指变量或表达式所代表的数据类型，如整数、浮点数、布尔值等。</p><h3 id="类型检查"><a class="markdownIt-Anchor" href="#类型检查"></a> #类型检查</h3><p>指在编译过程中对程序中的类型进行检查，以确保类型的正确性和一致性。</p><h3 id="中间代码"><a class="markdownIt-Anchor" href="#中间代码"></a> #中间代码</h3><p>指在编译过程中生成的一种抽象的、中间的代码表示形式，可以用于后续的优化和转换。</p><h3 id="语法制导翻译-2"><a class="markdownIt-Anchor" href="#语法制导翻译-2"></a> #语法制导翻译</h3><p>指在语法分析的过程中，通过对语法规则的扩展，将翻译动作嵌入到语法分析过程中，以便生成中间代码或目标代码。</p><h3 id="语义动作"><a class="markdownIt-Anchor" href="#语义动作"></a> #语义动作</h3><p>指在语法分析的同时执行的操作，用于计算属性值、检查类型、更新符号表等。</p><h3 id="类型系统"><a class="markdownIt-Anchor" href="#类型系统"></a> #类型系统</h3><p>指用于描述和检查程序中各种数据类型及其操作的系统。</p><h3 id="作用域嵌套和静态链"><a class="markdownIt-Anchor" href="#作用域嵌套和静态链"></a> #作用域嵌套和静态链</h3><p>在处理作用域嵌套时，可以使用静态链来管理作用域的嵌套关系。静态链可以用于查找变量的定义、访问外层作用域的变量等。</p><h3 id="运行时环境和存储管理"><a class="markdownIt-Anchor" href="#运行时环境和存储管理"></a> #运行时环境和存储管理</h3><p>运行时环境是指程序在运行时所需的各种资源，包括内存、堆栈、寄存器等。在语义分析阶段，需要对程序的存储需求进行分析和规划，以保证程序运行的正确性和效率。</p><h3 id="代码生成和优化"><a class="markdownIt-Anchor" href="#代码生成和优化"></a> #代码生成和优化</h3><p>在语义分析阶段结束后，需要将源程序转换为中间代码或目标代码，并进行优化和调整，以提高代码的执行效率和空间利用率。</p><h3 id="中间代码生成"><a class="markdownIt-Anchor" href="#中间代码生成"></a> #中间代码生成</h3><p>指将源代码转换为中间代码的过程。中间代码可以是一种抽象的指令序列，也可以是一种具有结构的数据结构，例如语法树。</p><h3 id="代码优化"><a class="markdownIt-Anchor" href="#代码优化"></a> #代码优化</h3><p>指通过改变代码结构或执行顺序等手段，以提高代码的性能或可读性。代码优化的目标是使程序运行更快、占用更少的内存，或者使代码更易于维护。</p><h3 id="数据流分析"><a class="markdownIt-Anchor" href="#数据流分析"></a> #数据流分析</h3><p>指对程序中的数据流进行分析，以得到程序中变量的值或取值范围等信息。数据流分析通常用于代码优化和错误检测。</p><h3 id="代码生成器"><a class="markdownIt-Anchor" href="#代码生成器"></a> #代码生成器</h3><p>指将中间代码转换为目标机器代码的程序。代码生成器需要考虑目标机器的指令集、寄存器分配、指令选择等问题，以保证生成的代码能够在目标机器上正确执行。</p><h3 id="运行时错误"><a class="markdownIt-Anchor" href="#运行时错误"></a> #运行时错误</h3><p>指程序在运行时产生的错误，如除零错误、内存访问错误等。运行时错误通常需要在编译器生成的代码中插入异常处理代码来处理。</p><h3 id="代码调试"><a class="markdownIt-Anchor" href="#代码调试"></a> #代码调试</h3><p>指通过分析程序的运行状态来发现和修复程序中的错误。代码调试通常需要使用调试器等工具来实现。</p><h3 id="汇编语言"><a class="markdownIt-Anchor" href="#汇编语言"></a> #汇编语言</h3><p>指一种较低层次的程序语言，用于编写机器语言指令。汇编语言通常比高级语言更接近机器的底层，但也更难以编写和调试。</p><h2 id="中间代码生成-2"><a class="markdownIt-Anchor" href="#中间代码生成-2"></a> #中间代码生成</h2><h3 id="中间代码intermediate-code-2"><a class="markdownIt-Anchor" href="#中间代码intermediate-code-2"></a> #中间代码（Intermediate Code）</h3><p>是编译器在源代码和目标代码之间生成的一种抽象表示形式，它通常比源代码和目标代码都要简单和易于处理。</p><h3 id="三地址码three-address-code"><a class="markdownIt-Anchor" href="#三地址码three-address-code"></a> #三地址码（Three-Address Code）</h3><p>是一种简单的中间代码表示形式，每个语句都包含最多三个操作数，用于执行基本的算术和逻辑运算。</p><h3 id="控制流语句control-flow-statements"><a class="markdownIt-Anchor" href="#控制流语句control-flow-statements"></a> #控制流语句（Control Flow Statements）</h3><p>是指程序中的条件语句和循环语句，用于控制程序的执行流程。在中间代码生成中，需要将这些语句转换为等价的三地址码。</p><h3 id="基本块basic-block"><a class="markdownIt-Anchor" href="#基本块basic-block"></a> #基本块（Basic Block）</h3><p>是指程序中的一段连续的代码，其中只包含一个入口点和一个出口点。在中间代码生成中，基本块通常是由控制流语句或标签语句分割的代码块。</p><h3 id="流图flow-graph"><a class="markdownIt-Anchor" href="#流图flow-graph"></a> #流图（Flow Graph）</h3><p>是指程序中所有基本块之间的控制流关系所组成的图。在中间代码生成中，流图通常用于进行基本块的优化和代码生成。</p><h3 id="寄存器分配register-allocation"><a class="markdownIt-Anchor" href="#寄存器分配register-allocation"></a> #寄存器分配（Register Allocation）</h3><p>是指将程序中的变量分配到CPU寄存器上，以提高程序的运行效率。在中间代码生成中，需要进行寄存器分配，以便于生成高效的目标代码。</p><h3 id="活跃变量分析live-variable-analysis"><a class="markdownIt-Anchor" href="#活跃变量分析live-variable-analysis"></a> #活跃变量分析（Live Variable Analysis）</h3><p>是指分析程序中每个变量的生命周期，以确定何时可以释放该变量所占用的内存空间。在中间代码生成中，需要进行活跃变量分析，以便于在生成目标代码时释放不再需要的变量。</p><h3 id="常量折叠constant-folding"><a class="markdownIt-Anchor" href="#常量折叠constant-folding"></a> #常量折叠（Constant Folding）</h3><p>是指在编译器中对程序中的常量表达式进行求值，以减少程序运行时的计算量。在中间代码生成中，可以通过常量折叠来优化程序的性能。</p><h3 id="指令选择instruction-selection"><a class="markdownIt-Anchor" href="#指令选择instruction-selection"></a> #指令选择（Instruction Selection）</h3><p>是指在中间代码和目标代码之间选择合适的指令序列，以满足目标机器的特定需求。在中间代码生成中，需要进行指令选择，以便于生成高效的目标代码。</p><h3 id="目标代码生成code-generation"><a class="markdownIt-Anchor" href="#目标代码生成code-generation"></a> #目标代码生成（Code Generation）</h3><p>是指将中间代码转换为目标机器的机器代码。在中间代码生成的最后阶段，需要进行目标代码生成，以便于生成可执行的目标程序。</p><h3 id="活跃变量分析live-variable-analysis-2"><a class="markdownIt-Anchor" href="#活跃变量分析live-variable-analysis-2"></a> #活跃变量分析（Live Variable Analysis）</h3><p>在中间代码中，对于每个指令计算出其定义变量在程序控制流到达该指令之前是否被使用，如果被使用则称该变量在该指令处是活跃的，否则是不活跃的。这个分析可以用来优化寄存器的分配，避免不必要的寄存器保存。</p><h3 id="常量折叠constant-folding-2"><a class="markdownIt-Anchor" href="#常量折叠constant-folding-2"></a> #常量折叠（Constant Folding）</h3><p>在中间代码中，将常量表达式在编译时求值，然后将结果作为常量替换原表达式。这个优化可以减少代码的运行时开销。</p><h3 id="变量替换variable-substitution"><a class="markdownIt-Anchor" href="#变量替换variable-substitution"></a> #变量替换（Variable Substitution）</h3><p>在中间代码中，将某些变量用其它变量替换，以减少中间代码的大小和复杂度。例如，可以将一个变量的值替换为另一个变量的值，或者将一个表达式的结果赋给多个变量时，将它们用一个临时变量替换。</p><h3 id="常量传播constant-propagation"><a class="markdownIt-Anchor" href="#常量传播constant-propagation"></a> #常量传播（Constant Propagation）</h3><p>在中间代码中，将某些表达式的变量用其它变量或常量替换，以简化表达式并减少中间代码的大小和复杂度。例如，将一个变量的值替换为一个已知的常量或另一个变量的值，或者将一个变量的值用于只有一个可能的常量值的算术运算时，将表达式简化为常量。</p><h3 id="数组和指针引用优化"><a class="markdownIt-Anchor" href="#数组和指针引用优化"></a> #数组和指针引用优化</h3><p>针对数组和指针的访问，可以进行一些优化，例如使用指针算术运算代替数组索引运算，减少不必要的指针解引用等。</p><h3 id="函数内联function-inlining"><a class="markdownIt-Anchor" href="#函数内联function-inlining"></a> #函数内联（Function Inlining）</h3><p>在中间代码中，将函数调用替换为函数体中的代码，以减少函数调用开销。这个优化可以提高程序的执行速度，但会增加代码的大小和复杂度。</p><h3 id="循环优化"><a class="markdownIt-Anchor" href="#循环优化"></a> #循环优化</h3><p>针对循环结构，可以进行一些优化，例如循环展开、循环不变式外提、循环拆分、循环划分等。这些优化可以减少循环控制的开销和内存访问开销，提高程序的执行速度。</p><h2 id="目标代码生成"><a class="markdownIt-Anchor" href="#目标代码生成"></a> #目标代码生成</h2><h3 id="目标机器"><a class="markdownIt-Anchor" href="#目标机器"></a> #目标机器</h3><p>目标代码生成需要针对特定的目标机器，因为不同的机器有不同的指令集和内存结构，所以生成的代码需要适应不同的机器。</p><h3 id="目标代码"><a class="markdownIt-Anchor" href="#目标代码"></a> #目标代码</h3><p>目标代码是一种可以直接在目标机器上执行的机器语言代码。</p><h3 id="寄存器分配"><a class="markdownIt-Anchor" href="#寄存器分配"></a> #寄存器分配</h3><p>目标代码生成过程中需要考虑如何利用寄存器，将变量和临时值存储在寄存器中可以提高程序的执行效率。寄存器分配算法可以将变量和临时值分配到可用的寄存器中。</p><h3 id="内存分配"><a class="markdownIt-Anchor" href="#内存分配"></a> #内存分配</h3><p>如果寄存器不够用，那么就需要将变量和临时值存储在内存中。内存分配算法可以将变量和临时值分配到可用的内存位置中。</p><h3 id="代码优化-2"><a class="markdownIt-Anchor" href="#代码优化-2"></a> #代码优化</h3><p>目标代码生成过程中可以进行一些代码优化，以提高代码的执行效率。代码优化可以在代码生成的过程中进行，也可以在生成的代码上进行。</p><h3 id="代码生成算法"><a class="markdownIt-Anchor" href="#代码生成算法"></a> #代码生成算法</h3><p>代码生成算法是将中间代码转换为目标代码的核心部分，常见的算法有基于栈的代码生成算法、基于寄存器的代码生成算法、线性扫描算法等。</p><h3 id="汇编语言-2"><a class="markdownIt-Anchor" href="#汇编语言-2"></a> #汇编语言</h3><p>汇编语言是一种与机器语言密切相关的低级语言，它可以将机器语言代码以易于理解的助记符表示出来。目标代码生成过程中通常会生成汇编语言代码，再由汇编器将其转换为机器语言代码。</p><h2 id="目标代码优化"><a class="markdownIt-Anchor" href="#目标代码优化"></a> #目标代码优化</h2><h3 id="优化策略"><a class="markdownIt-Anchor" href="#优化策略"></a> #优化策略</h3><p>目标代码优化的过程中，采用的具体优化手段和算法，包括局部优化和全局优化。</p><h3 id="数据流分析-2"><a class="markdownIt-Anchor" href="#数据流分析-2"></a> #数据流分析</h3><p>一种静态分析技术，用于获取程序在执行过程中变量的值和控制流等信息，以便进行优化。</p><h3 id="基本块"><a class="markdownIt-Anchor" href="#基本块"></a> #基本块</h3><p>是一个连续的、没有分支的代码序列，其中只有一个入口和一个出口。基本块是进行优化的基本单位。</p><h3 id="控制流图"><a class="markdownIt-Anchor" href="#控制流图"></a> #控制流图</h3><p>程序中各个基本块之间的控制流关系的图形表示，可以用于分析和优化程序的执行路径。</p><h3 id="活跃变量分析"><a class="markdownIt-Anchor" href="#活跃变量分析"></a> #活跃变量分析</h3><p>一种数据流分析技术，用于分析程序执行过程中哪些变量的值会在之后的执行中被使用，以便进行优化。</p><h3 id="冗余代码删除"><a class="markdownIt-Anchor" href="#冗余代码删除"></a> #冗余代码删除</h3><p>在程序执行中不会对结果产生影响的代码被称为冗余代码。删除冗余代码可以减小目标代码的体积和执行时间。</p><h3 id="常量折叠"><a class="markdownIt-Anchor" href="#常量折叠"></a> #常量折叠</h3><p>在编译器优化阶段，将程序中的常量表达式计算出结果，并用结果代替表达式。</p><h3 id="循环优化-2"><a class="markdownIt-Anchor" href="#循环优化-2"></a> #循环优化</h3><p>循环是程序中重要的控制结构，循环优化可以通过控制循环的执行顺序和次数，来提高程序的效率。</p><h3 id="代码调度"><a class="markdownIt-Anchor" href="#代码调度"></a> #代码调度</h3><p>将指令重新排序，使得相邻的指令能够共享寄存器和缓存等计算资源，以提高程序的执行效率。</p><h3 id="寄存器分配-2"><a class="markdownIt-Anchor" href="#寄存器分配-2"></a> #寄存器分配</h3><p>在目标代码生成过程中，将程序中需要用到的变量映射到可用的寄存器中，以减少访问内存的次数，提高程序的执行速度。</p><h3 id="函数内联"><a class="markdownIt-Anchor" href="#函数内联"></a> #函数内联</h3><p>将函数调用的代码直接插入到调用处，减少函数调用的开销，提高程序的执行效率。</p><h3 id="代码复用"><a class="markdownIt-Anchor" href="#代码复用"></a> #代码复用</h3><p>将程序中重复出现的代码块提取成函数或模块，避免代码重复，提高代码的可维护性。</p><h3 id="变量存储优化"><a class="markdownIt-Anchor" href="#变量存储优化"></a> #变量存储优化</h3><p>优化程序中变量的内存存储方式，例如将全局变量转化为局部变量等，减少内存访问次数，提高程序的执行效率。</p><h3 id="并行化优化"><a class="markdownIt-Anchor" href="#并行化优化"></a> #并行化优化</h3><p>利用多核处理器等多种技术，将程序中的计算任务并行化，以提高程序的执行效率。</p><h3 id="代码生成"><a class="markdownIt-Anchor" href="#代码生成"></a> #代码生成</h3><p>根据中间代码生成目标机器的汇编代码或机器码，需要考虑处理器指令集、内存访问模式等因素，以产生高效的目标代码。</p></div><footer class="article-footer"><a data-url="http://blog.jinmajue.site/posts/6536aa06/" data-id="cm5buoi1z002geg94696n6ouz" data-title="编译原理概念速查" class="article-share-link"><span class="fa fa-share">分享</span></a><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/notes/" rel="tag">notes</a></li></ul></footer></div></article><article id="post-编译原理实验" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting"><div class="article-meta"><a href="/posts/bf342a1b/" class="article-date"><time class="dt-published" datetime="2024-10-13T13:51:31.000Z" itemprop="datePublished">2024-10-13</time></a></div><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="p-name article-title" href="/posts/bf342a1b/">编译原理实验</a></h1></header><div class="e-content article-entry" itemprop="articleBody"><h3 id="1词法分析"><a class="markdownIt-Anchor" href="#1词法分析"></a> 1.词法分析</h3><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;conio.h&gt;</span>  <span class="hljs-comment">// getch()</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><br><span class="hljs-type">char</span> prog[<span class="hljs-number">80</span>], token[<span class="hljs-number">32</span>], ch;  <span class="hljs-comment">// 扩大 token 的大小，防止溢出</span><br><span class="hljs-type">int</span> syn, p, m, n, sum;<br><span class="hljs-type">char</span> *rwtab[<span class="hljs-number">6</span>] = {<span class="hljs-string">"begin"</span>, <span class="hljs-string">"if"</span>, <span class="hljs-string">"then"</span>, <span class="hljs-string">"while"</span>, <span class="hljs-string">"do"</span>, <span class="hljs-string">"end"</span>};  <span class="hljs-comment">// 保留字表</span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">scaner</span><span class="hljs-params">()</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> {<br>    p = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"\nPlease input a string (end with '#'):\n"</span>);<br><br>    <span class="hljs-comment">// 读取输入直到#</span><br>    <span class="hljs-keyword">do</span> {<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%c"</span>, &amp;ch);<br>        prog[p++] = ch;<br>    } <span class="hljs-keyword">while</span> (ch != <span class="hljs-string">'#'</span>);<br><br>    p = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">do</span> {<br>        scaner();  <span class="hljs-comment">// 执行词法分析</span><br>        <span class="hljs-keyword">switch</span> (syn) {<br>            <span class="hljs-keyword">case</span> <span class="hljs-number">11</span>:<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">"( %-10d%5d )\n"</span>, sum, syn);<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-number">-1</span>:<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">"You have input a wrong string\n"</span>);<br>                getch();<br>                <span class="hljs-built_in">exit</span>(<span class="hljs-number">0</span>);<br>            <span class="hljs-keyword">default</span>:<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">"( %-10s%5d )\n"</span>, token, syn);<br>                <span class="hljs-keyword">break</span>;<br>        }<br>    } <span class="hljs-keyword">while</span> (syn != <span class="hljs-number">0</span>);  <span class="hljs-comment">// 直到遇到终止符号 #</span><br><br>    getch();<br>}<br><br><span class="hljs-comment">// 词法分析函数</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">scaner</span><span class="hljs-params">()</span> {<br>    sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(token, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(token));  <span class="hljs-comment">// 清空token数组</span><br>    ch = prog[p++];<br>    m = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-comment">// 跳过空格和换行符</span><br>    <span class="hljs-keyword">while</span> ((ch == <span class="hljs-string">' '</span>) || (ch == <span class="hljs-string">'\n'</span>)) {<br>        ch = prog[p++];<br>    }<br><br>    <span class="hljs-comment">// 处理标识符或保留字</span><br>    <span class="hljs-keyword">if</span> (((ch &gt;= <span class="hljs-string">'a'</span>) &amp;&amp; (ch &lt;= <span class="hljs-string">'z'</span>)) || ((ch &gt;= <span class="hljs-string">'A'</span>) &amp;&amp; (ch &lt;= <span class="hljs-string">'Z'</span>))) {<br>        <span class="hljs-keyword">while</span> (((ch &gt;= <span class="hljs-string">'a'</span>) &amp;&amp; (ch &lt;= <span class="hljs-string">'z'</span>)) || ((ch &gt;= <span class="hljs-string">'A'</span>) &amp;&amp; (ch &lt;= <span class="hljs-string">'Z'</span>)) || ((ch &gt;= <span class="hljs-string">'0'</span>) &amp;&amp; (ch &lt;= <span class="hljs-string">'9'</span>))) {<br>            token[m++] = ch;<br>            ch = prog[p++];<br>        }<br>        p--;  <span class="hljs-comment">// 回退一个字符</span><br>        syn = <span class="hljs-number">10</span>;  <span class="hljs-comment">// 标识符默认值</span><br><br>        <span class="hljs-comment">// 检查是否是保留字</span><br>        <span class="hljs-keyword">for</span> (n = <span class="hljs-number">0</span>; n &lt; <span class="hljs-number">6</span>; n++) {<br>            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(token, rwtab[n]) == <span class="hljs-number">0</span>) {<br>                syn = n + <span class="hljs-number">1</span>;  <span class="hljs-comment">// 是保留字</span><br>                <span class="hljs-keyword">break</span>;<br>            }<br>        }<br>    }<br>        <span class="hljs-comment">// 处理数字</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((ch &gt;= <span class="hljs-string">'0'</span>) &amp;&amp; (ch &lt;= <span class="hljs-string">'9'</span>)) {<br>        <span class="hljs-keyword">while</span> ((ch &gt;= <span class="hljs-string">'0'</span>) &amp;&amp; (ch &lt;= <span class="hljs-string">'9'</span>)) {<br>            sum = sum * <span class="hljs-number">10</span> + ch - <span class="hljs-string">'0'</span>;<br>            ch = prog[p++];<br>        }<br>        p--;  <span class="hljs-comment">// 回退一个字符</span><br>        syn = <span class="hljs-number">11</span>;  <span class="hljs-comment">// 数字</span><br>    }<br>        <span class="hljs-comment">// 处理其他符号</span><br>    <span class="hljs-keyword">else</span> {<br>        token[m++] = ch;<br>        <span class="hljs-keyword">switch</span> (ch) {<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'&lt;'</span>:<br>                ch = prog[p++];<br>                <span class="hljs-keyword">if</span> (ch == <span class="hljs-string">'='</span>) {<br>                    syn = <span class="hljs-number">22</span>;<br>                    token[m++] = ch;<br>                } <span class="hljs-keyword">else</span> {<br>                    syn = <span class="hljs-number">20</span>;<br>                    p--;<br>                }<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'&gt;'</span>:<br>                ch = prog[p++];<br>                <span class="hljs-keyword">if</span> (ch == <span class="hljs-string">'='</span>) {<br>                    syn = <span class="hljs-number">24</span>;<br>                    token[m++] = ch;<br>                } <span class="hljs-keyword">else</span> {<br>                    syn = <span class="hljs-number">23</span>;<br>                    p--;<br>                }<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'+'</span>:<br>                ch = prog[p++];<br>                <span class="hljs-keyword">if</span> (ch == <span class="hljs-string">'+'</span>) {<br>                    syn = <span class="hljs-number">17</span>;<br>                    token[m++] = ch;<br>                } <span class="hljs-keyword">else</span> {<br>                    syn = <span class="hljs-number">13</span>;<br>                    p--;<br>                }<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'-'</span>:<br>                ch = prog[p++];<br>                <span class="hljs-keyword">if</span> (ch == <span class="hljs-string">'-'</span>) {<br>                    syn = <span class="hljs-number">29</span>;<br>                    token[m++] = ch;<br>                } <span class="hljs-keyword">else</span> {<br>                    syn = <span class="hljs-number">14</span>;<br>                    p--;<br>                }<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'!'</span>:<br>                ch = prog[p++];<br>                <span class="hljs-keyword">if</span> (ch == <span class="hljs-string">'='</span>) {<br>                    syn = <span class="hljs-number">21</span>;<br>                    token[m++] = ch;<br>                } <span class="hljs-keyword">else</span> {<br>                    syn = <span class="hljs-number">31</span>;<br>                    p--;<br>                }<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'='</span>:<br>                ch = prog[p++];<br>                <span class="hljs-keyword">if</span> (ch == <span class="hljs-string">'='</span>) {<br>                    syn = <span class="hljs-number">25</span>;<br>                    token[m++] = ch;<br>                } <span class="hljs-keyword">else</span> {<br>                    syn = <span class="hljs-number">18</span>;<br>                    p--;<br>                }<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'*'</span>: syn = <span class="hljs-number">15</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'/'</span>: syn = <span class="hljs-number">16</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'('</span>: syn = <span class="hljs-number">27</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">')'</span>: syn = <span class="hljs-number">28</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'{'</span>: syn = <span class="hljs-number">5</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'}'</span>: syn = <span class="hljs-number">6</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">';'</span>: syn = <span class="hljs-number">26</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'\"'</span>: syn = <span class="hljs-number">30</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'#'</span>: syn = <span class="hljs-number">0</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">':'</span>: syn = <span class="hljs-number">17</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">default</span>: syn = <span class="hljs-number">-1</span>; <span class="hljs-keyword">break</span>;<br>        }<br>    }<br>    token[m] = <span class="hljs-string">'\0'</span>;  <span class="hljs-comment">// 结束token字符串</span><br>}<br><br></code></pre></td></tr></tbody></table></figure><p><img src="https://jinmajue-typora-picture-bed.oss-cn-zhangjiakou.aliyuncs.com/202410142245186.png" alt="image-20241014224527945"></p><details><summary>点击显示/隐藏</summary><p>这段代码是一个简单的词法分析器（Lexical Analyzer），用于解析输入字符串并将其拆分为词法单元（Token），如标识符、数字、保留字和操作符等。词法分析器是编译器前端的一部分，它读取源代码，将其分解为有意义的基本元素，供后续的语法分析阶段使用。</p><h3>程序的结构概述</h3><ul><li><strong>全局变量</strong>：<ul><li><code>prog[80]</code>: 用来存储输入的程序字符序列，最多可容纳80个字符。</li><li><code>token[32]</code>: 存储当前识别的词法单元（Token），最大长度为32个字符。</li><li><code>ch</code>: 用来存储当前读取的字符。</li><li><code>syn</code>: 用来表示当前识别的词法单元的类型（如保留字、标识符、操作符等）。</li><li><code>p</code>: 指向 <code>prog</code> 中当前读取字符的位置。</li><li><code>m</code>: 指向 <code>token</code> 中存储字符的位置。</li><li><code>n</code>: 辅助变量，用于遍历保留字表。</li><li><code>sum</code>: 用于处理数字时存储数值。</li><li><code>rwtab[6]</code>: 保留字表，包含6个保留字：<code>begin</code>, <code>if</code>, <code>then</code>, <code>while</code>, <code>do</code>, <code>end</code>。</li></ul></li></ul><h3>主要函数</h3><ol><li><p><strong><code>main</code> 函数</strong>：</p><ul><li>程序从 <code>main</code> 函数开始，首先读取用户输入的字符串并存储在 <code>prog</code> 数组中，输入以 <code>#</code> 结束。</li><li>然后，调用 <code>scaner</code> 函数进行词法分析。<code>scaner</code> 函数会不断返回词法单元，直到遇到 <code>#</code> 为止。</li><li>根据 <code>syn</code> 的值，决定如何输出词法单元，分别处理数字、保留字、标识符、符号以及错误情况。</li></ul></li><li><p><strong><code>scaner</code> 函数（词法分析的核心部分）</strong>：</p><ul><li><strong>步骤 1：跳过空白字符</strong>。从 <code>prog</code> 中读取字符，忽略空格和换行符。</li><li><strong>步骤 2：识别标识符或保留字</strong>。如果字符是字母，进入标识符或保留字识别逻辑。持续读取字母或数字字符，直到遇到非字母或非数字字符。然后检查是否是保留字，如果是，设置相应的 <code>syn</code> 值（1-6），否则 <code>syn</code> 设为 10（标识符）。</li><li><strong>步骤 3：识别数字</strong>。如果字符是数字，进入数字识别逻辑，构造数值并存储在 <code>sum</code> 中，最后将 <code>syn</code> 设为 11。</li><li><strong>步骤 4：识别符号</strong>。如果是操作符或其他符号（如 <code>+</code>、<code>-</code>、<code>&lt;</code>、<code>&gt;</code> 等），根据规则构造相应的词法单元，给出对应的 <code>syn</code> 值。部分符号（如 <code>&lt;=</code>、<code>&gt;=</code>）需要多读取一个字符进行判断。</li><li><strong>步骤 5：结束标记</strong>。如果遇到 <code>#</code>，将 <code>syn</code> 设为 0，表示结束。</li><li><strong>步骤 6：错误处理</strong>。如果遇到无法识别的字符，将 <code>syn</code> 设为 -1，并在 <code>main</code> 函数中输出错误信息。</li></ul></li></ol><h3>词法单元类型 (<code>syn</code>) 对应表：</h3><ul><li>保留字（<code>begin</code>, <code>if</code>, <code>then</code>, <code>while</code>, <code>do</code>, <code>end</code>）：1-6</li><li>标识符：10</li><li>数字：11</li><li>操作符和符号：<ul><li><code>&lt;</code>：20, <code>&lt;=</code>：22</li><li><code>&gt;</code>：23, <code>&gt;=</code>：24</li><li><code>=</code>：18, <code>==</code>：25</li><li><code>!</code>：31, <code>!=</code>：21</li><li><code>+</code>：13, <code>++</code>：17</li><li><code>-</code>：14, <code>--</code>：29</li><li><code>*</code>：15</li><li><code>/</code>：16</li><li><code>(</code>：27, <code>)</code>：28</li><li><code>{</code>：5, <code>}</code>：6</li><li><code>;</code>：26</li><li><code>#</code>：0 （结束标记）</li></ul></li><li>错误字符：<code>syn = -1</code></li></ul><h3>程序运行过程：</h3><ol><li><p><strong>输入阶段</strong>：</p><ul><li>用户输入一段以 <code>#</code> 结束的字符串，程序读取并存储在 <code>prog</code> 数组中。</li></ul></li><li><p><strong>词法分析阶段</strong>：</p><ul><li>程序调用 <code>scaner</code> 函数，逐个扫描字符并识别出相应的词法单元。</li><li><code>scaner</code> 会判断当前字符属于哪种类型：保留字、标识符、数字或符号，并赋值 <code>syn</code> 作为识别标志。</li><li>程序输出对应的词法单元和 <code>syn</code> 值，直到遇到 <code>#</code> 为止。</li></ul></li><li><p><strong>输出阶段</strong>：</p><ul><li>若为标识符或保留字，程序会输出标识符或保留字的字符串和对应的 <code>syn</code> 值。</li><li>若为数字，程序会输出数值和 <code>syn = 11</code>。</li><li>若遇到错误输入，程序会提示用户输入了错误的字符串，并终止运行。</li></ul></li></ol><h3>总结：</h3><p>这个程序实现了一个简单的词法分析器，能够处理保留字、标识符、数字和常见的操作符。对于初学者而言，它提供了一个理解编译器前端词法分析功能的基础框架，后续可以通过增加更多的保留字、符号或扩展错误处理来进一步完善。</p><h3>1. <code>memset(token, 0, sizeof(token)); // 清空token数组</code></h3><p><code>memset</code> 是 C 标准库中的函数，用于将内存中的某一块区域全部填充为某个值。在这行代码中：</p><ul><li><strong><code>token</code></strong> 是一个字符数组，用来存储当前正在分析的词法单元（Token）。</li><li><strong><code>sizeof(token)</code></strong> 表示 <code>token</code> 数组的大小，即 32 字节。</li><li><strong><code>memset(token, 0, sizeof(token))</code></strong> 将 <code>token</code> 数组的所有元素设置为 0，也就是将整个数组清空。</li></ul><p>在词法分析中，每次读取到新的词法单元时，需要重置 <code>token</code>，以确保不受之前词法单元的影响。</p><h3>2. <code>p--; // 回退一个字符</code></h3><p>在词法分析过程中，程序会不断从 <code>prog</code> 数组中读取字符，<code>p</code> 是当前字符的指针（数组下标）。当 <code>scaner</code> 函数识别出一个完整的标识符、数字或符号时，通常会多读取了一个不属于该词法单元的字符（如空格、符号等），这时就需要将指针回退一个字符。</p><p><strong>作用</strong>：</p><ul><li>在识别标识符、数字等连续字符的词法单元时，<code>p--;</code> 确保不会跳过或漏掉字符。通过回退，可以让下次词法分析继续处理下一个未分析的字符。</li></ul><p>例如：</p><ul><li>假设输入为 <code>"abc "</code>，程序在读取 <code>"abc"</code> 时，会额外读取一个空格。因此需要回退一个字符，以便后续继续分析。</li></ul><h3>3. <code>strcmp(token, rwtab[n]) // 比较 token 和 rwtab[n]</code></h3><p><code>strcmp</code> 是 C 标准库中的字符串比较函数。它用来比较两个字符串的内容是否相同。</p><ul><li><strong><code>token</code></strong> 是存储当前识别的词法单元的字符数组。</li><li><strong><code>rwtab[n]</code></strong> 是保留字表中的一个字符串，如 <code>"begin"</code>, <code>"if"</code> 等。</li><li><strong><code>strcmp(token, rwtab[n])</code></strong> 会比较 <code>token</code> 和 <code>rwtab[n]</code> 是否相等。<ul><li>如果相等，返回 0，说明当前 <code>token</code> 是保留字；</li><li>如果不相等，返回非 0 值，说明 <code>token</code> 不是当前比较的保留字。</li></ul></li></ul><p>通过遍历 <code>rwtab</code> 数组中的保留字列表，可以判断当前 <code>token</code> 是否为保留字。</p><h3>4. <code>token[m] = '\0'; // 结束token字符串</code></h3><p>C 语言中的字符串以 <code>\0</code>（空字符）作为结束标志。这一行代码的作用是将 <code>token</code> 数组的最后一位设置为 <code>\0</code>，从而将它标记为一个合法的 C 字符串。</p><ul><li><strong>为什么要这样做？</strong><ul><li>在 C 语言中，字符串是以字符数组的形式表示的，并且字符串的结尾必须用 <code>\0</code> 来表示，否则该字符数组无法作为字符串使用。</li><li><code>\0</code> 确保 <code>token</code> 在后续操作（例如 <code>strcmp</code>）中可以正确处理和比较。</li></ul></li></ul><p><strong>总结</strong>：</p><ul><li><strong><code>memset</code></strong>：清空 <code>token</code>，以防残留数据影响词法分析。</li><li><strong><code>p--</code></strong>：回退一个字符，确保下次分析从正确位置开始。</li><li><strong><code>strcmp</code></strong>：比较 <code>token</code> 是否与保留字表中的某个保留字相同。</li><li><strong><code>token[m] = '\0</code></strong>：将 <code>token</code> 标记为一个以 <code>\0</code> 结尾的合法 C 字符串，确保后续字符串操作可以正确进行。</li></ul></details><h3 id="2-语法分析"><a class="markdownIt-Anchor" href="#2-语法分析"></a> 2. 语法分析</h3><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;conio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><br><span class="hljs-type">char</span> prog[<span class="hljs-number">100</span>], token[<span class="hljs-number">32</span>], ch;<br><span class="hljs-type">char</span> *rwtab[<span class="hljs-number">6</span>] = {<span class="hljs-string">"begin"</span>, <span class="hljs-string">"if"</span>, <span class="hljs-string">"then"</span>, <span class="hljs-string">"while"</span>, <span class="hljs-string">"do"</span>, <span class="hljs-string">"end"</span>};<br><span class="hljs-type">int</span> syn, p, m, n, sum, kk;<br><br><span class="hljs-comment">// 函数声明</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">scaner</span><span class="hljs-params">()</span>;<br><span class="hljs-type">int</span> <span class="hljs-title function_">lrparser</span><span class="hljs-params">()</span>;<br><span class="hljs-type">int</span> <span class="hljs-title function_">yucu</span><span class="hljs-params">()</span>;<br><span class="hljs-type">int</span> <span class="hljs-title function_">statement</span><span class="hljs-params">()</span>;<br><span class="hljs-type">int</span> <span class="hljs-title function_">expression</span><span class="hljs-params">()</span>;<br><span class="hljs-type">int</span> <span class="hljs-title function_">term</span><span class="hljs-params">()</span>;<br><span class="hljs-type">int</span> <span class="hljs-title function_">factor</span><span class="hljs-params">()</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> {<br>    p = kk = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"\nPlease input a string (end with '#'): \n"</span>);<br><br>    <span class="hljs-comment">// 读入程序字符</span><br>    <span class="hljs-keyword">do</span> {<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%c"</span>, &amp;ch);<br>        prog[p++] = ch;<br>    } <span class="hljs-keyword">while</span> (ch != <span class="hljs-string">'#'</span>);<br><br>    p = <span class="hljs-number">0</span>;<br>    scaner(); <span class="hljs-comment">// 读取第一个单词符号</span><br>    lrparser(); <span class="hljs-comment">// 进行语法分析</span><br>    getch();<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>}<br><br><span class="hljs-comment">// LR语法分析器</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">lrparser</span><span class="hljs-params">()</span> {<br>    <span class="hljs-keyword">if</span> (syn == <span class="hljs-number">1</span>) { <span class="hljs-comment">// 'begin'</span><br>        scaner();       <span class="hljs-comment">// 读下一个单词符号</span><br>        yucu();         <span class="hljs-comment">// 调用语句序列处理</span><br>        <span class="hljs-keyword">if</span> (syn == <span class="hljs-number">6</span>) { <span class="hljs-comment">// 'end'</span><br>            scaner();<br>            <span class="hljs-keyword">if</span> (syn == <span class="hljs-number">0</span>) { <span class="hljs-comment">// 成功</span><br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Success!\n"</span>);<br>            }<br>        } <span class="hljs-keyword">else</span> {<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Error: Expected 'end'!\n"</span>);<br>        }<br>    } <span class="hljs-keyword">else</span> {<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Error: Expected 'begin'!\n"</span>);<br>    }<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>}<br><br><span class="hljs-comment">// 处理语句序列</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">yucu</span><span class="hljs-params">()</span> {<br>    statement();   <span class="hljs-comment">// 调用语句处理</span><br>    <span class="hljs-keyword">while</span> (syn == <span class="hljs-number">26</span>) { <span class="hljs-comment">// ';'</span><br>        scaner();   <span class="hljs-comment">// 读下一个单词符号</span><br>        <span class="hljs-keyword">if</span> (syn != <span class="hljs-number">6</span>) { <span class="hljs-comment">// 如果不是'end'，继续处理下一个语句</span><br>            statement();<br>        }<br>    }<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>}<br><br><span class="hljs-comment">// 处理单条语句</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">statement</span><span class="hljs-params">()</span> {<br>    <span class="hljs-keyword">if</span> (syn == <span class="hljs-number">10</span>) { <span class="hljs-comment">// 标识符</span><br>        scaner(); <span class="hljs-comment">// 读下一个单词符号</span><br>        <span class="hljs-keyword">if</span> (syn == <span class="hljs-number">18</span>) { <span class="hljs-comment">// ':='</span><br>            scaner(); <span class="hljs-comment">// 读下一个单词符号</span><br>            expression(); <span class="hljs-comment">// 处理表达式</span><br>        } <span class="hljs-keyword">else</span> {<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Error: Expected ':='\n"</span>);<br>            kk = <span class="hljs-number">1</span>;<br>        }<br>    } <span class="hljs-keyword">else</span> {<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Error: Invalid statement!\n"</span>);<br>        kk = <span class="hljs-number">1</span>;<br>    }<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>}<br><br><span class="hljs-comment">// 处理表达式</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">expression</span><span class="hljs-params">()</span> {<br>    term(); <span class="hljs-comment">// 处理项</span><br>    <span class="hljs-keyword">while</span> (syn == <span class="hljs-number">13</span> || syn == <span class="hljs-number">14</span>) { <span class="hljs-comment">// '+'或'-'</span><br>        scaner(); <span class="hljs-comment">// 读下一个单词符号</span><br>        term();   <span class="hljs-comment">// 处理项</span><br>    }<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>}<br><br><span class="hljs-comment">// 处理项</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">term</span><span class="hljs-params">()</span> {<br>    factor(); <span class="hljs-comment">// 处理因子</span><br>    <span class="hljs-keyword">while</span> (syn == <span class="hljs-number">15</span> || syn == <span class="hljs-number">16</span>) { <span class="hljs-comment">// '*'或'/'</span><br>        scaner(); <span class="hljs-comment">// 读下一个单词符号</span><br>        factor(); <span class="hljs-comment">// 处理因子</span><br>    }<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>}<br><br><span class="hljs-comment">// 处理因子</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">factor</span><span class="hljs-params">()</span> {<br>    <span class="hljs-keyword">if</span> (syn == <span class="hljs-number">10</span> || syn == <span class="hljs-number">11</span>) { <span class="hljs-comment">// 标识符或数字</span><br>        scaner(); <span class="hljs-comment">// 读下一个单词符号</span><br>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (syn == <span class="hljs-number">27</span>) { <span class="hljs-comment">// '('</span><br>        scaner();<br>        expression(); <span class="hljs-comment">// 处理表达式</span><br>        <span class="hljs-keyword">if</span> (syn == <span class="hljs-number">28</span>) { <span class="hljs-comment">// ')'</span><br>            scaner(); <span class="hljs-comment">// 读下一个单词符号</span><br>        } <span class="hljs-keyword">else</span> {<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Error: Expected ')'\n"</span>);<br>            kk = <span class="hljs-number">1</span>;<br>        }<br>    } <span class="hljs-keyword">else</span> {<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Error: Invalid factor!\n"</span>);<br>        kk = <span class="hljs-number">1</span>;<br>    }<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>}<br><br><span class="hljs-comment">// 词法分析器</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">scaner</span><span class="hljs-params">()</span> {<br>    sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(token, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(token)); <span class="hljs-comment">// 清空token</span><br>    m = <span class="hljs-number">0</span>;<br>    ch = prog[p++];<br><br>    <span class="hljs-keyword">while</span> (ch == <span class="hljs-string">' '</span>) ch = prog[p++]; <span class="hljs-comment">// 跳过空格</span><br><br>    <span class="hljs-keyword">if</span> ((ch &gt;= <span class="hljs-string">'a'</span> &amp;&amp; ch &lt;= <span class="hljs-string">'z'</span>) || (ch &gt;= <span class="hljs-string">'A'</span> &amp;&amp; ch &lt;= <span class="hljs-string">'Z'</span>)) {<br>        <span class="hljs-comment">// 处理标识符</span><br>        <span class="hljs-keyword">while</span> ((ch &gt;= <span class="hljs-string">'a'</span> &amp;&amp; ch &lt;= <span class="hljs-string">'z'</span>) || (ch &gt;= <span class="hljs-string">'A'</span> &amp;&amp; ch &lt;= <span class="hljs-string">'Z'</span>) || (ch &gt;= <span class="hljs-string">'0'</span> &amp;&amp; ch &lt;= <span class="hljs-string">'9'</span>)) {<br>            token[m++] = ch;<br>            ch = prog[p++];<br>        }<br>        p--; <span class="hljs-comment">// 回退</span><br>        syn = <span class="hljs-number">10</span>; <span class="hljs-comment">// 默认是标识符</span><br>        <span class="hljs-keyword">for</span> (n = <span class="hljs-number">0</span>; n &lt; <span class="hljs-number">6</span>; n++) {<br>            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(token, rwtab[n]) == <span class="hljs-number">0</span>) {<br>                syn = n + <span class="hljs-number">1</span>; <span class="hljs-comment">// 是保留字</span><br>                <span class="hljs-keyword">break</span>;<br>            }<br>        }<br>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch &gt;= <span class="hljs-string">'0'</span> &amp;&amp; ch &lt;= <span class="hljs-string">'9'</span>) {<br>        <span class="hljs-comment">// 处理数字</span><br>        <span class="hljs-keyword">while</span> (ch &gt;= <span class="hljs-string">'0'</span> &amp;&amp; ch &lt;= <span class="hljs-string">'9'</span>) {<br>            sum = sum * <span class="hljs-number">10</span> + ch - <span class="hljs-string">'0'</span>;<br>            ch = prog[p++];<br>        }<br>        p--; <span class="hljs-comment">// 回退</span><br>        syn = <span class="hljs-number">11</span>; <span class="hljs-comment">// 数字</span><br>    } <span class="hljs-keyword">else</span> {<br>        <span class="hljs-comment">// 处理运算符和分隔符</span><br>        <span class="hljs-keyword">switch</span> (ch) {<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'&lt;'</span>: ch = prog[p++]; syn = (ch == <span class="hljs-string">'='</span>) ? <span class="hljs-number">22</span> : (ch == <span class="hljs-string">'&gt;'</span>) ? <span class="hljs-number">21</span> : <span class="hljs-number">20</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'&gt;'</span>: ch = prog[p++]; syn = (ch == <span class="hljs-string">'='</span>) ? <span class="hljs-number">24</span> : <span class="hljs-number">23</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">':'</span>: ch = prog[p++]; syn = (ch == <span class="hljs-string">'='</span>) ? <span class="hljs-number">18</span> : <span class="hljs-number">17</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'+'</span>: syn = <span class="hljs-number">13</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'-'</span>: syn = <span class="hljs-number">14</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'*'</span>: syn = <span class="hljs-number">15</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'/'</span>: syn = <span class="hljs-number">16</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'('</span>: syn = <span class="hljs-number">27</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">')'</span>: syn = <span class="hljs-number">28</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'='</span>: syn = <span class="hljs-number">25</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">';'</span>: syn = <span class="hljs-number">26</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'#'</span>: syn = <span class="hljs-number">0</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">default</span>: syn = <span class="hljs-number">-1</span>; <span class="hljs-keyword">break</span>;<br>        }<br>    }<br>}<br><br></code></pre></td></tr></tbody></table></figure><p><img src="https://jinmajue-typora-picture-bed.oss-cn-zhangjiakou.aliyuncs.com/202410142247987.png" alt="image-20241014224744716"></p><p><img src="https://jinmajue-typora-picture-bed.oss-cn-zhangjiakou.aliyuncs.com/202410142248871.png" alt="image-20241014224842665"></p><details><summary>点击显示/隐藏</summary><p>这个程序实现了一个简单的 <strong>LR语法分析器</strong>，用来分析包含保留字、标识符、数字和基本算术表达式的小型程序。语法分析器通过词法分析（<code>scaner</code> 函数）解析输入的字符流，并基于一定的语法规则逐步匹配输入内容，检测输入是否符合语言定义的语法结构。</p><p>下面我将详细解释程序的功能和运行过程：</p><h3>1. <strong>运行过程概述</strong>：</h3><ul><li>程序首先读入一个以 <code>#</code> 结尾的字符串，该字符串表示一个简化的程序。</li><li>程序通过词法分析（<code>scaner</code> 函数）将输入字符流解析成词法单元（Token），词法单元可以是标识符、保留字、数字或符号。</li><li>然后通过语法分析器（<code>lrparser</code> 函数），依据一个预定的语法规则，判断输入是否符合特定的语法。如果输入符合语法规则，输出 "Success!"，否则输出相应的错误信息。</li></ul><h3>2. <strong>主要函数介绍</strong>：</h3><h4><strong>主函数 <code>main</code></strong></h4><pre><code class="language-c">int main() {
    p = kk = 0;
    printf("\nPlease input a string (end with '#'): \n");
    do {
        scanf("%c", &amp;ch);
        prog[p++] = ch;
    } while (ch != '#');
    p = 0;
    scaner(); // 读取第一个单词符号
    lrparser(); // 进行语法分析
    getch();
    return 0;
}
</code></pre><ul><li><strong><code>p</code></strong> 和 <strong><code>kk</code></strong> 初始化为 0，<code>p</code> 是指向当前字符的索引，<code>kk</code> 是错误标志变量。</li><li>程序通过 <code>scanf</code> 一次读取一个字符，直到遇到 <code>#</code>。读入的字符保存在 <code>prog</code> 数组中。</li><li>调用 <code>scaner()</code> 函数进行词法分析，从输入字符串中解析出第一个词法单元。</li><li>调用 <code>lrparser()</code> 函数进行 LR 语法分析，分析输入的句子是否符合语法规则。</li></ul><h4><strong>LR 语法分析器 <code>lrparser</code></strong></h4><pre><code class="language-c">int lrparser() {
    if (syn == 1) { // 'begin'
        scaner();       // 读下一个单词符号
        yucu();         // 调用语句序列处理
        if (syn == 6) { // 'end'
            scaner();
            if (syn == 0) { // 成功
                printf("Success!\n");
            }
        } else {
            printf("Error: Expected 'end'!\n");
        }
    } else {
        printf("Error: Expected 'begin'!\n");
    }
    return 0;
}
</code></pre><ul><li><code>lrparser</code> 是语法分析器的核心。它判断输入的程序是否以 <code>begin</code> 开头，并调用 <code>yucu()</code> 函数处理语句序列。</li><li>如果匹配到 <code>begin</code> 后，解析到 <code>end</code>，且 <code>end</code> 后没有其他多余的字符（即遇到 <code>#</code>），表示语法分析成功，输出 "Success!"。</li><li>如果未能正确匹配到 <code>begin</code> 或 <code>end</code>，则输出相应的错误信息。</li></ul><h4><strong>处理语句序列 <code>yucu</code></strong></h4><pre><code class="language-c">int yucu() {
    statement();   // 调用语句处理
    while (syn == 26) { // ';'
        scaner();   // 读下一个单词符号
        if (syn != 6) { // 如果不是'end'，继续处理下一个语句
            statement();
        }
    }
    return 0;
}
</code></pre><ul><li><code>yucu</code> 负责处理一连串的语句。它首先调用 <code>statement()</code> 处理一条语句，然后检查是否有分号（<code>;</code>）分隔的多条语句。</li><li>每当遇到分号时，继续处理下一条语句，直到遇到 <code>end</code> 或没有更多语句。</li></ul><h4><strong>处理单条语句 <code>statement</code></strong></h4><pre><code class="language-c">int statement() {
    if (syn == 10) { // 标识符
        scaner(); // 读下一个单词符号
        if (syn == 18) { // ':='
            scaner(); // 读下一个单词符号
            expression(); // 处理表达式
        } else {
            printf("Error: Expected ':='\n");
            kk = 1;
        }
    } else {
        printf("Error: Invalid statement!\n");
        kk = 1;
    }
    return 0;
}
</code></pre><ul><li><code>statement</code> 负责处理单个语句。它要求语句必须是 <strong>标识符（syn = 10）</strong>，并且接着是赋值运算符 <code>:=</code>（syn = 18）。</li><li>如果语句格式正确，则调用 <code>expression()</code> 处理右侧的表达式。</li><li>如果语法不正确，会输出相应的错误信息，并设置错误标志 <code>kk</code>。</li></ul><h4><strong>处理表达式 <code>expression</code></strong></h4><pre><code class="language-c">int expression() {
    term(); // 处理项
    while (syn == 13 || syn == 14) { // '+'或'-'
        scaner(); // 读下一个单词符号
        term();   // 处理项
    }
    return 0;
}
</code></pre><ul><li><code>expression</code> 负责处理一个由 <strong>项（term）</strong> 组成的表达式。项之间可以由 <code>+</code> 或 <code>-</code> 连接。</li><li>它首先调用 <code>term()</code> 处理一个项，然后检查是否有 <code>+</code> 或 <code>-</code>，如果有则继续处理下一个项。</li></ul><h4><strong>处理项 <code>term</code></strong></h4><pre><code class="language-c">int term() {
    factor(); // 处理因子
    while (syn == 15 || syn == 16) { // '*'或'/'
        scaner(); // 读下一个单词符号
        factor(); // 处理因子
    }
    return 0;
}
</code></pre><ul><li><code>term</code> 处理一个由 <strong>因子（factor）</strong> 组成的项，项之间可以由 <code>*</code> 或 <code>/</code> 连接。</li><li>它首先调用 <code>factor()</code> 处理一个因子，然后检查是否有 <code>*</code> 或 <code>/</code>，如果有则继续处理下一个因子。</li></ul><h4><strong>处理因子 <code>factor</code></strong></h4><pre><code class="language-c">int factor() {
    if (syn == 10 || syn == 11) { // 标识符或数字
        scaner(); // 读下一个单词符号
    } else if (syn == 27) { // '('
        scaner();
        expression(); // 处理表达式
        if (syn == 28) { // ')'
            scaner(); // 读下一个单词符号
        } else {
            printf("Error: Expected ')'\n");
            kk = 1;
        }
    } else {
        printf("Error: Invalid factor!\n");
        kk = 1;
    }
    return 0;
}
</code></pre><ul><li><code>factor</code> 处理一个因子，因子可以是 <strong>标识符、数字</strong> 或 <strong>带括号的表达式</strong>。</li><li>如果遇到 <code>(</code>，则递归调用 <code>expression()</code> 处理括号内的表达式，并要求最后必须遇到 <code>)</code>。</li><li>如果遇到的不是标识符、数字或有效括号表达式，输出错误信息。</li></ul><h3>3. <strong>词法分析器 <code>scaner</code></strong></h3><pre><code class="language-c">void scaner() {
    sum = 0;
    memset(token, 0, sizeof(token)); // 清空token
    m = 0;
    ch = prog[p++];
    while (ch == ' ') ch = prog[p++]; // 跳过空格
    if ((ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') || (ch &gt;= 'A' &amp;&amp; ch &lt;= 'Z')) {
        // 处理标识符
        while ((ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') || (ch &gt;= 'A' &amp;&amp; ch &lt;= 'Z') || (ch &gt;= '0' &amp;&amp; ch &lt;= '9')) {
            token[m++] = ch;
            ch = prog[p++];
        }
        p--; // 回退
        syn = 10; // 默认是标识符
        for (n = 0; n &lt; 6; n++) {
            if (strcmp(token, rwtab[n]) == 0) {
                syn = n + 1; // 是保留字
                break;
            }
        }
    } else if (ch &gt;= '0' &amp;&amp; ch &lt;= '9') {
        // 处理数字
        while (ch &gt;= '0' &amp;&amp; ch &lt;= '9') {
            sum = sum * 10 + ch - '0';
            ch = prog[p++];
        }
        p--; // 回退
        syn = 11; // 数字
    } else {
        // 处理运算符和分隔符
        switch (ch) {
            case '&lt;': ch = prog[p++]; syn = (ch == '=') ? 22 : (ch == '&gt;') ? 21 : 20; break;
            case '&gt;': ch = prog[p++]; syn = (ch
 == '=') ? 24 : 23; break;
        case ':': ch = prog[p++]; syn = (ch == '=') ? 18 : 17;break;
            case '+': syn = 13; break;
            case '-': syn = 14; break;
            case '*': syn = 15; break;
            case '/': syn = 16; break;
            case '(': syn = 27; break;
            case ')': syn = 28; break;
            case '=': syn = 25; break;
            case ';': syn = 26; break;
            case '#': syn = 0; break;
            default: syn = -1; break;
        }
    }
}</code></pre><ul><li><code>scaner()</code> 函数是词法分析器，用来从输入中读取下一个词法单元并根据类型给 <code>syn</code> 赋值。</li><li>它会处理空格，跳过空格后继续分析单词。</li><li><strong>标识符</strong>：由字母和数字组成，默认 <code>syn = 10</code>，并检查是否为保留字（如 <code>begin</code>、<code>if</code> 等）。</li><li><strong>数字</strong>：连续的数字序列，<code>syn = 11</code>。</li><li><strong>运算符和符号</strong>：通过 <code>switch</code> 语句处理常见的运算符和分隔符（如 <code>+</code>, <code>-</code>, <code>*</code>, <code>:</code>, <code>#</code> 等）。</li></ul><h3>4. <strong>难点解释</strong>：</h3><ul><li><strong>词法分析中的回退 <code>p--</code></strong>：在处理标识符或数字时，会多读入一个字符（可能是下一个单词的开始），因此需要将指针 <code>p</code> 回退一个，以便下次分析能正确从未处理的字符开始。</li><li><strong>语法分析中的递归调用</strong>：语法分析器通过递归调用（如 <code>expression</code> 调用 <code>term</code>，<code>term</code> 调用 <code>factor</code>）来处理更复杂的语法结构。递归调用是匹配嵌套语法（如括号中的表达式）的常用方式。</li></ul><h3>总结：</h3><ul><li>这个程序通过词法分析将输入分割成词法单元，再通过语法分析判断词法单元是否符合预定的语法规则。</li><li>语法分析器采用递归下降法处理保留字、赋值语句、算术表达式等简单语法结构。</li><li>输入若符合语法规则，程序输出 <code>Success!</code>，否则输出错误信息。</li></ul></details><h3 id="3语义分析"><a class="markdownIt-Anchor" href="#3语义分析"></a> 3.语义分析</h3><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// By Jin Majue</span><br><span class="hljs-comment">// at 2024/12/25</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;conio.h&gt;</span> <span class="hljs-comment">// 提供 getch() 等控制台相关功能</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span> <span class="hljs-comment">// 提供 malloc()、exit() 等内存分配和退出函数</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span> <span class="hljs-comment">// 提供标准输入输出功能</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span> <span class="hljs-comment">// 提供字符串操作功能</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdbool.h&gt;</span> <span class="hljs-comment">// 提供布尔类型</span></span><br><br><span class="hljs-comment">// 定义常量</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX_PROG_LEN 100  <span class="hljs-comment">// 最大程序长度</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX_SYM_LEN 100   <span class="hljs-comment">// 符号表最大容量</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX_TOKEN_LEN 8   <span class="hljs-comment">// 最大单词长度-</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX_QUAD 20       <span class="hljs-comment">// 最大四元式数量</span></span><br><br><span class="hljs-comment">// 全局变量</span><br><span class="hljs-type">char</span> symbols[MAX_SYM_LEN][MAX_TOKEN_LEN]; <span class="hljs-comment">// 符号表，存储所有标识符</span><br><span class="hljs-type">int</span> symbol_count = <span class="hljs-number">0</span>; <span class="hljs-comment">// 符号表中的标识符数量</span><br><span class="hljs-type">char</span> prog[MAX_PROG_LEN]; <span class="hljs-comment">// 存储程序的输入</span><br><span class="hljs-type">char</span> token[MAX_TOKEN_LEN]; <span class="hljs-comment">// 存储当前词法单元</span><br><span class="hljs-type">char</span> ch; <span class="hljs-comment">// 当前读取的字符</span><br><span class="hljs-type">char</span> *rwtab[<span class="hljs-number">6</span>] = {<span class="hljs-string">"begin"</span>, <span class="hljs-string">"if"</span>, <span class="hljs-string">"then"</span>, <span class="hljs-string">"while"</span>, <span class="hljs-string">"do"</span>, <span class="hljs-string">"end"</span>}; <span class="hljs-comment">// 保留字表</span><br><span class="hljs-type">int</span> syn, p, m, n, sum, q; <span class="hljs-comment">// 词法分析和语法分析的状态变量</span><br><span class="hljs-type">int</span> temp_count = <span class="hljs-number">0</span>; <span class="hljs-comment">// 临时变量计数器</span><br><br><span class="hljs-comment">// 四元式结构</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> {</span><br>    <span class="hljs-type">char</span> result[MAX_TOKEN_LEN]; <span class="hljs-comment">// 结果</span><br>    <span class="hljs-type">char</span> arg1[MAX_TOKEN_LEN];   <span class="hljs-comment">// 操作数1</span><br>    <span class="hljs-type">char</span> op[MAX_TOKEN_LEN];     <span class="hljs-comment">// 运算符</span><br>    <span class="hljs-type">char</span> arg2[MAX_TOKEN_LEN];   <span class="hljs-comment">// 操作数2</span><br>} quad[MAX_QUAD]; <span class="hljs-comment">// 四元式数组</span><br><br><span class="hljs-comment">// 函数声明</span><br><span class="hljs-type">bool</span> <span class="hljs-title function_">is_defined</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* name)</span>; <span class="hljs-comment">// 检查变量是否已定义</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">define</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* name)</span>; <span class="hljs-comment">// 定义新变量</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">scaner</span><span class="hljs-params">()</span>; <span class="hljs-comment">// 词法分析器</span><br><span class="hljs-type">char</span>* <span class="hljs-title function_">factor</span><span class="hljs-params">()</span>; <span class="hljs-comment">// 解析因子</span><br><span class="hljs-type">char</span>* <span class="hljs-title function_">term</span><span class="hljs-params">()</span>; <span class="hljs-comment">// 解析项</span><br><span class="hljs-type">char</span>* <span class="hljs-title function_">expression</span><span class="hljs-params">()</span>; <span class="hljs-comment">// 解析表达式</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">statement</span><span class="hljs-params">()</span>; <span class="hljs-comment">// 解析单个语句</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">parse_statements</span><span class="hljs-params">()</span>; <span class="hljs-comment">// 解析多个语句</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">lrparser</span><span class="hljs-params">()</span>; <span class="hljs-comment">// 递归下降语法分析</span><br><span class="hljs-type">char</span>* <span class="hljs-title function_">new_temp</span><span class="hljs-params">()</span>; <span class="hljs-comment">// 生成新临时变量</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">emit</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* result, <span class="hljs-type">const</span> <span class="hljs-type">char</span>* arg1, <span class="hljs-type">const</span> <span class="hljs-type">char</span>* op, <span class="hljs-type">const</span> <span class="hljs-type">char</span>* arg2)</span>; <span class="hljs-comment">// 生成四元式</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">error</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* msg)</span>; <span class="hljs-comment">// 错误处理</span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> {<br>    <span class="hljs-type">int</span> i;<br>    q = p = temp_count = <span class="hljs-number">0</span>; <span class="hljs-comment">// 初始化全局变量</span><br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"\nPlease input a string (end with '#'): "</span>);<br>    <span class="hljs-keyword">do</span> {<br>        <span class="hljs-comment">// 输入程序字符串，直到遇到结束符 '#'</span><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%c"</span>, &amp;ch);<br>        prog[p++] = ch;<br>    } <span class="hljs-keyword">while</span> (ch != <span class="hljs-string">'#'</span>);<br><br>    p = <span class="hljs-number">0</span>; <span class="hljs-comment">// 重置字符指针</span><br>    scaner(); <span class="hljs-comment">// 调用词法分析器</span><br>    lrparser(); <span class="hljs-comment">// 调用语法分析器并生成四元式</span><br><br>    <span class="hljs-keyword">if</span> (q &gt; MAX_QUAD) {<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Too long sentence!\n"</span>);<br>    } <span class="hljs-keyword">else</span> {<br>        <span class="hljs-comment">// 输出生成的四元式</span><br>        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; q; i++) {<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"(%d) %s = %s %s %s \n"</span>, i+<span class="hljs-number">1</span>, quad[i].result, quad[i].arg1, quad[i].op, quad[i].arg2);<br>        }<br>    }<br><br>    getch(); <span class="hljs-comment">// 等待用户输入，防止程序直接退出</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>}<br><br><span class="hljs-comment">// 主语法分析函数</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">lrparser</span><span class="hljs-params">()</span> {<br>    <span class="hljs-keyword">if</span> (syn == <span class="hljs-number">1</span>) { <span class="hljs-comment">// 检查是否以 'begin' 开头</span><br>        scaner();<br>        parse_statements(); <span class="hljs-comment">// 解析语句块</span><br>        <span class="hljs-keyword">if</span> (syn == <span class="hljs-number">6</span>) { <span class="hljs-comment">// 检查是否以 'end' 结束</span><br>            scaner();<br>            <span class="hljs-keyword">if</span> (syn == <span class="hljs-number">0</span>) {<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Success!\n"</span>);<br>            } <span class="hljs-keyword">else</span> {<br>                error(<span class="hljs-string">"Unexpected token after 'end'"</span>);<br>            }<br>        } <span class="hljs-keyword">else</span> {<br>            error(<span class="hljs-string">"Missing 'end'!"</span>);<br>        }<br>    } <span class="hljs-keyword">else</span> {<br>        error(<span class="hljs-string">"Missing 'begin'!"</span>);<br>    }<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>}<br><br><span class="hljs-comment">// 解析多个语句</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">parse_statements</span><span class="hljs-params">()</span> {<br>    <span class="hljs-keyword">while</span> (syn == <span class="hljs-number">10</span>) { <span class="hljs-comment">// 如果是标识符，开始解析语句</span><br>        statement();<br>        <span class="hljs-keyword">if</span> (syn == <span class="hljs-number">26</span>) { <span class="hljs-comment">// 语句结束符 ';'</span><br>            scaner();<br>        } <span class="hljs-keyword">else</span> {<br>            <span class="hljs-keyword">break</span>;<br>        }<br>    }<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>}<br><br><span class="hljs-comment">// 解析单个语句</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">statement</span><span class="hljs-params">()</span> {<br>    <span class="hljs-type">char</span> tt[MAX_TOKEN_LEN], eplace[MAX_TOKEN_LEN];<br>    <span class="hljs-keyword">if</span> (syn == <span class="hljs-number">10</span>) { <span class="hljs-comment">// 检查标识符</span><br>        <span class="hljs-built_in">strcpy</span>(tt, token);<br>        <span class="hljs-keyword">if</span> (!is_defined(tt)) { <span class="hljs-comment">// 检查变量是否已定义</span><br>            define(tt); <span class="hljs-comment">// 如果未定义，则将其加入符号表</span><br>        }<br>        scaner();<br>        <span class="hljs-keyword">if</span> (syn == <span class="hljs-number">18</span>) { <span class="hljs-comment">// 检查赋值符号 ':='</span><br>            scaner();<br>            <span class="hljs-built_in">strcpy</span>(eplace, expression()); <span class="hljs-comment">// 解析赋值表达式</span><br>            emit(tt, eplace, <span class="hljs-string">""</span>, <span class="hljs-string">""</span>); <span class="hljs-comment">// 生成赋值的四元式</span><br>        } <span class="hljs-keyword">else</span> {<br>            error(<span class="hljs-string">"Missing ':='!"</span>);<br>        }<br>    }<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>}<br><br><span class="hljs-comment">// 解析表达式</span><br><span class="hljs-type">char</span>* <span class="hljs-title function_">expression</span><span class="hljs-params">()</span> {<br>    <span class="hljs-type">char</span>* eplace = term(); <span class="hljs-comment">// 解析第一个项</span><br>    <span class="hljs-keyword">while</span> (syn == <span class="hljs-number">13</span> || syn == <span class="hljs-number">14</span>) { <span class="hljs-comment">// '+' 或 '-'</span><br>        <span class="hljs-type">char</span> op[MAX_TOKEN_LEN];<br>        <span class="hljs-built_in">strcpy</span>(op, (syn == <span class="hljs-number">13</span>) ? <span class="hljs-string">"+"</span> : <span class="hljs-string">"-"</span>);<br>        scaner();<br>        <span class="hljs-type">char</span>* ep2 = term(); <span class="hljs-comment">// 解析下一个项</span><br>        <span class="hljs-type">char</span>* temp = new_temp(); <span class="hljs-comment">// 生成临时变量</span><br>        emit(temp, eplace, op, ep2); <span class="hljs-comment">// 生成四元式</span><br>        eplace = temp; <span class="hljs-comment">// 更新结果变量</span><br>    }<br>    <span class="hljs-keyword">return</span> eplace;<br>}<br><br><span class="hljs-comment">// 解析项</span><br><span class="hljs-type">char</span>* <span class="hljs-title function_">term</span><span class="hljs-params">()</span> {<br>    <span class="hljs-type">char</span>* eplace = factor(); <span class="hljs-comment">// 解析因子</span><br>    <span class="hljs-keyword">while</span> (syn == <span class="hljs-number">15</span> || syn == <span class="hljs-number">16</span>) { <span class="hljs-comment">// '*' 或 '/'</span><br>        <span class="hljs-type">char</span> op[MAX_TOKEN_LEN];<br>        <span class="hljs-built_in">strcpy</span>(op, (syn == <span class="hljs-number">15</span>) ? <span class="hljs-string">"*"</span> : <span class="hljs-string">"/"</span>);<br>        scaner();<br>        <span class="hljs-type">char</span>* ep2 = factor(); <span class="hljs-comment">// 解析下一个因子</span><br>        <span class="hljs-type">char</span>* temp = new_temp(); <span class="hljs-comment">// 生成临时变量</span><br>        emit(temp, eplace, op, ep2); <span class="hljs-comment">// 生成四元式</span><br>        eplace = temp; <span class="hljs-comment">// 更新结果变量</span><br>    }<br>    <span class="hljs-keyword">return</span> eplace;<br>}<br><br><span class="hljs-comment">// 解析因子</span><br><span class="hljs-type">char</span>* <span class="hljs-title function_">factor</span><span class="hljs-params">()</span> {<br>    <span class="hljs-type">char</span>* fplace = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(MAX_TOKEN_LEN); <span class="hljs-comment">// 为因子分配空间</span><br>    <span class="hljs-keyword">if</span> (syn == <span class="hljs-number">10</span>) { <span class="hljs-comment">// 如果是标识符</span><br>        <span class="hljs-keyword">if</span> (!is_defined(token)) { <span class="hljs-comment">// 检查变量是否已定义</span><br>            <span class="hljs-type">char</span> msg[MAX_TOKEN_LEN + <span class="hljs-number">50</span>];<br>            <span class="hljs-built_in">sprintf</span>(msg, <span class="hljs-string">"Variable '%s' is not defined!"</span>, token);<br>            error(msg);<br>        }<br>        <span class="hljs-built_in">strcpy</span>(fplace, token); <span class="hljs-comment">// 保存标识符</span><br>        scaner();<br>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (syn == <span class="hljs-number">11</span>) { <span class="hljs-comment">// 如果是数字</span><br>        <span class="hljs-built_in">sprintf</span>(fplace, <span class="hljs-string">"%d"</span>, sum); <span class="hljs-comment">// 转换为字符串</span><br>        scaner();<br>    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (syn == <span class="hljs-number">27</span>) { <span class="hljs-comment">// 如果是左括号 '('</span><br>        scaner();<br>        fplace = expression(); <span class="hljs-comment">// 递归解析表达式</span><br>        <span class="hljs-keyword">if</span> (syn == <span class="hljs-number">28</span>) { <span class="hljs-comment">// 检查右括号 ')'</span><br>            scaner();<br>        } <span class="hljs-keyword">else</span> {<br>            error(<span class="hljs-string">"Missing ')'!"</span>);<br>        }<br>    } <span class="hljs-keyword">else</span> {<br>        error(<span class="hljs-string">"Syntax error in factor!"</span>);<br>    }<br>    <span class="hljs-keyword">return</span> fplace;<br>}<br><br><span class="hljs-comment">// 检查变量是否已定义</span><br><span class="hljs-type">bool</span> <span class="hljs-title function_">is_defined</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* name)</span> {<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; symbol_count; i++) {<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(symbols[i], name) == <span class="hljs-number">0</span>) {<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        }<br>    }<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>}<br><br><span class="hljs-comment">// 定义新变量</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">define</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* name)</span> {<br>    <span class="hljs-keyword">if</span> (symbol_count &lt; MAX_SYM_LEN) {<br>        <span class="hljs-built_in">strcpy</span>(symbols[symbol_count++], name);<br>    } <span class="hljs-keyword">else</span> {<br>        error(<span class="hljs-string">"Symbol table overflow!"</span>);<br>    }<br>}<br><br><span class="hljs-comment">// 生成新临时变量</span><br><span class="hljs-type">char</span>* <span class="hljs-title function_">new_temp</span><span class="hljs-params">()</span> {<br>    <span class="hljs-type">char</span>* temp = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(MAX_TOKEN_LEN);<br>    <span class="hljs-built_in">sprintf</span>(temp, <span class="hljs-string">"t%d"</span>, ++temp_count); <span class="hljs-comment">// 临时变量格式为 t1, t2, ...</span><br>    <span class="hljs-keyword">return</span> temp;<br>}<br><br><span class="hljs-comment">// 词法分析器</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">scaner</span><span class="hljs-params">()</span> {<br>    sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(token, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(token)); <span class="hljs-comment">// 清空 token</span><br>    m = <span class="hljs-number">0</span>;<br>    ch = prog[p++];<br><br>    <span class="hljs-keyword">while</span> (ch == <span class="hljs-string">' '</span>) ch = prog[p++]; <span class="hljs-comment">// 跳过空格</span><br><br>    <span class="hljs-comment">// 处理标识符或关键字</span><br>    <span class="hljs-keyword">if</span> ((ch &gt;= <span class="hljs-string">'a'</span> &amp;&amp; ch &lt;= <span class="hljs-string">'z'</span>) || (ch &gt;= <span class="hljs-string">'A'</span> &amp;&amp; ch &lt;= <span class="hljs-string">'Z'</span>)) {<br>        <span class="hljs-keyword">while</span> ((ch &gt;= <span class="hljs-string">'a'</span> &amp;&amp; ch &lt;= <span class="hljs-string">'z'</span>) || (ch &gt;= <span class="hljs-string">'A'</span> &amp;&amp; ch &lt;= <span class="hljs-string">'Z'</span>) || (ch &gt;= <span class="hljs-string">'0'</span> &amp;&amp; ch &lt;= <span class="hljs-string">'9'</span>)) {<br>            token[m++] = ch;<br>            ch = prog[p++];<br>        }<br>        p--;<br>        syn = <span class="hljs-number">10</span>; <span class="hljs-comment">// 默认是标识符</span><br>        <span class="hljs-keyword">for</span> (n = <span class="hljs-number">0</span>; n &lt; <span class="hljs-number">6</span>; n++) {<br>            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(token, rwtab[n]) == <span class="hljs-number">0</span>) {<br>                syn = n + <span class="hljs-number">1</span>; <span class="hljs-comment">// 如果是关键字</span><br>                <span class="hljs-keyword">break</span>;<br>            }<br>        }<br>    }<br>        <span class="hljs-comment">// 处理数字</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch &gt;= <span class="hljs-string">'0'</span> &amp;&amp; ch &lt;= <span class="hljs-string">'9'</span>) {<br>        <span class="hljs-keyword">while</span> (ch &gt;= <span class="hljs-string">'0'</span> &amp;&amp; ch &lt;= <span class="hljs-string">'9'</span>) {<br>            sum = sum * <span class="hljs-number">10</span> + ch - <span class="hljs-string">'0'</span>;<br>            ch = prog[p++];<br>        }<br>        p--;<br>        syn = <span class="hljs-number">11</span>; <span class="hljs-comment">// 数字</span><br>    }<br>        <span class="hljs-comment">// 处理符号</span><br>    <span class="hljs-keyword">else</span> {<br>        <span class="hljs-keyword">switch</span> (ch) {<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'&lt;'</span>: syn = (prog[p] == <span class="hljs-string">'='</span>) ? (p++, <span class="hljs-number">22</span>) : <span class="hljs-number">20</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'&gt;'</span>: syn = (prog[p] == <span class="hljs-string">'='</span>) ? (p++, <span class="hljs-number">24</span>) : <span class="hljs-number">23</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">':'</span>: syn = (prog[p] == <span class="hljs-string">'='</span>) ? (p++, <span class="hljs-number">18</span>) : <span class="hljs-number">17</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'+'</span>: syn = <span class="hljs-number">13</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'-'</span>: syn = <span class="hljs-number">14</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'*'</span>: syn = <span class="hljs-number">15</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'/'</span>: syn = <span class="hljs-number">16</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'('</span>: syn = <span class="hljs-number">27</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">')'</span>: syn = <span class="hljs-number">28</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'='</span>: syn = <span class="hljs-number">25</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">';'</span>: syn = <span class="hljs-number">26</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">'#'</span>: syn = <span class="hljs-number">0</span>; <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">default</span>: syn = <span class="hljs-number">-1</span>; <span class="hljs-keyword">break</span>; <span class="hljs-comment">// 未知符号</span><br>        }<br>    }<br>}<br><br><span class="hljs-comment">// 生成四元式</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">emit</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* result, <span class="hljs-type">const</span> <span class="hljs-type">char</span>* arg1, <span class="hljs-type">const</span> <span class="hljs-type">char</span>* op, <span class="hljs-type">const</span> <span class="hljs-type">char</span>* arg2)</span> {<br>    <span class="hljs-built_in">strcpy</span>(quad[q].result, result);<br>    <span class="hljs-built_in">strcpy</span>(quad[q].arg1, arg1);<br>    <span class="hljs-built_in">strcpy</span>(quad[q].op, op);<br>    <span class="hljs-built_in">strcpy</span>(quad[q].arg2, arg2);<br>    q++;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>}<br><br><span class="hljs-comment">// 错误处理</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">error</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* msg)</span> {<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Error: %s\n"</span>, msg);<br>    getch();<br>    <span class="hljs-built_in">exit</span>(<span class="hljs-number">1</span>);<br>}<br><br><span class="hljs-comment">//------------测试用例----------------</span><br><span class="hljs-comment">// begin x := 3 + 5; y := x * 2; end#</span><br><span class="hljs-comment">// Success</span><br><span class="hljs-comment">// begin x:= 3+ ; end#</span><br><span class="hljs-comment">// Error: Syntax error in factor!</span><br><span class="hljs-comment">// begin x := y+3; end#</span><br><span class="hljs-comment">// Error: Variable 'y' is not defined!</span><br><br></code></pre></td></tr></tbody></table></figure><p>这段代码实现了一个简易的编译器前端，完成了词法分析、语法分析，并生成了四元式中间代码，适用于一个简单的编程语言。下面从程序结构、作用和运行流程几个方面进行详细讲解：</p><hr><h3 id="一-程序结构"><a class="markdownIt-Anchor" href="#一-程序结构"></a> <strong>一、程序结构</strong></h3><ol><li><strong>头文件与宏定义</strong><ul><li>包含了标准库（如 <code>stdio.h</code>, <code>stdlib.h</code>, <code>string.h</code> 等）和自定义宏，定义了程序中使用的常量，如最大程序长度、符号表大小等。</li></ul></li><li><strong>全局变量</strong><ul><li><strong><code>prog</code> 和 <code>token</code></strong>: 存储输入的程序代码和当前处理的词法单元。</li><li><strong><code>quad</code></strong>: 用于存储生成的四元式中间代码。</li><li><strong><code>symbols</code></strong>: 记录变量的符号表，用于变量定义和检查。</li><li><strong><code>syn</code></strong>: 标识当前词法单元的类别，如关键字、标识符等。</li></ul></li><li><strong>辅助函数</strong><ul><li>词法分析函数：<code>scaner</code>。</li><li>语法分析函数：<code>lrparser</code>、<code>statement</code>、<code>expression</code> 等。</li><li>符号表操作：<code>is_defined</code> 和 <code>define</code>。</li><li>四元式生成函数：<code>emit</code>。</li><li>错误处理：<code>error</code>。</li></ul></li><li><strong>核心逻辑</strong><ul><li>实现了一个递归下降解析器，能够解析一个包含赋值语句和表达式的简单语言。</li></ul></li></ol><hr><h3 id="二-程序作用"><a class="markdownIt-Anchor" href="#二-程序作用"></a> <strong>二、程序作用</strong></h3><ol><li><strong>词法分析</strong><ul><li>读取用户输入的程序代码，将其分割成<strong>标识符、数字、关键字、运算符等</strong>词法单元。</li></ul></li><li><strong>语法分析</strong><ul><li>检查代码是否符合指定的语法规则。例如：<ul><li>必须以 <code>begin</code> 开头，以 <code>end</code> 结尾。</li><li>每条语句的结束需要分号 <code>;</code>。</li><li>表达式和赋值的语法需要符合规则。</li></ul></li></ul></li><li><strong>生成四元式中间代码</strong><ul><li>将输入程序转换为类似于汇编指令的四元式中间代码，便于进一步优化或翻译为目标机器码。</li></ul></li></ol><hr><h3 id="三-运行流程"><a class="markdownIt-Anchor" href="#三-运行流程"></a> <strong>三、运行流程</strong></h3><ol><li><p><strong>用户输入代码</strong></p><ul><li><p>用户输入一个以 <code>#</code> 结尾的程序代码字符串。</p></li><li><p>示例输入：</p><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css">begin<br><span class="hljs-selector-tag">a</span> := <span class="hljs-number">5</span>;<br><span class="hljs-selector-tag">b</span> := a + <span class="hljs-number">3</span>;<br>end#<br></code></pre></td></tr></tbody></table></figure></li></ul></li><li><p><strong>词法分析</strong></p><ul><li><code>scaner</code> 逐字符扫描输入，识别出关键字 <code>begin</code>、标识符 <code>a</code>、数字 <code>5</code> 等，并赋予不同的 <code>syn</code> 值。</li><li>标识符和数字会存储在 <code>token</code> 中，运算符直接根据符号分类。</li></ul></li><li><p><strong>语法分析</strong></p><ul><li><p>调用</p><figure class="highlight ebnf"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">lrparser</span><br></code></pre></td></tr></tbody></table></figure><p>对程序进行整体语法检查：</p><ul><li>确保以 <code>begin</code> 开始，调用 <code>parse_statements</code> 处理中间的语句块。</li><li>每个语句调用 <code>statement</code> 检查，解析赋值表达式或简单语句。</li></ul></li></ul></li><li><p><strong>生成中间代码</strong></p><ul><li>对于每个赋值语句，解析左值和右值，并生成四元式。例如：<ul><li>输入 <code>a := 5;</code> 会生成 <code>(1) a = 5</code>。</li><li>输入 <code>b := a + 3;</code> 会生成类似于 <code>(2) t1 = a + 3</code> 和 <code>(3) b = t1</code> 的四元式。</li></ul></li></ul></li><li><p><strong>结果输出</strong></p><ul><li><p>语法分析完成后，程序输出所有生成的四元式。</p></li><li><p>示例输出：</p><figure class="highlight lisp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs lisp">(<span class="hljs-number">1</span>) a = <span class="hljs-number">5</span><br>(<span class="hljs-number">2</span>) t1 = a + <span class="hljs-number">3</span><br>(<span class="hljs-number">3</span>) b = t1<br></code></pre></td></tr></tbody></table></figure></li></ul></li><li><p><strong>错误处理</strong></p><ul><li>遇到语法错误或未定义变量时，调用 <code>error</code> 函数显示错误信息并终止程序。</li></ul></li></ol><hr><h3 id="四-运行示例分析"><a class="markdownIt-Anchor" href="#四-运行示例分析"></a> <strong>四、运行示例分析</strong></h3><p>假设输入程序如下：</p><figure class="highlight gml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs gml"><span class="hljs-keyword">begin</span><br><span class="hljs-variable language_">x</span> := <span class="hljs-number">10</span>;<br><span class="hljs-variable language_">y</span> := <span class="hljs-variable language_">x</span> * <span class="hljs-number">2</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">end</span>#<br></code></pre></td></tr></tbody></table></figure><p><strong>运行步骤：</strong></p><ol><li><strong>词法分析</strong><ul><li>识别出 <code>begin</code>、<code>x</code>、<code>:=</code>、<code>10</code>、<code>;</code>、<code>y</code>、<code>:=</code>、<code>x</code>、<code>*</code>、<code>2</code>、<code>+</code>、<code>5</code>、<code>;</code>、<code>end</code>、<code>#</code> 等词法单元。</li></ul></li><li><strong>语法分析</strong><ul><li>首先匹配 <code>begin</code> 和 <code>end</code>。</li><li>对每个语句 <code>x := 10;</code> 和 <code>y := x * 2 + 5;</code> 进行解析，生成对应的四元式。</li></ul></li><li><strong>生成四元式</strong><ul><li>(1) <code>x = 10</code></li><li>(2) <code>t1 = x * 2</code></li><li>(3) <code>t2 = t1 + 5</code></li><li>(4) <code>y = t2</code></li></ul></li></ol><hr><h1 id="课程设计报告"><a class="markdownIt-Anchor" href="#课程设计报告"></a> 课程设计报告</h1><h1 id="实验报告语义分析程序实现"><a class="markdownIt-Anchor" href="#实验报告语义分析程序实现"></a> 实验报告：语义分析程序实现</h1><h2 id="目录"><a class="markdownIt-Anchor" href="#目录"></a> 目录</h2><ol><li>设计目的</li><li>设计要求</li><li>设计方案及算法</li><li>详细设计及程序源代码</li><li>结果分析</li><li>课程设计总结</li></ol><hr><h2 id="一-设计目的"><a class="markdownIt-Anchor" href="#一-设计目的"></a> 一、设计目的</h2><p>在实现词法、语法分析程序的基础上，编写相应的语义子程序，进行语义检查，加深对语法制导翻译原理的理解。进一步掌握将语法分析所识别的语法范畴变换为中间代码（四元式）的语义分析方法，完成编译器前端开发工作。</p><h2 id="二-设计要求"><a class="markdownIt-Anchor" href="#二-设计要求"></a> 二、设计要求</h2><ol><li>在语法分析程序的基础上增加语义子程序，实现对源程序的语义检查和中间代码生成。</li><li>输入为测试用例的源程序文件。</li><li>输出源程序转换的中间代码形式（四元式）并将中间代码输出到文件。</li><li>在检测到语法或语义错误时，能够准确报告错误信息。</li><li>对不同数据类型的运算对象，在算术运算前需转换为相同的数据类型。</li></ol><hr><h2 id="三-设计方案及算法"><a class="markdownIt-Anchor" href="#三-设计方案及算法"></a> 三、设计方案及算法</h2><h3 id="设计方案"><a class="markdownIt-Anchor" href="#设计方案"></a> 设计方案</h3><p>语义分析基于语法制导翻译模式，程序由以下模块组成：</p><ol><li><strong>词法分析模块</strong>：读取源代码，解析标识符、关键字、运算符、分隔符等基本单元。</li><li><strong>语法分析模块</strong>：按照文法规则对词法分析结果进行解析，构建语法树。</li><li><strong>语义分析模块</strong>：在语法树的基础上添加语义检查，生成中间代码（四元式）。</li><li><strong>错误处理模块</strong>：发现词法、语法或语义错误时，能够准确定位并输出错误信息。</li></ol><h3 id="算法流程"><a class="markdownIt-Anchor" href="#算法流程"></a> 算法流程</h3><ol><li><strong>词法分析</strong>：<ul><li>逐字符读取源程序，将标识符、数字等转换为对应的记号（Token）。</li><li>记录每个标识符的位置，用于错误提示。</li></ul></li><li><strong>语法分析</strong>：<ul><li>基于递归下降分析法或LR分析法，对输入的记号序列进行匹配，按照产生式规则构造语法树。</li></ul></li><li><strong>语义分析</strong>：<ul><li>在每个产生式匹配时调用对应的语义子程序。</li><li>检查标识符的定义状态，未定义时输出错误。</li><li>根据运算生成中间代码，并记录到四元式表中。</li></ul></li><li><strong>生成中间代码</strong>：<ul><li>使用四元式格式 <code>(结果, 参数1, 操作符, 参数2)</code> 表示。</li><li>在遇到复合表达式时生成临时变量存储中间结果。</li></ul></li></ol><hr><h2 id="四-详细设计及程序源代码"><a class="markdownIt-Anchor" href="#四-详细设计及程序源代码"></a> 四、详细设计及程序源代码</h2><p>以下为实验程序完整源代码：</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">略。。。。<br></code></pre></td></tr></tbody></table></figure><p>以下是每个函数及整个程序的流程图，使用Mermaid语法表示。</p><h3 id="整体程序流程图"><a class="markdownIt-Anchor" href="#整体程序流程图"></a> 整体程序流程图</h3><pre class="mermaid">graph TD
    Start["程序开始"]
    Input["输入程序字符串"]
    Scaner["词法分析器 (scaner)"]
    Parser["语法分析器 (lrparser)"]
    Quad["生成四元式"]
    Output["输出四元式"]
    End["程序结束"]

    Start --&gt; Input --&gt; Scaner --&gt; Parser
    Parser --&gt;|解析成功| Quad --&gt; Output --&gt; End
    Parser --&gt;|解析失败| Error["错误处理 (error)"] --&gt; End</pre><ul><li><code>lrparser</code> 函数流程图</li></ul><pre class="mermaid">graph TD
    LRStart["调用 lrparser"]
    BeginCheck["检查是否以 'begin' 开头"]
    ParseStatements["解析语句块 (parse_statements)"]
    EndCheck["检查是否以 'end' 结束"]
    Success["成功，程序结束"]
    Error["错误处理 (error)"]

    LRStart --&gt; BeginCheck
    BeginCheck --&gt;|是| ParseStatements
    BeginCheck --&gt;|否| Error
    ParseStatements --&gt; EndCheck
    EndCheck --&gt;|是| Success
    EndCheck --&gt;|否| Error</pre><ul><li><code>parse_statements</code> 函数流程图</li></ul><pre class="mermaid">graph TD
    ParseStatementsStart["调用 parse_statements"]
    CheckIdent["检查是否为标识符"]
    Statement["解析语句 (statement)"]
    Semicolon["检查是否以 ';' 结束"]
    EndParseStatements["返回"]

    ParseStatementsStart --&gt; CheckIdent
    CheckIdent --&gt;|是| Statement
    CheckIdent --&gt;|否| EndParseStatements
    Statement --&gt; Semicolon
    Semicolon --&gt;|是| CheckIdent
    Semicolon --&gt;|否| EndParseStatements</pre><ul><li><code>statement</code> 函数流程图</li></ul><pre class="mermaid">graph TD
    StatementStart["调用 statement"]
    CheckIdent["检查是否为标识符"]
    Define["检查并定义标识符"]
    Assignment["检查赋值符号 ':='"]
    Expression["解析表达式 (expression)"]
    Emit["生成赋值四元式"]
    EndStatement["返回"]
    Error["错误处理 (error)"]

    StatementStart --&gt; CheckIdent
    CheckIdent --&gt;|是| Define
    CheckIdent --&gt;|否| EndStatement
    Define --&gt; Assignment
    Assignment --&gt;|是| Expression
    Assignment --&gt;|否| Error
    Expression --&gt; Emit
    Emit --&gt; EndStatement</pre><ul><li><code>expression</code> 函数流程图</li></ul><pre class="mermaid">graph TD
    ExpressionStart["调用 expression"]
    Term["解析项 (term)"]
    OpCheck["检查是否有 '+' 或 '-'"]
    NewTemp["生成新临时变量"]
    Emit["生成四元式"]
    EndExpression["返回"]
    
    ExpressionStart --&gt; Term
    Term --&gt; OpCheck
    OpCheck --&gt;|有| NewTemp
    OpCheck --&gt;|无| EndExpression
    NewTemp --&gt; Emit
    Emit --&gt; Term</pre><ul><li><code>term</code> 函数流程图</li></ul><pre class="mermaid">graph TD
    TermStart["调用 term"]
    Factor["解析因子 (factor)"]
    OpCheck["检查是否有 '*' 或 '/'"]
    NewTemp["生成新临时变量"]
    Emit["生成四元式"]
    EndTerm["返回"]
    
    TermStart --&gt; Factor
    Factor --&gt; OpCheck
    OpCheck --&gt;|有| NewTemp
    OpCheck --&gt;|无| EndTerm
    NewTemp --&gt; Emit
    Emit --&gt; Factor</pre><ul><li><code>factor</code> 函数流程图</li></ul><pre class="mermaid">graph TD
    FactorStart["调用 factor"]
    CheckType["检查类型 (标识符/数字/括号)"]
    IdentCheck["检查标识符是否已定义"]
    Expr["递归解析表达式"]
    EndFactor["返回"]
    Error["错误处理 (error)"]

    FactorStart --&gt; CheckType
    CheckType --&gt;|标识符| IdentCheck
    CheckType --&gt;|数字| EndFactor
    CheckType --&gt;|括号| Expr
    CheckType --&gt;|其他| Error
    IdentCheck --&gt;|已定义| EndFactor
    IdentCheck --&gt;|未定义| Error
    Expr --&gt; EndFactor</pre><ul><li><code>scaner</code> 函数流程图</li></ul><pre class="mermaid">graph TD
    ScanerStart["调用 scaner"]
    SkipSpaces["跳过空格"]
    Ident["处理标识符或关键字"]
    Num["处理数字"]
    Symbol["处理符号"]
    EndScaner["返回"]

    ScanerStart --&gt; SkipSpaces
    SkipSpaces --&gt; Ident
    SkipSpaces --&gt; Num
    SkipSpaces --&gt; Symbol
    Ident --&gt; EndScaner
    Num --&gt; EndScaner
    Symbol --&gt; EndScaner</pre><ul><li><code>emit</code> 函数流程图</li></ul><pre class="mermaid">graph TD
    EmitStart["调用 emit"]
    GenerateQuad["生成四元式并存储"]
    EndEmit["返回"]

    EmitStart --&gt; GenerateQuad --&gt; EndEmit</pre><ul><li><code>error</code> 函数流程图</li></ul><pre class="mermaid">graph TD
    ErrorStart["调用 error"]
    PrintMsg["打印错误信息"]
    Exit["退出程序"]

    ErrorStart --&gt; PrintMsg --&gt; Exit</pre><p>以下是补充的 <strong>变量检查函数 (<code>is_defined</code>)</strong> 和 <strong>定义变量函数 (<code>define</code>)</strong> 的流程图：</p><hr><p>1 <code>is_defined</code> 函数流程图</p><pre class="mermaid">graph TD
    IsDefinedStart["调用 is_defined"]
    Loop["遍历符号表"]
    CheckMatch["检查是否匹配"]
    Match["返回 true"]
    EndLoop["遍历结束"]
    NoMatch["返回 false"]

    IsDefinedStart --&gt; Loop
    Loop --&gt; CheckMatch
    CheckMatch --&gt;|匹配| Match
    CheckMatch --&gt;|不匹配| Loop
    Loop --&gt;|结束| EndLoop --&gt; NoMatch</pre><hr><p>2 <code>define</code> 函数流程图</p><pre class="mermaid">graph TD
    DefineStart["调用 define"]
    CheckCapacity["检查符号表容量是否已满"]
    AddSymbol["将新变量加入符号表"]
    OverflowError["错误处理 (符号表溢出)"]
    EndDefine["返回"]

    DefineStart --&gt; CheckCapacity
    CheckCapacity --&gt;|未满| AddSymbol --&gt; EndDefine
    CheckCapacity --&gt;|已满| OverflowError --&gt; EndDefine</pre><hr><h2 id="五-结果分析"><a class="markdownIt-Anchor" href="#五-结果分析"></a> 五、结果分析</h2><h3 id="测试用例1合法程序"><a class="markdownIt-Anchor" href="#测试用例1合法程序"></a> 测试用例1：合法程序</h3><p><strong>输入</strong>：</p><figure class="highlight gml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs gml"><span class="hljs-keyword">begin</span><br>  <span class="hljs-variable language_">x</span> := <span class="hljs-number">5</span>;<br>  <span class="hljs-variable language_">y</span> := <span class="hljs-variable language_">x</span> + <span class="hljs-number">3</span>;<br><span class="hljs-keyword">end</span>#<br></code></pre></td></tr></tbody></table></figure><p><strong>输出</strong>：</p><figure class="highlight gml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs gml">(<span class="hljs-number">1</span>) <span class="hljs-variable language_">x</span> = <span class="hljs-number">5</span>  <br>(<span class="hljs-number">2</span>) t1 = <span class="hljs-variable language_">x</span> + <span class="hljs-number">3</span>  <br>(<span class="hljs-number">3</span>) <span class="hljs-variable language_">y</span> = t1  <br>Success!<br></code></pre></td></tr></tbody></table></figure><p><strong>分析</strong>：语法和语义均正确，成功生成中间代码。</p><h3 id="测试用例2缺少end"><a class="markdownIt-Anchor" href="#测试用例2缺少end"></a> 测试用例2：缺少<code>end</code></h3><p><strong>输入</strong>：</p><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css">begin<br>  <span class="hljs-attribute">x</span> := <span class="hljs-number">5</span>;<br>  <span class="hljs-attribute">y</span> := x + <span class="hljs-number">3</span>;<br>#<br></code></pre></td></tr></tbody></table></figure><p><strong>输出</strong>：</p><figure class="highlight subunit"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs subunit"><span class="hljs-keyword">Error: </span>Missing 'end'!<br></code></pre></td></tr></tbody></table></figure><p><strong>分析</strong>：程序末尾缺少 <code>end</code>，语法分析模块正确检测到错误。</p><h3 id="测试用例3未定义变量"><a class="markdownIt-Anchor" href="#测试用例3未定义变量"></a> 测试用例3：未定义变量</h3><p><strong>输入</strong>：</p><figure class="highlight gml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs gml"><span class="hljs-keyword">begin</span><br>  <span class="hljs-variable language_">y</span> := <span class="hljs-variable language_">x</span> + <span class="hljs-number">3</span>;<br><span class="hljs-keyword">end</span>#<br></code></pre></td></tr></tbody></table></figure><p><strong>输出</strong>：</p><figure class="highlight subunit"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs subunit"><span class="hljs-keyword">Error: </span>Variable 'x' is not defined!<br></code></pre></td></tr></tbody></table></figure><p><strong>分析</strong>：变量 <code>x</code> 未定义，语义分析模块正确检测到错误。</p><hr><h2 id="六-课程设计总结"><a class="markdownIt-Anchor" href="#六-课程设计总结"></a> 六、课程设计总结</h2><p>通过本实验，我加深了对编译原理中语法制导翻译的理解，掌握了以下技能：</p><ol><li><strong>语法制导翻译的基本实现</strong>：将语法分析与语义分析结合，完成简单编译器的前端开发。</li><li><strong>中间代码生成</strong>：通过四元式表示复杂的表达式计算。</li><li><strong>错误处理机制</strong>：在词法、语法和语义分析阶段均能准确定位和报告错误。</li></ol><p>实验过程中遇到的主要问题包括：</p><ol><li>对不同语法规则的处理优先级不够明确，导致初始版本生成的语法树错误。</li><li>在标识符定义检查中，符号表操作逻辑不完善，初期出现重复定义的问题。</li></ol><p>改进建议：</p><ol><li>增加对复杂语句（如 <code>if-then-else</code> 结构）的支持。</li><li>实现更优化的符号表查找算法，提高效率。</li><li>在生成四元式时加入类型检查和类型转换的支持。</li></ol></div><footer class="article-footer"><a data-url="http://blog.jinmajue.site/posts/bf342a1b/" data-id="cm5buoi1y002beg94dlfnb8f8" data-title="编译原理实验" class="article-share-link"><span class="fa fa-share">分享</span></a><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/homework/" rel="tag">homework</a></li></ul></footer></div></article><article id="post-考研记录" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting"><div class="article-meta"><a href="/posts/f6573e92/" class="article-date"><time class="dt-published" datetime="2024-09-12T04:29:15.000Z" itemprop="datePublished">2024-09-12</time></a></div><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="p-name article-title" href="/posts/f6573e92/">考研记录</a></h1></header><div class="e-content article-entry" itemprop="articleBody">加密<p class="article-more-link"><a href="/posts/f6573e92/#more">Read More</a></p></div><footer class="article-footer"><a data-url="http://blog.jinmajue.site/posts/f6573e92/" data-id="cm5buoi1y002deg94h6affyux" data-title="考研记录" class="article-share-link"><span class="fa fa-share">分享</span></a><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/fun/" rel="tag">fun</a></li></ul></footer></div></article><article id="post-简历" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting"><div class="article-meta"><a href="/posts/963f9cce/" class="article-date"><time class="dt-published" datetime="2024-09-12T02:52:17.000Z" itemprop="datePublished">2024-09-12</time></a></div><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="p-name article-title" href="/posts/963f9cce/">简历</a></h1></header><div class="e-content article-entry" itemprop="articleBody">这里有东西被加密了，需要输入密码查看哦。<p class="article-more-link"><a href="/posts/963f9cce/#more">Read More</a></p></div><footer class="article-footer"><a data-url="http://blog.jinmajue.site/posts/963f9cce/" data-id="cm5buoi1w0022eg94aulph7nn" data-title="简历" class="article-share-link"><span class="fa fa-share">分享</span></a><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/fun/" rel="tag">fun</a></li></ul></footer></div></article><article id="post-常用正则表达式" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting"><div class="article-meta"><a href="/posts/81d5af05/" class="article-date"><time class="dt-published" datetime="2024-09-09T07:15:54.000Z" itemprop="datePublished">2024-09-09</time></a></div><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="p-name article-title" href="/posts/81d5af05/">常用正则表达式</a></h1></header><div class="e-content article-entry" itemprop="articleBody"><h2 id="正则"><a class="markdownIt-Anchor" href="#正则"></a> 🍔正则</h2><h3 id="火车车次"><a class="markdownIt-Anchor" href="#火车车次"></a> 火车车次</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[<span class="hljs-title class_">GCDZTSPKXLY1</span>-<span class="hljs-number">9</span>]\d{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}$/<br></code></pre></td></tr></tbody></table></figure><h3 id="手机机身码imei"><a class="markdownIt-Anchor" href="#手机机身码imei"></a> 手机机身码(IMEI)</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^\d{<span class="hljs-number">15</span>,<span class="hljs-number">17</span>}$/<br></code></pre></td></tr></tbody></table></figure><h3 id="必须带端口号的网址或ip"><a class="markdownIt-Anchor" href="#必须带端口号的网址或ip"></a> 必须带端口号的网址(或ip)</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^((ht|f)tps?:\/\/)?[\w-]+(\.[\w-]+)+:\d{<span class="hljs-number">1</span>,<span class="hljs-number">5</span>}\/?$/<br></code></pre></td></tr></tbody></table></figure><h3 id="网址url"><a class="markdownIt-Anchor" href="#网址url"></a> 网址(URL)</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^(((ht|f)tps?):\/\/)?([^!@#$%^&amp;*?.\s-]([^!@#$%^&amp;*?.\s]{<span class="hljs-number">0</span>,<span class="hljs-number">63</span>}[^!@#$%^&amp;*?.\s])?\.)+[a-z]{<span class="hljs-number">2</span>,<span class="hljs-number">6</span>}\/?/<br></code></pre></td></tr></tbody></table></figure><h3 id="统一社会信用代码"><a class="markdownIt-Anchor" href="#统一社会信用代码"></a> 统一社会信用代码</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[<span class="hljs-number">0</span>-9A-<span class="hljs-variable constant_">HJ</span>-<span class="hljs-variable constant_">NPQRTUWXY</span>]{<span class="hljs-number">2</span>}\d{<span class="hljs-number">6</span>}[<span class="hljs-number">0</span>-9A-<span class="hljs-variable constant_">HJ</span>-<span class="hljs-variable constant_">NPQRTUWXY</span>]{<span class="hljs-number">10</span>}$/<br></code></pre></td></tr></tbody></table></figure><h3 id="统一社会信用代码宽松匹配15位18位20位数字字母"><a class="markdownIt-Anchor" href="#统一社会信用代码宽松匹配15位18位20位数字字母"></a> 统一社会信用代码(宽松匹配)(15位/18位/20位数字/字母)</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^(([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Za</span>-z]{<span class="hljs-number">15</span>})|([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Za</span>-z]{<span class="hljs-number">18</span>})|([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Za</span>-z]{<span class="hljs-number">20</span>}))$/<br></code></pre></td></tr></tbody></table></figure><h3 id="迅雷链接"><a class="markdownIt-Anchor" href="#迅雷链接"></a> 迅雷链接</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^thunderx?:\/\/[a-zA-Z\d]+=$/<br></code></pre></td></tr></tbody></table></figure><h3 id="ed2k链接宽松匹配"><a class="markdownIt-Anchor" href="#ed2k链接宽松匹配"></a> ed2k链接(宽松匹配)</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^<span class="hljs-attr">ed2k</span>:\/\/\|file\|.+\|\/$/<br></code></pre></td></tr></tbody></table></figure><h3 id="磁力链接宽松匹配"><a class="markdownIt-Anchor" href="#磁力链接宽松匹配"></a> 磁力链接(宽松匹配)</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^<span class="hljs-attr">magnet</span>:\?xt=<span class="hljs-attr">urn</span>:<span class="hljs-attr">btih</span>:[<span class="hljs-number">0</span>-9a-fA-F]{<span class="hljs-number">40</span>,}.*$/<br></code></pre></td></tr></tbody></table></figure><h3 id="子网掩码不包含-0000"><a class="markdownIt-Anchor" href="#子网掩码不包含-0000"></a> 子网掩码(不包含 0.0.0.0)</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^(<span class="hljs-number">254</span>|<span class="hljs-number">252</span>|<span class="hljs-number">248</span>|<span class="hljs-number">240</span>|<span class="hljs-number">224</span>|<span class="hljs-number">192</span>|<span class="hljs-number">128</span>)\<span class="hljs-number">.0</span>\<span class="hljs-number">.0</span>\<span class="hljs-number">.0</span>|<span class="hljs-number">255</span>\.(<span class="hljs-number">254</span>|<span class="hljs-number">252</span>|<span class="hljs-number">248</span>|<span class="hljs-number">240</span>|<span class="hljs-number">224</span>|<span class="hljs-number">192</span>|<span class="hljs-number">128</span>|<span class="hljs-number">0</span>)\<span class="hljs-number">.0</span>\<span class="hljs-number">.0</span>|<span class="hljs-number">255</span>\<span class="hljs-number">.255</span>\.(<span class="hljs-number">254</span>|<span class="hljs-number">252</span>|<span class="hljs-number">248</span>|<span class="hljs-number">240</span>|<span class="hljs-number">224</span>|<span class="hljs-number">192</span>|<span class="hljs-number">128</span>|<span class="hljs-number">0</span>)\<span class="hljs-number">.0</span>|<span class="hljs-number">255</span>\<span class="hljs-number">.255</span>\<span class="hljs-number">.255</span>\.(<span class="hljs-number">255</span>|<span class="hljs-number">254</span>|<span class="hljs-number">252</span>|<span class="hljs-number">248</span>|<span class="hljs-number">240</span>|<span class="hljs-number">224</span>|<span class="hljs-number">192</span>|<span class="hljs-number">128</span>|<span class="hljs-number">0</span>)$/<br></code></pre></td></tr></tbody></table></figure><h3 id="linux隐藏文件路径"><a class="markdownIt-Anchor" href="#linux隐藏文件路径"></a> linux"隐藏文件"路径</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^\/(?:[^<span class="hljs-regexp">/]+\/)*\.[^/]*/</span><br></code></pre></td></tr></tbody></table></figure><h3 id="linux文件夹路径"><a class="markdownIt-Anchor" href="#linux文件夹路径"></a> linux文件夹路径</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^\/(?:[^<span class="hljs-regexp">/]+\/)*$/</span><br></code></pre></td></tr></tbody></table></figure><h3 id="linux文件路径"><a class="markdownIt-Anchor" href="#linux文件路径"></a> linux文件路径</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^\/(?:[^<span class="hljs-regexp">/]+\/)*[^/]+$/</span><br></code></pre></td></tr></tbody></table></figure><h3 id="window文件夹路径"><a class="markdownIt-Anchor" href="#window文件夹路径"></a> window"文件夹"路径</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[a-zA-Z]:\\(?:\w+\\?)*$/<br></code></pre></td></tr></tbody></table></figure><h3 id="window下文件路径"><a class="markdownIt-Anchor" href="#window下文件路径"></a> window下"文件"路径</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[a-zA-Z]:\\(?:\w+\\)*\w+\.\w+$/<br></code></pre></td></tr></tbody></table></figure><h3 id="股票代码a股"><a class="markdownIt-Anchor" href="#股票代码a股"></a> 股票代码(A股)</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^(s[hz]|S[<span class="hljs-variable constant_">HZ</span>])(<span class="hljs-number">000</span>[\d]{<span class="hljs-number">3</span>}|<span class="hljs-number">002</span>[\d]{<span class="hljs-number">3</span>}|<span class="hljs-number">300</span>[\d]{<span class="hljs-number">3</span>}|<span class="hljs-number">600</span>[\d]{<span class="hljs-number">3</span>}|<span class="hljs-number">60</span>[\d]{<span class="hljs-number">4</span>})$/<br></code></pre></td></tr></tbody></table></figure><h3 id="大于等于0-小于等于150-支持小数位出现5-如1455-用于判断考卷分数"><a class="markdownIt-Anchor" href="#大于等于0-小于等于150-支持小数位出现5-如1455-用于判断考卷分数"></a> 大于等于0, 小于等于150, 支持小数位出现5, 如145.5, 用于判断考卷分数</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^<span class="hljs-number">150</span>$|^(?:\d|[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]\d|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">4</span>]\d)(?:\<span class="hljs-number">.5</span>)?$/<br></code></pre></td></tr></tbody></table></figure><h3 id="html注释"><a class="markdownIt-Anchor" href="#html注释"></a> html注释</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/&lt;!--[\s\S]*?--&gt;/g<br></code></pre></td></tr></tbody></table></figure><h3 id="md5格式32位"><a class="markdownIt-Anchor" href="#md5格式32位"></a> md5格式(32位)</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[a-fA-<span class="hljs-variable constant_">F0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">32</span>}$/<br></code></pre></td></tr></tbody></table></figure><h3 id="guiduuid"><a class="markdownIt-Anchor" href="#guiduuid"></a> GUID/UUID</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[a-f\d]{<span class="hljs-number">4</span>}(?:[a-f\d]{<span class="hljs-number">4</span>}-){<span class="hljs-number">4</span>}[a-f\d]{<span class="hljs-number">12</span>}$/i<br></code></pre></td></tr></tbody></table></figure><h3 id="版本号version格式必须为xyz"><a class="markdownIt-Anchor" href="#版本号version格式必须为xyz"></a> 版本号(version)格式必须为X.Y.Z</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^\d+(?:\.\d+){<span class="hljs-number">2</span>}$/<br></code></pre></td></tr></tbody></table></figure><h3 id="视频video链接地址视频格式可按需增删"><a class="markdownIt-Anchor" href="#视频video链接地址视频格式可按需增删"></a> 视频(video)链接地址（视频格式可按需增删）</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^https?:\/\/(.+\/)+.+(\.(swf|avi|flv|mpg|rm|mov|wav|asf|3gp|mkv|rmvb|mp4))$/i<br></code></pre></td></tr></tbody></table></figure><h3 id="图片image链接地址图片格式可按需增删"><a class="markdownIt-Anchor" href="#图片image链接地址图片格式可按需增删"></a> 图片(image)链接地址（图片格式可按需增删）</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^https?:\/\/(.+\/)+.+(\.(gif|png|jpg|jpeg|webp|svg|psd|bmp|tif))$/i<br></code></pre></td></tr></tbody></table></figure><h3 id="24小时制时间hhmmss"><a class="markdownIt-Anchor" href="#24小时制时间hhmmss"></a> 24小时制时间（HH:mm:ss）</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^(?:[<span class="hljs-number">01</span>]\d|<span class="hljs-number">2</span>[<span class="hljs-number">0</span>-<span class="hljs-number">3</span>]):[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>]\<span class="hljs-attr">d</span>:[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>]\d$/<br></code></pre></td></tr></tbody></table></figure><h3 id="12小时制时间hhmmss"><a class="markdownIt-Anchor" href="#12小时制时间hhmmss"></a> 12小时制时间（hh:mm:ss）</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^(?:<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">2</span>]|<span class="hljs-number">0</span>?[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]):[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>]\<span class="hljs-attr">d</span>:[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>]\d$/<br></code></pre></td></tr></tbody></table></figure><h3 id="base64格式"><a class="markdownIt-Anchor" href="#base64格式"></a> base64格式</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^\s*<span class="hljs-attr">data</span>:(?:[a-z]+\/[a-z0-<span class="hljs-number">9</span>-+.]+(?:;[a-z-]+=[a-z0-<span class="hljs-number">9</span>-]+)?)?(?:;base64)?,([a-z0-<span class="hljs-number">9</span>!$&amp;<span class="hljs-string">',()*+;=\-._~:@/?%\s]*?)\s*$/i</span><br></code></pre></td></tr></tbody></table></figure><h3 id="数字货币金额支持负数-千分位分隔符"><a class="markdownIt-Anchor" href="#数字货币金额支持负数-千分位分隔符"></a> 数字/货币金额（支持负数、千分位分隔符）</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^-?\d{<span class="hljs-number">1</span>,<span class="hljs-number">3</span>}(,\d{<span class="hljs-number">3</span>})*(\.\d{<span class="hljs-number">1</span>,<span class="hljs-number">2</span>})?$/<br></code></pre></td></tr></tbody></table></figure><h3 id="银行卡号10到30位-覆盖对公私账户-参考微信支付"><a class="markdownIt-Anchor" href="#银行卡号10到30位-覆盖对公私账户-参考微信支付"></a> 银行卡号（10到30位, 覆盖对公/私账户, 参考<a target="_blank" rel="noopener" href="https://pay.weixin.qq.com/wiki/doc/api/xiaowei.php?chapter=22_1">微信支付</a>）</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]\d{<span class="hljs-number">9</span>,<span class="hljs-number">29</span>}$/<br></code></pre></td></tr></tbody></table></figure><h3 id="中文姓名"><a class="markdownIt-Anchor" href="#中文姓名"></a> 中文姓名</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^(?:[\u4e00-\u9fa5·]{<span class="hljs-number">2</span>,<span class="hljs-number">16</span>})$/<br></code></pre></td></tr></tbody></table></figure><h3 id="英文姓名"><a class="markdownIt-Anchor" href="#英文姓名"></a> 英文姓名</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/(^[a-zA-Z][a-zA-Z\s]{<span class="hljs-number">0</span>,<span class="hljs-number">20</span>}[a-zA-Z]$)/<br></code></pre></td></tr></tbody></table></figure><h3 id="车牌号新能源"><a class="markdownIt-Anchor" href="#车牌号新能源"></a> 车牌号(新能源)</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领][A-<span class="hljs-variable constant_">HJ</span>-<span class="hljs-variable constant_">NP</span>-Z](([<span class="hljs-variable constant_">DF</span>]((?![<span class="hljs-variable constant_">IO</span>])[a-zA-<span class="hljs-variable constant_">Z0</span>-<span class="hljs-number">9</span>](?![<span class="hljs-variable constant_">IO</span>]))[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">4</span>})|([<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">5</span>}[<span class="hljs-variable constant_">DF</span>]))$/<br></code></pre></td></tr></tbody></table></figure><h3 id="车牌号非新能源"><a class="markdownIt-Anchor" href="#车牌号非新能源"></a> 车牌号(非新能源)</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领][A-<span class="hljs-variable constant_">HJ</span>-<span class="hljs-variable constant_">NP</span>-Z][A-<span class="hljs-variable constant_">HJ</span>-<span class="hljs-variable constant_">NP</span>-<span class="hljs-variable constant_">Z0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">4</span>}[A-<span class="hljs-variable constant_">HJ</span>-<span class="hljs-variable constant_">NP</span>-<span class="hljs-variable constant_">Z0</span>-<span class="hljs-number">9</span>挂学警港澳]$/<br></code></pre></td></tr></tbody></table></figure><h3 id="车牌号新能源非新能源"><a class="markdownIt-Anchor" href="#车牌号新能源非新能源"></a> 车牌号(新能源+非新能源)</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领][A-<span class="hljs-variable constant_">HJ</span>-<span class="hljs-variable constant_">NP</span>-Z][A-<span class="hljs-variable constant_">HJ</span>-<span class="hljs-variable constant_">NP</span>-<span class="hljs-variable constant_">Z0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">4</span>,<span class="hljs-number">5</span>}[A-<span class="hljs-variable constant_">HJ</span>-<span class="hljs-variable constant_">NP</span>-<span class="hljs-variable constant_">Z0</span>-<span class="hljs-number">9</span>挂学警港澳]$/<br></code></pre></td></tr></tbody></table></figure><h3 id="手机号mobile-phone中国严谨-根据工信部2019年最新公布的手机号段"><a class="markdownIt-Anchor" href="#手机号mobile-phone中国严谨-根据工信部2019年最新公布的手机号段"></a> 手机号(mobile phone)中国(严谨), 根据工信部2019年最新公布的手机号段</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^(?:(?:\+|<span class="hljs-number">00</span>)<span class="hljs-number">86</span>)?<span class="hljs-number">1</span>(?:(?:<span class="hljs-number">3</span>[\d])|(?:<span class="hljs-number">4</span>[<span class="hljs-number">5</span>-<span class="hljs-number">79</span>])|(?:<span class="hljs-number">5</span>[<span class="hljs-number">0</span>-<span class="hljs-number">35</span>-<span class="hljs-number">9</span>])|(?:<span class="hljs-number">6</span>[<span class="hljs-number">5</span>-<span class="hljs-number">7</span>])|(?:<span class="hljs-number">7</span>[<span class="hljs-number">0</span>-<span class="hljs-number">8</span>])|(?:<span class="hljs-number">8</span>[\d])|(?:<span class="hljs-number">9</span>[<span class="hljs-number">01256789</span>]))\d{<span class="hljs-number">8</span>}$/<br></code></pre></td></tr></tbody></table></figure><h3 id="手机号mobile-phone中国宽松-只要是13141516171819开头即可"><a class="markdownIt-Anchor" href="#手机号mobile-phone中国宽松-只要是13141516171819开头即可"></a> 手机号(mobile phone)中国(宽松), 只要是13,14,15,16,17,18,19开头即可</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^(?:(?:\+|<span class="hljs-number">00</span>)<span class="hljs-number">86</span>)?<span class="hljs-number">1</span>[<span class="hljs-number">3</span>-<span class="hljs-number">9</span>]\d{<span class="hljs-number">9</span>}$/<br></code></pre></td></tr></tbody></table></figure><h3 id="手机号mobile-phone中国最宽松-只要是1开头即可-如果你的手机号是用来接收短信-优先建议选择这一条"><a class="markdownIt-Anchor" href="#手机号mobile-phone中国最宽松-只要是1开头即可-如果你的手机号是用来接收短信-优先建议选择这一条"></a> 手机号(mobile phone)中国(最宽松), 只要是1开头即可, 如果你的手机号是用来接收短信, 优先建议选择这一条</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^(?:(?:\+|<span class="hljs-number">00</span>)<span class="hljs-number">86</span>)?<span class="hljs-number">1</span>\d{<span class="hljs-number">10</span>}$/<br></code></pre></td></tr></tbody></table></figure><h3 id="日期宽松"><a class="markdownIt-Anchor" href="#日期宽松"></a> 日期(宽松)</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^\d{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}(-)(<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">2</span>]|<span class="hljs-number">0</span>?[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>])\<span class="hljs-number">1</span>(<span class="hljs-number">0</span>?[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]|[<span class="hljs-number">1</span>-<span class="hljs-number">2</span>]\d|<span class="hljs-number">30</span>|<span class="hljs-number">31</span>)$/<br></code></pre></td></tr></tbody></table></figure><h3 id="日期严谨-支持闰年判断"><a class="markdownIt-Anchor" href="#日期严谨-支持闰年判断"></a> 日期(严谨, 支持闰年判断)</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^(([<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">3</span>}[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]|[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">2</span>}[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">1</span>}|[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">1</span>}[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">2</span>}|[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">3</span>})-(((<span class="hljs-number">0</span>[<span class="hljs-number">13578</span>]|<span class="hljs-number">1</span>[<span class="hljs-number">02</span>])-(<span class="hljs-number">0</span>[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]|[<span class="hljs-number">12</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-number">3</span>[<span class="hljs-number">01</span>]))|((<span class="hljs-number">0</span>[<span class="hljs-number">469</span>]|<span class="hljs-number">11</span>)-(<span class="hljs-number">0</span>[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]|[<span class="hljs-number">12</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-number">30</span>))|(<span class="hljs-number">02</span>-(<span class="hljs-number">0</span>[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]|[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-number">2</span>[<span class="hljs-number">0</span>-<span class="hljs-number">8</span>]))))|((([<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">2</span>})(<span class="hljs-number">0</span>[<span class="hljs-number">48</span>]|[<span class="hljs-number">2468</span>][<span class="hljs-number">048</span>]|[<span class="hljs-number">13579</span>][<span class="hljs-number">26</span>])|((<span class="hljs-number">0</span>[<span class="hljs-number">48</span>]|[<span class="hljs-number">2468</span>][<span class="hljs-number">048</span>]|[<span class="hljs-number">3579</span>][<span class="hljs-number">26</span>])<span class="hljs-number">00</span>))-<span class="hljs-number">02</span>-<span class="hljs-number">29</span>)$/<br></code></pre></td></tr></tbody></table></figure><h3 id="中国省"><a class="markdownIt-Anchor" href="#中国省"></a> 中国省</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^浙江|上海|北京|天津|重庆|黑龙江|吉林|辽宁|内蒙古|河北|新疆|甘肃|青海|陕西|宁夏|河南|山东|山西|安徽|湖北|湖南|江苏|四川|贵州|云南|广西|西藏|江西|广东|福建|台湾|海南|香港|澳门$/<br></code></pre></td></tr></tbody></table></figure><h3 id="可以被moment转化成功的时间-yyyymmdd-hhmmss"><a class="markdownIt-Anchor" href="#可以被moment转化成功的时间-yyyymmdd-hhmmss"></a> 可以被moment转化成功的时间 YYYYMMDD HH:mm:ss</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^\d{<span class="hljs-number">4</span>}([<span class="hljs-regexp">/:-\S])(1[0-2]|0?[1-9])\1(0?[1-9]|[1-2]\d|30|31) (?:[01]\d|2[0-3]):[0-5]\d:[0-5]\d$/</span><br></code></pre></td></tr></tbody></table></figure><h3 id="email邮箱"><a class="markdownIt-Anchor" href="#email邮箱"></a> email(邮箱)</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^(([^<span class="language-xml"><span class="hljs-tag">&lt;&gt;</span>()[\]\\.,;:\s@"]+(\.[^<span class="hljs-tag">&lt;&gt;</span>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/</span><br></code></pre></td></tr></tbody></table></figure><h3 id="座机tel-phone电话国内如-0341-86091234"><a class="markdownIt-Anchor" href="#座机tel-phone电话国内如-0341-86091234"></a> 座机(tel phone)电话(国内),如: 0341-86091234</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^(?:(?:\d{<span class="hljs-number">3</span>}-)?\d{<span class="hljs-number">8</span>}|^(?:\d{<span class="hljs-number">4</span>}-)?\d{<span class="hljs-number">7</span>,<span class="hljs-number">8</span>})(?:-\d+)?$/<br></code></pre></td></tr></tbody></table></figure><h3 id="身份证号1代15位数字"><a class="markdownIt-Anchor" href="#身份证号1代15位数字"></a> 身份证号(1代,15位数字)</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]\d{<span class="hljs-number">7</span>}(?:<span class="hljs-number">0</span>\d|<span class="hljs-number">10</span>|<span class="hljs-number">11</span>|<span class="hljs-number">12</span>)(?:<span class="hljs-number">0</span>[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]|[<span class="hljs-number">1</span>-<span class="hljs-number">2</span>][\d]|<span class="hljs-number">30</span>|<span class="hljs-number">31</span>)\d{<span class="hljs-number">3</span>}$/<br></code></pre></td></tr></tbody></table></figure><h3 id="身份证号2代18位数字最后一位是校验位可能为数字或字符x"><a class="markdownIt-Anchor" href="#身份证号2代18位数字最后一位是校验位可能为数字或字符x"></a> 身份证号(2代,18位数字),最后一位是校验位,可能为数字或字符X</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]\d{<span class="hljs-number">5</span>}(?:<span class="hljs-number">18</span>|<span class="hljs-number">19</span>|<span class="hljs-number">20</span>)\d{<span class="hljs-number">2</span>}(?:<span class="hljs-number">0</span>[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]|<span class="hljs-number">10</span>|<span class="hljs-number">11</span>|<span class="hljs-number">12</span>)(?:<span class="hljs-number">0</span>[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]|[<span class="hljs-number">1</span>-<span class="hljs-number">2</span>]\d|<span class="hljs-number">30</span>|<span class="hljs-number">31</span>)\d{<span class="hljs-number">3</span>}[\dXx]$/<br></code></pre></td></tr></tbody></table></figure><h3 id="身份证号-支持12代15位18位数字"><a class="markdownIt-Anchor" href="#身份证号-支持12代15位18位数字"></a> 身份证号, 支持1/2代(15位/18位数字)</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^\d{<span class="hljs-number">6</span>}((((((<span class="hljs-number">19</span>|<span class="hljs-number">20</span>)\d{<span class="hljs-number">2</span>})(<span class="hljs-number">0</span>[<span class="hljs-number">13</span>-<span class="hljs-number">9</span>]|<span class="hljs-number">1</span>[<span class="hljs-number">012</span>])(<span class="hljs-number">0</span>[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]|[<span class="hljs-number">12</span>]\d|<span class="hljs-number">30</span>))|(((<span class="hljs-number">19</span>|<span class="hljs-number">20</span>)\d{<span class="hljs-number">2</span>})(<span class="hljs-number">0</span>[<span class="hljs-number">13578</span>]|<span class="hljs-number">1</span>[<span class="hljs-number">02</span>])<span class="hljs-number">31</span>)|((<span class="hljs-number">19</span>|<span class="hljs-number">20</span>)\d{<span class="hljs-number">2</span>})<span class="hljs-number">02</span>(<span class="hljs-number">0</span>[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]|<span class="hljs-number">1</span>\d|<span class="hljs-number">2</span>[<span class="hljs-number">0</span>-<span class="hljs-number">8</span>])|((((<span class="hljs-number">19</span>|<span class="hljs-number">20</span>)([<span class="hljs-number">13579</span>][<span class="hljs-number">26</span>]|[<span class="hljs-number">2468</span>][<span class="hljs-number">048</span>]|<span class="hljs-number">0</span>[<span class="hljs-number">48</span>]))|(<span class="hljs-number">2000</span>))<span class="hljs-number">0229</span>))\d{<span class="hljs-number">3</span>})|((((\d{<span class="hljs-number">2</span>})(<span class="hljs-number">0</span>[<span class="hljs-number">13</span>-<span class="hljs-number">9</span>]|<span class="hljs-number">1</span>[<span class="hljs-number">012</span>])(<span class="hljs-number">0</span>[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]|[<span class="hljs-number">12</span>]\d|<span class="hljs-number">30</span>))|((\d{<span class="hljs-number">2</span>})(<span class="hljs-number">0</span>[<span class="hljs-number">13578</span>]|<span class="hljs-number">1</span>[<span class="hljs-number">02</span>])<span class="hljs-number">31</span>)|((\d{<span class="hljs-number">2</span>})<span class="hljs-number">02</span>(<span class="hljs-number">0</span>[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]|<span class="hljs-number">1</span>\d|<span class="hljs-number">2</span>[<span class="hljs-number">0</span>-<span class="hljs-number">8</span>]))|(([<span class="hljs-number">13579</span>][<span class="hljs-number">26</span>]|[<span class="hljs-number">2468</span>][<span class="hljs-number">048</span>]|<span class="hljs-number">0</span>[<span class="hljs-number">048</span>])<span class="hljs-number">0229</span>))\d{<span class="hljs-number">2</span>}))(\d|X|x)$/<br></code></pre></td></tr></tbody></table></figure><h3 id="护照包含香港-澳门"><a class="markdownIt-Anchor" href="#护照包含香港-澳门"></a> 护照（包含香港、澳门）</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/(^[<span class="hljs-title class_">EeKkGgDdSsPpHh</span>]\d{<span class="hljs-number">8</span>}$)|(^(([<span class="hljs-title class_">Ee</span>][a-fA-F])|([<span class="hljs-title class_">DdSsPp</span>][<span class="hljs-title class_">Ee</span>])|([<span class="hljs-title class_">Kk</span>][<span class="hljs-title class_">Jj</span>])|([<span class="hljs-title class_">Mm</span>][<span class="hljs-title class_">Aa</span>])|(<span class="hljs-number">1</span>[<span class="hljs-number">45</span>]))\d{<span class="hljs-number">7</span>}$)/<br></code></pre></td></tr></tbody></table></figure><h3 id="帐号是否合法字母开头允许5-16字节允许字母数字下划线组合"><a class="markdownIt-Anchor" href="#帐号是否合法字母开头允许5-16字节允许字母数字下划线组合"></a> 帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线组合</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[a-zA-Z]\w{<span class="hljs-number">4</span>,<span class="hljs-number">15</span>}$/<br></code></pre></td></tr></tbody></table></figure><h3 id="中文汉字"><a class="markdownIt-Anchor" href="#中文汉字"></a> 中文/汉字</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^(?:[\u3400-\u4DB5\u4E00-\u9FEA\uFA0E\uFA0F\uFA11\uFA13\uFA14\uFA1F\uFA21\uFA23\uFA24\uFA27-\uFA29]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0])+$/<br></code></pre></td></tr></tbody></table></figure><h3 id="小数支持科学计数"><a class="markdownIt-Anchor" href="#小数支持科学计数"></a> 小数(支持科学计数)</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[+-]?(\d+([.]\d*)?([eE][+-]?\d+)?|[.]\d+([eE][+-]?\d+)?)$/<br></code></pre></td></tr></tbody></table></figure><h3 id="只包含数字"><a class="markdownIt-Anchor" href="#只包含数字"></a> 只包含数字</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^\d+$/<br></code></pre></td></tr></tbody></table></figure><h3 id="html标签宽松匹配"><a class="markdownIt-Anchor" href="#html标签宽松匹配"></a> html标签(宽松匹配)</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/&lt;(\w+)[^&gt;]*&gt;(.*?<span class="language-xml">&lt;\/\1&gt;</span>)?/<br></code></pre></td></tr></tbody></table></figure><h3 id="匹配中文汉字和中文标点"><a class="markdownIt-Anchor" href="#匹配中文汉字和中文标点"></a> 匹配中文汉字和中文标点</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/[\u4e00-\u9fa5|\u3002|\uff1f|\uff01|\uff0c|\u3001|\uff1b|\uff1a|\u201c|\u201d|\u2018|\u2019|\uff08|\uff09|\u300a|\u300b|\u3008|\u3009|\u3010|\u3011|\u300e|\u300f|\u300c|\u300d|\ufe43|\ufe44|\u3014|\u3015|\u2026|\u2014|\uff5e|\ufe4f|\uffe5]/<br></code></pre></td></tr></tbody></table></figure><h3 id="qq号格式正确"><a class="markdownIt-Anchor" href="#qq号格式正确"></a> qq号格式正确</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">4</span>,<span class="hljs-number">10</span>}$/<br></code></pre></td></tr></tbody></table></figure><h3 id="数字和字母组成"><a class="markdownIt-Anchor" href="#数字和字母组成"></a> 数字和字母组成</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[A-<span class="hljs-title class_">Za</span>-z0-<span class="hljs-number">9</span>]+$/<br></code></pre></td></tr></tbody></table></figure><h3 id="英文字母"><a class="markdownIt-Anchor" href="#英文字母"></a> 英文字母</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[a-zA-Z]+$/<br></code></pre></td></tr></tbody></table></figure><h3 id="小写英文字母组成"><a class="markdownIt-Anchor" href="#小写英文字母组成"></a> 小写英文字母组成</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[a-z]+$/<br></code></pre></td></tr></tbody></table></figure><h3 id="大写英文字母"><a class="markdownIt-Anchor" href="#大写英文字母"></a> 大写英文字母</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[A-Z]+$/<br></code></pre></td></tr></tbody></table></figure><h3 id="密码强度校验最少6位包括至少1个大写字母1个小写字母1个数字1个特殊字符"><a class="markdownIt-Anchor" href="#密码强度校验最少6位包括至少1个大写字母1个小写字母1个数字1个特殊字符"></a> 密码强度校验，最少6位，包括至少1个大写字母，1个小写字母，1个数字，1个特殊字符</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^\S*(?=\S{<span class="hljs-number">6</span>,})(?=\S*\d)(?=\S*[A-Z])(?=\S*[a-z])(?=\S*[!@#$%^&amp;*? ])\S*$/<br></code></pre></td></tr></tbody></table></figure><h3 id="用户名校验4到16位字母数字下划线减号"><a class="markdownIt-Anchor" href="#用户名校验4到16位字母数字下划线减号"></a> 用户名校验，4到16位（字母，数字，下划线，减号）</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[\w-]{<span class="hljs-number">4</span>,<span class="hljs-number">16</span>}$/<br></code></pre></td></tr></tbody></table></figure><h3 id="ip-v4端口"><a class="markdownIt-Anchor" href="#ip-v4端口"></a> ip-v4[:端口]</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^((\d|[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]\d|<span class="hljs-number">1</span>\d\d|<span class="hljs-number">2</span>[<span class="hljs-number">0</span>-<span class="hljs-number">4</span>]\d|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])\.){<span class="hljs-number">3</span>}(\d|[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]\d|<span class="hljs-number">1</span>\d\d|<span class="hljs-number">2</span>[<span class="hljs-number">0</span>-<span class="hljs-number">4</span>]\d|<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])(?::(?:[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">1</span>,<span class="hljs-number">3</span>}|[<span class="hljs-number">1</span>-<span class="hljs-number">5</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">4</span>}|<span class="hljs-number">6</span>[<span class="hljs-number">0</span>-<span class="hljs-number">4</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">3</span>}|<span class="hljs-number">65</span>[<span class="hljs-number">0</span>-<span class="hljs-number">4</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">2</span>}|<span class="hljs-number">655</span>[<span class="hljs-number">0</span>-<span class="hljs-number">2</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-number">6553</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>]))?$/<br></code></pre></td></tr></tbody></table></figure><h3 id="ip-v6端口"><a class="markdownIt-Anchor" href="#ip-v6端口"></a> ip-v6[:端口]</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/(^(?:(?:(?:[<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">7</span>}[<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>})|(([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">6</span>}:[<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>})|(([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">5</span>}:([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:)?[<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>})|(([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">4</span>}:([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">0</span>,<span class="hljs-number">2</span>}[<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>})|(([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">3</span>}:([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">0</span>,<span class="hljs-number">3</span>}[<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>})|(([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">2</span>}:([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">0</span>,<span class="hljs-number">4</span>}[<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>})|(([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">6</span>}((\<span class="hljs-title function_">b</span>((<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])|(<span class="hljs-number">1</span>\d{<span class="hljs-number">2</span>})|(<span class="hljs-number">2</span>[<span class="hljs-number">0</span>-<span class="hljs-number">4</span>]\d)|(\d{<span class="hljs-number">1</span>,<span class="hljs-number">2</span>}))\b)\.){<span class="hljs-number">3</span>}(\<span class="hljs-title function_">b</span>((<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])|(<span class="hljs-number">1</span>\d{<span class="hljs-number">2</span>})|(<span class="hljs-number">2</span>[<span class="hljs-number">0</span>-<span class="hljs-number">4</span>]\d)|(\d{<span class="hljs-number">1</span>,<span class="hljs-number">2</span>}))\b))|(([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">0</span>,<span class="hljs-number">5</span>}:((\<span class="hljs-title function_">b</span>((<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])|(<span class="hljs-number">1</span>\d{<span class="hljs-number">2</span>})|(<span class="hljs-number">2</span>[<span class="hljs-number">0</span>-<span class="hljs-number">4</span>]\d)|(\d{<span class="hljs-number">1</span>,<span class="hljs-number">2</span>}))\b)\.){<span class="hljs-number">3</span>}(\<span class="hljs-title function_">b</span>((<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])|(<span class="hljs-number">1</span>\d{<span class="hljs-number">2</span>})|(<span class="hljs-number">2</span>[<span class="hljs-number">0</span>-<span class="hljs-number">4</span>]\d)|(\d{<span class="hljs-number">1</span>,<span class="hljs-number">2</span>}))\b))|(::([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">0</span>,<span class="hljs-number">5</span>}((\<span class="hljs-title function_">b</span>((<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])|(<span class="hljs-number">1</span>\d{<span class="hljs-number">2</span>})|(<span class="hljs-number">2</span>[<span class="hljs-number">0</span>-<span class="hljs-number">4</span>]\d)|(\d{<span class="hljs-number">1</span>,<span class="hljs-number">2</span>}))\b)\.){<span class="hljs-number">3</span>}(\<span class="hljs-title function_">b</span>((<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])|(<span class="hljs-number">1</span>\d{<span class="hljs-number">2</span>})|(<span class="hljs-number">2</span>[<span class="hljs-number">0</span>-<span class="hljs-number">4</span>]\d)|(\d{<span class="hljs-number">1</span>,<span class="hljs-number">2</span>}))\b))|([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}::([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">0</span>,<span class="hljs-number">5</span>}[<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>})|(::([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">0</span>,<span class="hljs-number">6</span>}[<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>})|(([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">1</span>,<span class="hljs-number">7</span>}:))$)|(^\[(?:(?:(?:[<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">7</span>}[<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>})|(([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">6</span>}:[<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>})|(([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">5</span>}:([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:)?[<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>})|(([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">4</span>}:([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">0</span>,<span class="hljs-number">2</span>}[<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>})|(([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">3</span>}:([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">0</span>,<span class="hljs-number">3</span>}[<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>})|(([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">2</span>}:([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">0</span>,<span class="hljs-number">4</span>}[<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>})|(([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">6</span>}((\<span class="hljs-title function_">b</span>((<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])|(<span class="hljs-number">1</span>\d{<span class="hljs-number">2</span>})|(<span class="hljs-number">2</span>[<span class="hljs-number">0</span>-<span class="hljs-number">4</span>]\d)|(\d{<span class="hljs-number">1</span>,<span class="hljs-number">2</span>}))\b)\.){<span class="hljs-number">3</span>}(\<span class="hljs-title function_">b</span>((<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])|(<span class="hljs-number">1</span>\d{<span class="hljs-number">2</span>})|(<span class="hljs-number">2</span>[<span class="hljs-number">0</span>-<span class="hljs-number">4</span>]\d)|(\d{<span class="hljs-number">1</span>,<span class="hljs-number">2</span>}))\b))|(([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">0</span>,<span class="hljs-number">5</span>}:((\<span class="hljs-title function_">b</span>((<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])|(<span class="hljs-number">1</span>\d{<span class="hljs-number">2</span>})|(<span class="hljs-number">2</span>[<span class="hljs-number">0</span>-<span class="hljs-number">4</span>]\d)|(\d{<span class="hljs-number">1</span>,<span class="hljs-number">2</span>}))\b)\.){<span class="hljs-number">3</span>}(\<span class="hljs-title function_">b</span>((<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])|(<span class="hljs-number">1</span>\d{<span class="hljs-number">2</span>})|(<span class="hljs-number">2</span>[<span class="hljs-number">0</span>-<span class="hljs-number">4</span>]\d)|(\d{<span class="hljs-number">1</span>,<span class="hljs-number">2</span>}))\b))|(::([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">0</span>,<span class="hljs-number">5</span>}((\<span class="hljs-title function_">b</span>((<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])|(<span class="hljs-number">1</span>\d{<span class="hljs-number">2</span>})|(<span class="hljs-number">2</span>[<span class="hljs-number">0</span>-<span class="hljs-number">4</span>]\d)|(\d{<span class="hljs-number">1</span>,<span class="hljs-number">2</span>}))\b)\.){<span class="hljs-number">3</span>}(\<span class="hljs-title function_">b</span>((<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>])|(<span class="hljs-number">1</span>\d{<span class="hljs-number">2</span>})|(<span class="hljs-number">2</span>[<span class="hljs-number">0</span>-<span class="hljs-number">4</span>]\d)|(\d{<span class="hljs-number">1</span>,<span class="hljs-number">2</span>}))\b))|([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}::([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">0</span>,<span class="hljs-number">5</span>}[<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>})|(::([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">0</span>,<span class="hljs-number">6</span>}[<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>})|(([<span class="hljs-number">0</span>-9A-<span class="hljs-title class_">Fa</span>-f]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}:){<span class="hljs-number">1</span>,<span class="hljs-number">7</span>}:))\](?::(?:[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">1</span>,<span class="hljs-number">3</span>}|[<span class="hljs-number">1</span>-<span class="hljs-number">5</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">4</span>}|<span class="hljs-number">6</span>[<span class="hljs-number">0</span>-<span class="hljs-number">4</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">3</span>}|<span class="hljs-number">65</span>[<span class="hljs-number">0</span>-<span class="hljs-number">4</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">2</span>}|<span class="hljs-number">655</span>[<span class="hljs-number">0</span>-<span class="hljs-number">2</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]|<span class="hljs-number">6553</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>]))?$)/i<br></code></pre></td></tr></tbody></table></figure><h3 id="16进制颜色"><a class="markdownIt-Anchor" href="#16进制颜色"></a> 16进制颜色</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^#?([a-fA-<span class="hljs-variable constant_">F0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">6</span>}|[a-fA-<span class="hljs-variable constant_">F0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">3</span>}|[a-fA-<span class="hljs-variable constant_">F0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">8</span>}|[a-fA-<span class="hljs-variable constant_">F0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">4</span>})$/<br></code></pre></td></tr></tbody></table></figure><h3 id="微信号wx6至20位以字母开头字母数字减号下划线"><a class="markdownIt-Anchor" href="#微信号wx6至20位以字母开头字母数字减号下划线"></a> 微信号(wx)，6至20位，以字母开头，字母，数字，减号，下划线</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[a-zA-Z][-_a-zA-<span class="hljs-variable constant_">Z0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">5</span>,<span class="hljs-number">19</span>}$/<br></code></pre></td></tr></tbody></table></figure><h3 id="邮政编码中国"><a class="markdownIt-Anchor" href="#邮政编码中国"></a> 邮政编码(中国)</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^(<span class="hljs-number">0</span>[<span class="hljs-number">1</span>-<span class="hljs-number">7</span>]|<span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">356</span>]|<span class="hljs-number">2</span>[<span class="hljs-number">0</span>-<span class="hljs-number">7</span>]|<span class="hljs-number">3</span>[<span class="hljs-number">0</span>-<span class="hljs-number">6</span>]|<span class="hljs-number">4</span>[<span class="hljs-number">0</span>-<span class="hljs-number">7</span>]|<span class="hljs-number">5</span>[<span class="hljs-number">1</span>-<span class="hljs-number">7</span>]|<span class="hljs-number">6</span>[<span class="hljs-number">1</span>-<span class="hljs-number">7</span>]|<span class="hljs-number">7</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>]|<span class="hljs-number">8</span>[<span class="hljs-number">013</span>-<span class="hljs-number">6</span>])\d{<span class="hljs-number">4</span>}$/<br></code></pre></td></tr></tbody></table></figure><h3 id="中文和数字"><a class="markdownIt-Anchor" href="#中文和数字"></a> 中文和数字</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^((?:[\u3400-\u4DB5\u4E00-\u9FEA\uFA0E\uFA0F\uFA11\uFA13\uFA14\uFA1F\uFA21\uFA23\uFA24\uFA27-\uFA29]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0])|(\d))+$/<br></code></pre></td></tr></tbody></table></figure><h3 id="不能包含字母"><a class="markdownIt-Anchor" href="#不能包含字母"></a> 不能包含字母</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[^A-<span class="hljs-title class_">Za</span>-z]*$/<br></code></pre></td></tr></tbody></table></figure><h3 id="java包名"><a class="markdownIt-Anchor" href="#java包名"></a> java包名</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^([a-zA-<span class="hljs-variable constant_">Z_</span>]\w*)+([.][a-zA-<span class="hljs-variable constant_">Z_</span>]\w*)+$/<br></code></pre></td></tr></tbody></table></figure><h3 id="mac地址"><a class="markdownIt-Anchor" href="#mac地址"></a> mac地址</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^(([a-f0-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,<span class="hljs-number">6</span>,<span class="hljs-number">8</span>,a,c,e]:([a-f0-<span class="hljs-number">9</span>]{<span class="hljs-number">2</span>}:){<span class="hljs-number">4</span>})|([a-f0-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,<span class="hljs-number">6</span>,<span class="hljs-number">8</span>,a,c,e]-([a-f0-<span class="hljs-number">9</span>]{<span class="hljs-number">2</span>}-){<span class="hljs-number">4</span>}))[a-f0-<span class="hljs-number">9</span>]{<span class="hljs-number">2</span>}$/i<br></code></pre></td></tr></tbody></table></figure><h3 id="匹配连续重复的字符"><a class="markdownIt-Anchor" href="#匹配连续重复的字符"></a> 匹配连续重复的字符</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/(.)\<span class="hljs-number">1</span>+/<br></code></pre></td></tr></tbody></table></figure><h3 id="数字和英文字母组成并且同时含有数字和英文字母"><a class="markdownIt-Anchor" href="#数字和英文字母组成并且同时含有数字和英文字母"></a> 数字和英文字母组成，并且同时含有数字和英文字母</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^(?=.*[a-zA-Z])(?=.*\d).+$/<br></code></pre></td></tr></tbody></table></figure><h3 id="香港身份证"><a class="markdownIt-Anchor" href="#香港身份证"></a> 香港身份证</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[a-zA-Z]\d{<span class="hljs-number">6</span>}\([\dA]\)$/<br></code></pre></td></tr></tbody></table></figure><h3 id="澳门身份证"><a class="markdownIt-Anchor" href="#澳门身份证"></a> 澳门身份证</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[<span class="hljs-number">1</span>|<span class="hljs-number">5</span>|<span class="hljs-number">7</span>]\d{<span class="hljs-number">6</span>}\(\d\)$/<br></code></pre></td></tr></tbody></table></figure><h3 id="台湾身份证"><a class="markdownIt-Anchor" href="#台湾身份证"></a> 台湾身份证</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[a-zA-Z][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">9</span>}$/<br></code></pre></td></tr></tbody></table></figure><h3 id="大写字母小写字母数字特殊符号-~-中任意3项密码"><a class="markdownIt-Anchor" href="#大写字母小写字母数字特殊符号-~-中任意3项密码"></a> 大写字母，小写字母，数字，特殊符号 <code>@#$%^&amp;*</code>~()-+=` 中任意3项密码</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^(?![a-zA-Z]+$)(?![A-<span class="hljs-variable constant_">Z0</span>-<span class="hljs-number">9</span>]+$)(?![A-Z\<span class="hljs-variable constant_">W_</span>!@#$%^&amp;*<span class="hljs-string">`~()-+=]+$)(?![a-z0-9]+$)(?![a-z\W_!@#$%^&amp;*`</span>~()-+=]+$)(?![<span class="hljs-number">0</span>-<span class="hljs-number">9</span>\<span class="hljs-variable constant_">W_</span>!@#$%^&amp;*<span class="hljs-string">`~()-+=]+$)[a-zA-Z0-9\W_!@#$%^&amp;*`</span>~()-+=]/<br></code></pre></td></tr></tbody></table></figure><h3 id="ascii码表中的全部的特殊字符"><a class="markdownIt-Anchor" href="#ascii码表中的全部的特殊字符"></a> ASCII码表中的全部的特殊字符</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/[\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7E]+/<br></code></pre></td></tr></tbody></table></figure><h3 id="正整数不包含0"><a class="markdownIt-Anchor" href="#正整数不包含0"></a> 正整数，不包含0</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^\+?[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]\d*$/<br></code></pre></td></tr></tbody></table></figure><h3 id="负整数不包含0"><a class="markdownIt-Anchor" href="#负整数不包含0"></a> 负整数，不包含0</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^-[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]\d*$/<br></code></pre></td></tr></tbody></table></figure><h3 id="整数"><a class="markdownIt-Anchor" href="#整数"></a> 整数</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^(?:<span class="hljs-number">0</span>|(?:-?[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]\d*))$/<br></code></pre></td></tr></tbody></table></figure><h3 id="浮点数"><a class="markdownIt-Anchor" href="#浮点数"></a> 浮点数</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^(-?[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]\d*\.\d+|-?<span class="hljs-number">0</span>\.\d*[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]\d*|<span class="hljs-number">0</span>\<span class="hljs-number">.0</span>+)$/<br></code></pre></td></tr></tbody></table></figure><h3 id="浮点数严格"><a class="markdownIt-Anchor" href="#浮点数严格"></a> 浮点数(严格)</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^(-?[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]\d*\.\d+|-?<span class="hljs-number">0</span>\.\d*[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>])$/<br></code></pre></td></tr></tbody></table></figure><h3 id="email支持中文邮箱"><a class="markdownIt-Anchor" href="#email支持中文邮箱"></a> email(支持中文邮箱)</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[A-<span class="hljs-title class_">Za</span>-z0-<span class="hljs-number">9</span>\u4e00-\u9fa5]+@[a-zA-<span class="hljs-variable constant_">Z0</span>-9_-]+(\.[a-zA-<span class="hljs-variable constant_">Z0</span>-9_-]+)+$/<br></code></pre></td></tr></tbody></table></figure><h3 id="域名非网址-不包含协议"><a class="markdownIt-Anchor" href="#域名非网址-不包含协议"></a> 域名(非网址, 不包含协议)</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^([<span class="hljs-number">0</span>-9a-zA-Z-]{<span class="hljs-number">1</span>,}\.)+([a-zA-Z]{<span class="hljs-number">2</span>,})$/<br></code></pre></td></tr></tbody></table></figure><h3 id="军官士兵证"><a class="markdownIt-Anchor" href="#军官士兵证"></a> 军官/士兵证</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/^[\u4E00-\u9FA5](字第)([<span class="hljs-number">0</span>-9a-zA-Z]{<span class="hljs-number">4</span>,<span class="hljs-number">8</span>})(号?)$/<br></code></pre></td></tr></tbody></table></figure><h3 id="户口薄"><a class="markdownIt-Anchor" href="#户口薄"></a> 户口薄</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">/(^\d{<span class="hljs-number">15</span>}$)|(^\d{<span class="hljs-number">18</span>}$)|(^\d{<span class="hljs-number">17</span>}(\d|X|x)$)/<br></code></pre></td></tr></tbody></table></figure></div><footer class="article-footer"><a data-url="http://blog.jinmajue.site/posts/81d5af05/" data-id="cm5buoi1u001seg946hix6qf7" data-title="常用正则表达式" class="article-share-link"><span class="fa fa-share">分享</span></a><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/notes/" rel="tag">notes</a></li></ul></footer></div></article><article id="post-《蛊真人》语录" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting"><div class="article-meta"><a href="/posts/1eb878e0/" class="article-date"><time class="dt-published" datetime="2024-09-05T01:24:16.000Z" itemprop="datePublished">2024-09-05</time></a></div><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="p-name article-title" href="/posts/1eb878e0/">《蛊真人》语录</a></h1></header><div class="e-content article-entry" itemprop="articleBody"><h1 id="蛊真人经典语录"><a class="markdownIt-Anchor" href="#蛊真人经典语录"></a> 《蛊真人》经典语录</h1><blockquote><p>简介：人是万物之灵，蛊是天地真精。 三观不正，魔头重生。 昔日旧梦，同名新作。 一个穿越者不断重生的故事。 一个养蛊、炼蛊、用蛊的奇特世界。 春秋蝉、月光蛊、酒虫、一气金光虫、青丝蛊、希望蛊…… 还有一个纵情纵横的绝世大魔头！</p></blockquote><p><a href="/downloads/%E8%9B%8A%E7%9C%9F%E4%BA%BA.epub">下载 蛊真人小说</a></p><p><a href="/downloads/%E3%80%8A%E4%BA%BA%E7%A5%96%E4%BC%A0%E3%80%8B%E6%A8%AA%E7%89%88%E7%B2%BE%E6%8E%92%E5%B8%A6%E7%9B%AE%E5%BD%95%E7%89%88.pdf">下载 人祖传</a></p><ol><li></li></ol><p>他心中一片平静。 辱骂于我何加焉？ 想骂就骂吧，骂了能怎样？ 心胸浅薄之人，常会因为咒骂而愤怒，因为夸赞而喜悦。 但其实这些都不过是旁人对你的看法罢了。因为旁人的看法，而活着的人，注定是可怜的人。</p><ol start="2"><li></li></ol><p>这个世界上，总会有一群“老”人。他们四处兜售着社会的经验，把他人的理想当做幻想，把他人的热情当做轻狂，把他人的坚持当做桀骜。他们常在教训后辈中，寻找自己的存在感和优越感</p><ol start="3"><li></li></ol><p>人们总是害怕孤独，总要贪恋热闹的人群，总不愿无所事事。 因为当他们面对孤独，往往就会面对痛苦。 但是一旦能直面这种痛苦，人就往往有了才华和勇气。所以。有句俗语――杰出者必孤独。</p><ol start="4"><li></li></ol><p>“我喜欢无足鸟，你知道为什么吗？ 他的笑容，着实有些渗人。 “为什么？” “因为它没有鸟足，只有翅膀。因此只能飞翔。当它落地之时，就意味着它的毁灭。” 孤注一掷，不飞则死！</p><ol start="5"><li></li></ol><p>潮水只有击打在礁石上，才能碰触出美丽的浪花。人只有在不断的斗争中，才能感觉到生的光彩啊。</p><ol start="6"><li></li></ol><p>遵守规矩不算是本事，真正的本事是破坏规矩而享受利益，却不受惩罚。真正的大本事，是破坏旧秩序，建立新规矩，一直享受利益。</p><ol start="7"><li></li></ol><p>不过是些许风霜罢了。</p><ol start="8"><li></li></ol><p>我们既然意识到自己的渺小，那就更应该变得强大。我们本来就是渺小的，只是从无知变得有知，你感到痛苦，是因为你在成长。</p><ol start="9"><li></li></ol><p>人生匆匆百年，如梦幻泡影。人活在这个世界上是为了什么？无非是走上一遭见证精彩罢了。我虽然不想死，但却不畏惧死亡。我已走在路上，纵死不悔。</p><ol start="10"><li></li></ol><p>这世间没有绝境，只有对处境绝望的人。 解决问题的答案就在我们自己的手中，当审视内心时，便会发现奇迹伟力就在我身！ 发现自己，认识自己，靠自己</p><ol start="11"><li></li></ol><p>真正可靠的还是自己，真正成熟的人，永远不会依靠别人雪中送炭。</p><ol start="12"><li></li></ol><p>此生就愿成真月，出天山，戏云海，照古今，行走在黑暗的诸天之上。</p><ol start="13"><li></li></ol><p>但战斗之所以精彩，就是因为强大未必会胜利，弱小也不一定会倒下。</p><ol start="14"><li></li></ol><p>早岁已知世事艰，仍许飞鸿荡云间。 一路寒风身如絮，命海沉浮客独行。 千磨万击心铸铁，殚精竭虑铸一剑。 今朝剑指叠云处，炼蛊炼人还炼天！</p><ol start="15"><li></li></ol><p>但凡会死亡的，都是平等的。无非是早死、晚死的些微区别罢了。 所谓的身份和阶级，高贵和低贱，都不过是一群等死的蠢货，所玩弄的虚假的把戏。这种把戏通过对比，让其中一部分的蠢货觉得自己活得挺好，挺不错。 事实上，那些自认为高贵，有身份的蠢货，都不过是自欺欺人罢了。那些自认为自己低贱卑下的蠢货，更是悲哀。王侯将相宁有种乎！万物生来就平等，何须低头向他人？</p><ol start="16"><li></li></ol><p>不要期望他人对自己的亲爱，不要渴望世界对自己的善意，不要奢求命运的垂青，一切都要靠自己。</p><ol start="17"><li></li></ol><p>青山落日,秋月春风。当真是朝如青丝暮成雪,是非成败转头空。</p><ol start="18"><li></li></ol><p>但凡上当受骗的人，难道真的是因为他们蠢笨吗？ 不是，只是他们内心愿意去相信罢了。</p><ol start="19"><li></li></ol><p>俗话说，红颜祸水。 一位美人，不是那么好追求的。 只有单纯的人，才想着只用爱情和感动，就能征服一个美人。 其实远远不止这些。 女人的美丽，就是天然的嫁妆。 这笔嫁妆丰厚至极，是一大笔的财富。 谁不想获得这样的财富？ 但不是谁都有能力守护得住这样的财富。 如果有美人，愿意因为单纯的爱情，而将这笔财富交给另一半。那么就请幸运儿好好对待吧。 但事实上，这种情况太少太少。 如果有就请珍惜，如果没有，也不要奢望。 不要说“俗”。 因为这就是，现实</p><ol start="20"><li></li></ol><p>寒风扑面而来，少年忽的一笑：“不过是些许风霜罢了。” ——古月方源</p><ol start="21"><li></li></ol><p>“岂不闻天无绝人之路？只要我想走，路就在脚下！” ——古月方源</p><ol start="22"><li></li></ol><p>失败和耻辱会使人进步。没有失败，是淬炼不出一个成熟的男人的。</p><ol start="23"><li></li></ol><p>人们往往在了解什么是生命之前，已将自己的生命消磨了一半。—时间、爱情等等，莫不是如此。</p><ol start="24"><li></li></ol><p>一伸手，水晃月散。 这世间的人，亦常常如此。看到月影，就以为是真月。 殊不知，只是井中之月，眼中之月，心中之月罢了。 “此生就愿成真月，出天山，戏云海，照古今，行走在黑暗的诸天之上。”方源双目澄澈，瞳眸中倒映着锦绣青山。</p><ol start="25"><li></li></ol><p>真魔只忠于自己，在黑暗孤独朝圣，只走自己的路。 真魔可以去敬佩他人，但永不可能臣服于他人。 真魔皆是自己的君王，至高无上!</p><ol start="26"><li></li></ol><p>“这个世界上，谈何对错？孰对孰错？只是每个人的道路不同罢了。”</p><ol start="27"><li></li></ol><p>人生如梦，朝露夕花，宛若泡影。</p><ol start="28"><li></li></ol><p>千古地仙随风逝，昔曰三王归青冢。 阳莽憾陨谁无败？卷土重来再称王。 天河一挂淘龙鱼，逆天独行顾八荒。 今曰暂且展翼去，明朝登仙笞凤凰 。</p><ol start="29"><li></li></ol><p>态度是心的面具</p><ol start="30"><li></li></ol><p>这个世界其实是灰色的。有时候黑的能转成白的，白的能转成黑的。有的黑的未必比白的阴险，有的白的可能罪孽更深。</p><ol start="31"><li></li></ol><p>人，本就是天地间的宝石。只是宝石璀璨与否，需要我们自己的雕琢。我们的每一次努力，每一次选择，都是一次雕琢。</p><ol start="32"><li></li></ol><p>每个人他生来就是孤独！ 人就像是一座座的浮冰孤岛，在命运的海洋中漂浮流荡。 人和人的相遇，就像是浮冰孤岛之间的相互碰撞，只要是碰撞，就必有影响。 有时候，浮冰孤岛相互粘在了一起，以“利益”、“亲情”、“友情”、“爱情”、“仇恨”之名。 但是最终，它们都将分开。孤独地走向毁灭。 这就是人生的真相。</p><ol start="33"><li></li></ol><p>当一个人惧怕的时候，他就成了奴隶。</p><ol start="34"><li></li></ol><p>人不是山石，也不是浪花，人是有思想的。往往胡思乱想，才最是可怕，最有力量！</p><ol start="35"><li></li></ol><p>因为困难多壮志，不教红尘惑坚心，今身暂且栖草头，它日狂歌踏山河。</p><ol start="36"><li></li></ol><p>魔头披着佛陀的外衣，行走在光明之下。</p><ol start="37"><li></li></ol><p>滴水之恩涌泉相报，星火之仇燎原往复！</p><ol start="38"><li></li></ol><p>朝如青丝暮成雪，是非成败转头空</p><ol start="39"><li></li></ol><p>既然老天不偏爱我，师傅不宠爱我，旁人不看好我。我只有更爱我自己，我只有更看好我自己，我只有更依靠我自己。我只有更努力，我只有更冒险，我只有更奋发！只有这样，我才能有成就！但正道讲纲常，讲伦理，讲情义，讲资历，讲辈分。我这样的一个人，小人物，没有背景，没有天赋，没有资源，你说我拿什么来成功？” “走正道，我只能被剥削欺压，仰望你们这些公子，这些天才。我只能熬资历熬到我垂垂老矣，却成就微小。这就是正道啊……什么狗屁正道！” “只有成魔，摒弃伦理情义，抛弃世俗规矩，付出惨重代价，才能另辟蹊径，于荆棘当中，闯出一条属于自己的路来！所以，我就暗算了你，夺了你的血海真传，我就成魔了。哈哈，那就让我成魔吧！”</p><ol start="40"><li></li></ol><p>不理智的善良即是犯罪。</p><ol start="41"><li></li></ol><p>白雪尽皑皑，天地我独行。独行无牵挂，孤影任去来。</p><ol start="42"><li></li></ol><p>天若有情天亦老，大道无情至公。每一个存在都有问鼎的机会，就看如何把握，如何争锋！ 这个世界上，没有人生来就是一辈子的配角。也没有人。会是永恒的主角。 万物相争，优胜劣汰。</p><ol start="43"><li></li></ol><p>一味的发挥自己的优势，本就是人生的一大谎言。</p><ol start="44"><li></li></ol><p>千万不要低估旁人的智慧，往往只有蠢才才会认为别人愚蠢。</p><ol start="45"><li></li></ol><p>我以前希望长生不老，但现在却渐渐厌烦了这个想法。生活变得越来越无聊，有时候路的终点并不重要。重要的是走路的过程，以及走路时候的心态。”</p><ol start="46"><li></li></ol><p>他面无表情，不管走多少步，逆流河永远流淌在他的脚下，仿佛是绝大的命运的嘲笑。 但是他仍旧走着。 他从前世五百年走来，不知要走到什么时候。 但他知道，自己要去往何方。 似乎……没有人能阻止他。 至少……如今的逆流中，已经无人可阻。</p><ol start="47"><li></li></ol><p>人啊，走在自己的人生路上，就不要怕肮脏！踩着白骨和血肉，一步步走向辉煌！人啊，走在自己的人生路上，就不要怕悲伤！踏着汗水和泪水，一步步行向光芒！人啊！走在自己的人生路上，就不要怕仿徨！循着信念和理想，一步步走出迷惘！人啊！走在自己的人生路上，就注定要漂泊流浪！无需愤恨你没有知己，因为你还有自己！去吧，走向巅峰，踏向属于自己的天堂。</p><ol start="48"><li></li></ol><p>“有利可图的正义，才能广为传播，才有实际遵循的可能。这样的正义，才是坚实稳定的。太高尚的正义，反而有些虚假，得不到广泛施行效仿，只会让正义显得孱弱不堪。”</p><ol start="49"><li></li></ol><p>面对困境，就把心交给希望</p><ol start="50"><li></li></ol><p>魔不魔，正不正，天地自有凤九歌。走不走，留不留，死生皆在我心头。</p><ol start="51"><li></li></ol><p>甘于弱小，而不自发努力，只想向强者乞讨的人，根本就不值得同情。</p><ol start="52"><li></li></ol><p>在狂热顽皮的爱情面前,思想和智慧都只能退避三舍。</p><ol start="53"><li></li></ol><p>孤独是最深邃的黑暗</p><ol start="54"><li></li></ol><p>“这就是人的可悲之处啊。”方源趺坐着，看着门外傻傻站着的漠颜，心中感慨，“有的时候，阻止人行动的，往往不是物质上的难题，而是心灵的枷锁。”</p><ol start="55"><li></li></ol><p>烂耀眼的王位下，铺设的是万千白骨。</p><ol start="56"><li></li></ol><p>人生匆匆百年，不过一场豪赌。</p><ol start="57"><li></li></ol><p>人在寻找成功的过程中，往往变得面目全非。</p><ol start="58"><li></li></ol><p>石人啊，为了表达你的爱情，你不再硬气，放下固执，丢掉尊严，甚至舍弃了自信。但是我看到的，却是个丑陋不堪的石人啊。你起来，我不会接受你对我的爱，我还有更重要的事情要去做呢。</p><ol start="59"><li></li></ol><p>方源道:“我走魔道，就从未怕得罪人。只要自身不断地强大，复仇算什么?十个人复仇，我就是杀十个人，百个人复仇，我就杀百人。若全世界复仇，我就杀了全世界!如果我被人复仇成功，那就证明我不够强，不够努力，懈怠了修行，死了也活该!”</p><ol start="60"><li></li></ol><p>仙路阻且长，相逢于天涯。 岁月忽已晚，情仇已绵长。 君思仙尽头，我思君安危。 生死两茫茫，为君梦还乡。</p><ol start="61"><li></li></ol><p>如果这世间单纯的仇恨、憎恶、咒骂有用，那还需要力量做什么？”</p><ol start="62"><li></li></ol><p>他的威名让四海凛然，让人谈之色变。 理解他的人敬佩他尊崇他爱戴他，恨他的人咬牙切齿，施展各种手段，却只能让他越来越强。 他走在自己的路上，孤独包裹着他，冷漠的眸子能洞悉一切虚伪。 对于批判否决，他嗤笑不屑。对于虚夸阿谀，他冷笑不语。 他耐得住寂寞，甚至享受寂寞。 他不是走向成功，那么就是走向毁灭。 他是一个勇士，他走在黑暗中独自朝圣，一路披荆斩棘，不管是什么都不能阻挡他。神挡杀神，佛挡杀佛！</p><ol start="63"><li></li></ol><p>踏上真正高位的人，哪一个双手不沾着血，踏着尸骨？资本家的资金原始积累，都是血腥的。任何的政治家都是肮脏的。所谓的慈善家，都是拿金钱换取社会名望的。 只是成功者，大多矫饰遮掩了过往的不堪。被成功者的自传骗住的人才是蠢材</p><ol start="64"><li></li></ol><p>男儿当世，自当如此，不受世俗拘束。纵横无忌，看谁不顺眼就杀谁。心恶时屠戮万物，心善时福泽苍生。天下皆随我心而动，主宰一切，将所有敢于反抗自己的敌人踩在脚下。这才是大自在，大畅快的人生啊！</p><ol start="65"><li></li></ol><p>孤独是最深邃的黑暗，而亲情的光只是一种假象。</p><ol start="66"><li></li></ol><p>在这自然中，万物都在抗争，都在生存，并不是仅仅只有人而已。这个天地，就是用生和死来演 绎精彩的大舞台啊！</p><ol start="67"><li></li></ol><p>可惜人们总是害怕孤独，总要贪恋热闹的人群，总不愿无所事事。因为当他们面对孤独，往往就会面对痛苦。但是一旦能直面这种痛苦，人就往往有了才华和勇气。所以。有句俗语――杰出者必孤独。“这就是孤独的滋味啊，每每品味，都更加坚定我追求魔道之决心！”</p><ol start="68"><li></li></ol><p>有些东西，往往只有失去了，才能看得明白。</p><ol start="69"><li></li></ol><p>永生缥缈非我求，长生无为老愧羞。 界壁消散乱世起，宿命一去竞自由。 鹰击长空鲸霸海，不试怎知龙与蚯? 凡夫俗子岂识我，非到末路不甘休!</p><ol start="70"><li></li></ol><p>一双两好缠绵久，万转千回缱绻多。细细的，慢慢的，经年累月，把岁月汇聚在一起，有曲折，有翻搓，有纠缠。搓草绳，不就是人生经历 《蛊真人》</p><ol start="71"><li></li></ol><p>“我们都是小人，都想走出平凡的深渊。”</p><ol start="72"><li></li></ol><p>“你怎么没有罪。你的弱小就是罪啊!”话音刚落，方源便射出落魄印。</p><ol start="73"><li></li></ol><p>月如霜满夜,刀光尤冷寒。严冬不肃杀,何以见阳春!</p><ol start="74"><li></li></ol><p>居高临下，目光洞穿繁芜世事。或抽丝剥茧，或一针见血。我自居高笑傲，冷看世间之人如颗颗棋子，遵循着各自的规矩，按部就班地行进。</p><ol start="75"><li></li></ol><p>未来的路，会很精彩呢</p><ol start="76"><li></li></ol><p>雄山漫道真如铁，如今迈步从头越。 险就一身乾坤精，我心依旧望苍天。</p><ol start="77"><li></li></ol><p>遇到困境，就将心交给希望。</p><ol start="78"><li></li></ol><p>态度是心的面具在寻找成功的过程中，人往往会变得面目全非，而人最大的失败，就是失去自我。</p><ol start="79"><li></li></ol><p>“山延万里渊九重，蟠居井底鳅鳝蚌。今朝奋髯云乍起，矫首上凌飞太清。”</p><ol start="80"><li></li></ol><p>自己蛊见人祖意兴阑珊，笑道：“人祖啊，你应该高兴才是。你要知道，发现自己，认识自己，是人生的第一件大事。自己才是世间最可靠的</p><ol start="81"><li></li></ol><p>世间不如意之事，十之八九啊。</p><ol start="82"><li></li></ol><p>人的一生之精彩，在于自己追逐梦想的过程。不必苛求旁人的不失望或者喜欢。 走自己的路，让旁人失望和不喜欢去吧！</p><ol start="83"><li></li></ol><p>弱肉强食，适者生存，本来就是这世间的本质。</p><ol start="84"><li></li></ol><p>历经五十四次劫，劫云仍旧漫遮天。 胸中魂光压众生，拳里剑气纵北原。 时来时去四百载，无死何能生新颜? 弃此残躯换清风，卷席苍穹复光年!</p><ol start="85"><li></li></ol><p>歌声寥落，英雄落魄，难挡命途多舛。 折剑沉沙，千古兴亡，不尽天河滚荡。 忧愁… 幽夜漫漫魂梦长，问何处安乡？ 物换心移几春秋。唯天意苍茫。</p><ol start="86"><li></li></ol><p>忽然他轻笑出声：“想我堂堂一代魔头巨擘，何时畏首畏尾，如此瞻前顾后？只要有一线希望，就该勇于出手。只要有滔天的利益。就该奋不顾身。富贵险中求，什么稳中求胜，慢慢积累？我就是要一步登天！”“没错，就这个方案了！失败就死无葬身之地。成功就如蛟龙升天，对今后大计更为有利。呵呵呵，哈哈哈，人生匆匆百年。不过一场豪赌！”</p><ol start="87"><li></li></ol><p>而且，我从不相信什么诚信。所谓的信誉，都是狗屁，不过是利益小，打动不了内心罢了。”</p><ol start="88"><li></li></ol><p>忠诚自己，是对他人的背叛。 忠诚他人，是对自己的背叛。</p><ol start="89"><li></li></ol><p>只要我想，以我的魔道巨擘的手段，整个青茅山都可以玩弄于股掌之间，不过他们也配？</p><ol start="90"><li></li></ol><p>人的一生之精彩，在于自己追逐梦想的过程。不必苛求旁人的不失望或者喜欢。</p><ol start="91"><li></li></ol><p>长凡不凡， 武庸不庸　 永生飘渺非我求， 长生无为老愧羞　 界壁消散乱世起，宿命一去竞自由。　 鹰击长空鲸霸海，不试怎知龙与蚯。　 凡夫俗子岂识我， 非到末路不甘休</p><ol start="92"><li></li></ol><p>醉一回 梦一场 宿命之歌响四方 赌一回 狂一场 宿命之光照八荒 拼一回 赴一场 宿命之战携手闯 战到日月都无光 未散场</p><ol start="93"><li></li></ol><p>梦里轻烟天外客， 夜夜梦中唤心魂。 纵是百年无缘分， 解脱俗尘梦纯真。</p><ol start="94"><li></li></ol><p>红尘漩涡不由己，何朝散发弄扁舟？乘风破浪三万里，方是我辈魔道人！</p><ol start="95"><li></li></ol><p>所谓的美色，到头来，也不过是黄土一捧而已。 尘归尘，土归土。 美丽的少女，在天地中，不过和鲜花一样。或是被路边的脚步践踏，或是时间到了枯萎老去，成为丑陋的肥料滋润土地。 没有永生，再美好的东西也是镜花水月啊。存在的价值，不过是刹那的芳华罢了。</p><ol start="96"><li></li></ol><p>“这一切的一切都是宿命。” “我们每一个人，每一个生命，乃至每一块山石，每一滴水，每一团火，既然在这个世间存在，就必有存在的意义和价值。善恶也是如此，没有善，哪里来的恶？没有恶，又何必谈善？”</p><ol start="97"><li></li></ol><p>不论哪个世界上，总有一群弱者，乞讨强者的施舍，死皮赖脸又不知分寸。好像帮助他们才是强者的风范，不帮助他们就是不对的事情。</p><ol start="98"><li></li></ol><p>魔不魔，正不正，天地自有凤九歌。 走不走，留不留，死生皆在我心头。 魔道正道，这两种阵营，两种身份，都不能拘束我凤九歌! 是走还是留，对于我凤九歌而言，走了就是我心之死，留下才是我心之生。 凡事依凭本心。 我就是我。 我就是凤九歌。 一直都是!</p><ol start="99"><li></li></ol><p>所谓团结，不过是因为彼此弱小。 人脉这种东西，在地球上的确需要。毕竟人和人之间，在本身力量上是不会有质的区别。但这世界是能修行的世界，从根本上就不一样。 人脉不过是力量的附属品，只要自身强大，人脉就会攀附而来。 但凡追求人脉关系，必是有求于 他人。 甚至不需要人脉――只要自身强大无比，什么东西都可信手拈来，不给就抢杀，还需要什么人脉关系?</p><ol start="100"><li></li></ol><p>“你说：小时候，你想成为顶天立地的人物，就像是正道的那些传奇人物那样。少年时，觉得成为一族族长也不错。青年时，能够成为家老就感觉很棒了。中年后，被家族流放，现其实能养得活自己，养得起身上的蛊虫，就能让自己满意。” “我不会这样，让梦想随着年龄而萎缩。” “这个世界太大，而我们都是</p></div><footer class="article-footer"><a data-url="http://blog.jinmajue.site/posts/1eb878e0/" data-id="cm5buoi1r001beg949q9af0mf" data-title="《蛊真人》语录" class="article-share-link"><span class="fa fa-share">分享</span></a><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/notes/" rel="tag">notes</a></li></ul></footer></div></article><article id="post-血型性格论" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting"><div class="article-meta"><a href="/posts/e16739a2/" class="article-date"><time class="dt-published" datetime="2024-08-20T03:26:36.000Z" itemprop="datePublished">2024-08-20</time></a></div><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="p-name article-title" href="/posts/e16739a2/">血型性格论</a></h1></header><div class="e-content article-entry" itemprop="articleBody"><p>以下是四种血型性格特点的全面总结：</p><h3 id="a型血"><a class="markdownIt-Anchor" href="#a型血"></a> A型血</h3><ul><li><strong>性格特点</strong>：A型血的人通常具有高度责任感，善于组织和规划，注重细节。他们性格内敛，追求稳定和安全感，喜欢在熟悉的环境中工作和生活。因其谨慎性格，他们在决策时往往考虑周全，避免冒险。尽管外表温和，但内心可能承受较大压力。</li><li><strong>社交倾向</strong>：A型血的人在社交中表现得有礼貌、体贴，擅长维持和谐的关系。他们重视他人的感受，通常愿意为他人付出，但有时会因为太过顾虑他人而忽视自己内心的需求，导致情感上的压抑。</li></ul><h3 id="b型血"><a class="markdownIt-Anchor" href="#b型血"></a> B型血</h3><ul><li><strong>性格特点</strong>：B型血的人个性活泼外向，富有创造力和冒险精神。他们不拘泥于规则，喜欢尝试新鲜事物，能够灵活应对变化。他们追求自由和独立，不喜欢被束缚，倾向于随心所欲地生活。尽管如此，他们在面对困难时往往表现出较强的适应能力。</li><li><strong>社交倾向</strong>：在社交场合中，B型血的人通常表现得开朗、自信，容易结交新朋友。他们喜欢在轻松愉快的氛围中交流，但有时可能显得过于自我中心或不够考虑他人感受，这可能导致人际关系上的摩擦。</li></ul><h3 id="o型血"><a class="markdownIt-Anchor" href="#o型血"></a> O型血</h3><ul><li><strong>性格特点</strong>：O型血的人通常充满自信，目标明确，具有较强的领导才能。他们思维清晰，逻辑性强，擅长解决问题和制定计划。在行动上，他们果断且执行力强，喜欢掌控局面，追求成就和成功。他们对自己的要求较高，常常设定远大的目标并全力以赴。</li><li><strong>社交倾向</strong>：O型血的人在社交中表现得大方、自信，容易吸引他人的注意力。他们喜欢成为团体中的领导者，并且善于调动他人的积极性。然而，由于他们的强势个性，有时可能会忽视他人的感受或意见，导致与他人产生冲突。</li></ul><h3 id="ab型血"><a class="markdownIt-Anchor" href="#ab型血"></a> AB型血</h3><ul><li><strong>性格特点</strong>：AB型血的人性格复杂，具有多重特质，既能冷静分析，又能表现出富有创意的一面。他们思维敏捷，情绪变化多样，常常表现出矛盾的特质，既有理性的一面，也有感性的一面。他们追求个人空间，但也希望与他人建立深刻的联系，往往在理性与感性之间寻找平衡。</li><li><strong>社交倾向</strong>：AB型血的人在社交中灵活多变，能够迅速适应不同的社交场合。他们既能独立处理事务，又能融入群体，表现出双重性格特征。在与他人交往时，他们能够理解和包容不同的观点，但有时可能显得难以捉摸或情绪化，这可能影响他人对他们的信任感。</li></ul><p>这些性格特点反映了不同血型的人在思维方式、行为习惯和社交倾向上的差异。虽然血型与性格之间的联系并非绝对，但这些总结提供了一种有趣的视角，帮助人们理解自己和他人的性格特点。</p></div><footer class="article-footer"><a data-url="http://blog.jinmajue.site/posts/e16739a2/" data-id="cm5buoi1z002eeg940iy38jpj" data-title="血型性格论" class="article-share-link"><span class="fa fa-share">分享</span></a><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/notes/" rel="tag">notes</a></li></ul></footer></div></article><nav id="page-nav"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">下一页 &raquo;</a></nav></section><aside id="sidebar"><div class="widget-wrap"><h3 class="widget-title">分类</h3><div class="widget"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%81%8B%E7%88%B1%E5%BF%85%E4%BF%AE%E8%AF%BE/">恋爱必修课</a></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">标签</h3><div class="widget"><ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/articles/" rel="tag">articles</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fun/" rel="tag">fun</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/homework/" rel="tag">homework</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/notes/" rel="tag">notes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tips/" rel="tag">tips</a></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">标签云</h3><div class="widget tagcloud"><a href="/tags/articles/" style="font-size:15px">articles</a> <a href="/tags/fun/" style="font-size:10px">fun</a> <a href="/tags/homework/" style="font-size:10px">homework</a> <a href="/tags/notes/" style="font-size:20px">notes</a> <a href="/tags/tips/" style="font-size:10px">tips</a></div></div><div class="widget-wrap"><h3 class="widget-title">归档</h3><div class="widget"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/12/">十二月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/11/">十一月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/10/">十月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/09/">九月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">八月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/05/">五月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/04/">四月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">二月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">一月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">十二月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">十一月 2023</a></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">最新文章</h3><div class="widget"><ul><li><a href="/posts/dd6e3900/">一言</a></li><li><a href="/posts/889eb448/">编译原理-期末预习</a></li><li><a href="/posts/540c6e02/">如何阅读科研论文</a></li><li><a href="/posts/6536aa06/">编译原理概念速查</a></li><li><a href="/posts/bf342a1b/">编译原理实验</a></li></ul></div></div></aside></div><footer id="footer"><div class="outer"><div id="footer-info" class="inner">&copy; 2024 VestJin---靳马珏<br>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a></div></div></footer></div><nav id="mobile-nav"><a href="/" class="mobile-nav-link">Home</a> <a href="/archives" class="mobile-nav-link">Archives</a></nav><script src="/js/jquery-3.6.4.min.js"></script><script src="/fancybox/jquery.fancybox.min.js"></script><script src="/js/script.js"></script></div></body></html>